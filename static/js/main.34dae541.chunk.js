/*! For license information please see main.34dae541.chunk.js.LICENSE.txt */
(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[7],{1029:function(e,t,n){},1030:function(e,t,n){},1033:function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"CLIENT_TOOL_HEAD_TYPE",(function(){return gt})),n.d(i,"CLIENT_TOOL_NAME",(function(){return ft})),n.d(i,"DEFAULT_FONT",(function(){return ut})),n.d(i,"DEFAULT_TEXT_MAX_WIDTH",(function(){return st})),n.d(i,"EAnnotationMode",(function(){return Ke})),n.d(i,"EAuditStatus",(function(){return nt})),n.d(i,"ECheckModel",(function(){return Me})),n.d(i,"EDependPattern",(function(){return Xe})),n.d(i,"EDragTarget",(function(){return $e})),n.d(i,"EDrawPointPattern",(function(){return et})),n.d(i,"EFilterToolOperation",(function(){return Ge})),n.d(i,"ELineColor",(function(){return Qe})),n.d(i,"ELineTypes",(function(){return Ye})),n.d(i,"EPageOperator",(function(){return tt})),n.d(i,"EPointCloudName",(function(){return je})),n.d(i,"EPolygonPattern",(function(){return dt})),n.d(i,"ERectPattern",(function(){return Re})),n.d(i,"EScribblePattern",(function(){return ht})),n.d(i,"ESelectedType",(function(){return _e})),n.d(i,"ETextType",(function(){return it})),n.d(i,"EThumbnailOption",(function(){return rt})),n.d(i,"EToolName",(function(){return De})),n.d(i,"EToolType",(function(){return Ee})),n.d(i,"EVideoToolName",(function(){return Te})),n.d(i,"ImageLabelTool",(function(){return vt})),n.d(i,"OPERATION_LIST",(function(){return at})),n.d(i,"PcZRange",(function(){return mt})),n.d(i,"PointSize",(function(){return yt})),n.d(i,"Radiuses",(function(){return xt})),n.d(i,"SEGMENT_NUMBER",(function(){return bt})),n.d(i,"TEXT_ATTRIBUTE_LINE_HEIGHT",(function(){return lt})),n.d(i,"TEXT_ATTRIBUTE_MAX_LENGTH",(function(){return ct})),n.d(i,"TEXT_TYPE",(function(){return ot})),n.d(i,"TOOL_NAME",(function(){return qe})),n.d(i,"edgeAdsorptionScope",(function(){return pt})),n.d(i,"editStepWidth",(function(){return We}));var a={};n.r(a),n.d(a,"ANNOTATION_MAX_SIZE",(function(){return Yt})),n.d(a,"DEFAULT_TEXT_OFFSET",(function(){return Qt})),n.d(a,"DEFAULT_TEXT_SHADOW",(function(){return _t})),n.d(a,"EDragStatus",(function(){return Jt})),n.d(a,"EDragTarget",(function(){return Wt})),n.d(a,"EGrowthMode",(function(){return Gt})),n.d(a,"ELang",(function(){return qt})),n.d(a,"EPageOperator",(function(){return Ut})),n.d(a,"ERotateDirection",(function(){return Kt})),n.d(a,"ESortDirection",(function(){return Xt})),n.d(a,"EStepType",(function(){return Nt})),n.d(a,"TEXT_ATTRIBUTE_OFFSET",(function(){return $t})),n.d(a,"footerHeight",(function(){return zt})),n.d(a,"headerHeight",(function(){return Bt})),n.d(a,"sidebarWidth",(function(){return Ft})),n.d(a,"tipsHeight",(function(){return Zt}));var r={};n.r(r),n.d(r,"default",(function(){return Ei}));var o=n(40),c=n.n(o),l=n(44),s=n(0),u=n.n(s),d=n(1087),h=n(188),g=n(28),f=n(437),b=n(447),p=n(281),v=n.n(p),m=(n(463),n(13)),y=n(24),x=n(1085),O=n(1083),w=n(1097),k=n(138),L=(n(464),n(251)),C=n(3),S=n(201),I=n(451),A=n(419),P=n.n(A).a.create({timeout:6e3});P.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),P.interceptors.response.use((function(e){var t;return null!=e&&null!==(t=e.data)&&void 0!==t&&t.message,null==e?void 0:e.data}),(function(e){var t,n="系统异常";return n=null!=e&&null!==(t=e.message)&&void 0!==t&&t.includes("Network Error")?"网络错误，请检查您的网络":null==e?void 0:e.message,e.message&&I.b.error(n),{status:!1,message:n,result:null}}));var j,T=function(e,t,n,i){return t=""+t,"post"===e?P.post(t,n,i):P.get(t,Object(C.a)({params:n},i))};function E(){var e=/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)?"MOBILE":"DESKTOP";return{device:e,collapsed:"DESKTOP"!==e}}var D=Object(C.a)(Object(C.a)({},E()),{},{noticeCount:0,locale:localStorage.getItem("locale")||"zh_CN",newUser:null===(j=JSON.parse(localStorage.getItem("newUser")))||void 0===j||j,logged:!!localStorage.getItem("t"),menuList:[],username:localStorage.getItem("username")||"",role:localStorage.getItem("username")||""}),M=Object(S.b)({name:"user",initialState:D,reducers:{setUserItem:function(e,t){t.payload.username!==e.username&&localStorage.setItem("username",t.payload.username||""),Object.assign(e,t.payload)}}}),R=M.actions.setUserItem,N=M.reducer,V=function(e){return function(){var t=Object(y.a)(Object(m.a)().mark((function t(n,i){var a,r;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T("post","/user/login",e);case 2:if(a=t.sent,r=a.result,!a.status){t.next=10;break}return localStorage.setItem("t",r.token),localStorage.setItem("username",r.username),n(R({logged:!0,username:r.username})),t.abrupt("return",!0);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};function H(e){var t=(e=(e=decodeURIComponent(e)).substr(1)).split("&"),n={},i=[];return t.forEach((function(e,t){i=e.split("="),void 0===n[i[0]]&&(n[i[0]]=i[1])})),n}var B,Z,z,F,U,J=n(9),W={username:"guest",password:"guest"},X=function(){var e=Object(L.d)(),t=Object(L.c)(),n=Object(l.d)(),i=function(){var i=Object(y.a)(Object(m.a)().mark((function i(a){var r,o;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=n,i.next=3,V(a);case 3:i.t1=i.sent,(0,i.t0)(i.t1)&&(r=H(t.search),o=r.from||{pathname:"/"},e(o));case 6:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}();return Object(J.b)("div",{className:"login-page",children:Object(J.c)(x.a,{onFinish:i,className:"login-page-form",initialValues:W,children:[Object(J.b)("h2",{children:"Label Bee Platform"}),Object(J.b)(x.a.Item,{name:"username",rules:[{required:!0,message:"请输入用户名！"}],children:Object(J.b)(O.a,{placeholder:"用户名"})}),Object(J.b)(x.a.Item,{name:"password",rules:[{required:!0,message:"请输入密码！"}],children:Object(J.b)(O.a,{type:"password",placeholder:"密码"})}),Object(J.b)(x.a.Item,{name:"remember",valuePropName:"checked",children:Object(J.b)(w.a,{children:"记住用户"})}),Object(J.b)(x.a.Item,{children:Object(J.b)(k.a,{htmlType:"submit",type:"primary",className:"login-page-form_button",children:"登录"})})]})})},G=n(4),q=n(1066),K=n(1091),Y=(n(481),n(445)),Q=n.p+"static/media/guide.b3971822.svg",_=n.p+"static/media/permission.6cc1c9ab.svg",$=n.p+"static/media/dashboard.da3a1489.svg",ee=n.p+"static/media/account.b982a58b.svg",te=n.p+"static/media/documentation.dbc2d128.svg",ne=function(e){var t=e.type,n=Object(J.b)("img",{alt:"menu-guide",src:Q});return n="guide"===t?Object(J.b)("img",{src:Q,alt:"menu-guide",style:{width:20}}):"permission"===t?Object(J.b)("img",{alt:"menu-permission",src:_}):"dashboard"===t?Object(J.b)("img",{alt:"menu-dashboard",src:$}):"account"===t?Object(J.b)("img",{alt:"menu-account",src:ee}):"documentation"===t?Object(J.b)("img",{alt:"menu-documentation",src:te}):Object(J.b)("img",{alt:"menu-guide",src:Q}),Object(J.b)("span",{className:"anticon",children:n})},ie=Y.a.SubMenu,ae=Y.a.Item,re=function(e){var t=e.menuList,n=Object(s.useState)([]),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(s.useState)([]),c=Object(G.a)(o,2),u=c[0],d=c[1],h=Object(l.e)((function(e){return e.user})),g=h.collapsed,f=h.device,b=h.locale,p=Object(l.d)(),v=Object(L.d)(),m=Object(L.c)().pathname,y=function(e){return Object(J.c)("span",{style:{display:"flex",alignItems:"center"},children:[Object(J.b)(ne,{type:e.icon}),Object(J.b)("span",{children:e.label[b]})]})},x=function(e){if(e.path!==m){var t=e.key,n=e.path;d([t]),"DESKTOP"!==f&&p(R({collapsed:!0})),v(n)}};Object(s.useEffect)((function(){d([m]),r(g?[]:["/"+m.split("/")[1]])}),[g,m]);return Object(J.b)(Y.a,{mode:"inline",theme:"light",selectedKeys:u,openKeys:a,onOpenChange:function(e){var t=e.pop();r(t?[t]:[])},className:"layout-page-sider-menu",children:null==t?void 0:t.map((function(e){return e.children?Object(J.b)(ie,{title:y(e),children:e.children.map((function(e){return Object(J.b)(ae,{onClick:function(){return x(e)},children:e.label[b]},e.path)}))},e.path):Object(J.b)(ae,{onClick:function(){return x(e)},children:y(e)},e.path)}))})},oe=n(1105),ce=n(1106),le=n(1107),se=n(1108),ue=n.p+"static/media/logo.c88d514c.svg",de=q.a.Header,he=function(e){var t=e.collapsed,n=e.toggle,i=Object(l.e)((function(e){return e.user})),a=i.logged,r=(i.locale,i.device),o=Object(L.d)(),c=Object(l.d)(),s=Object(h.c)().formatMessage,u=function(){var e=Object(y.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="userInfo"===e.t0?3:"userSetting"===e.t0?4:"logout"===e.t0?5:12;break;case 3:case 4:return e.abrupt("return");case 5:return e.t1=Boolean,e.next=8,c(function(){var e=Object(y.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n={token:localStorage.getItem("t")},T("post","/user/logout",n);case 2:if(!e.sent.status){e.next=8;break}return localStorage.clear(),t(R({logged:!1})),e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.t2=e.sent,(0,e.t1)(e.t2)&&o("/login"),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(J.c)(Y.a,{children:[Object(J.b)(Y.a.Item,{children:Object(J.c)("span",{children:[Object(J.b)(oe.a,{}),Object(J.b)("span",{onClick:function(){return o("/dashboard")},children:Object(J.b)(h.a,{id:"header.avator.account"})})]})},"1"),Object(J.b)(Y.a.Divider,{}),Object(J.b)(Y.a.Item,{children:Object(J.c)("span",{children:[Object(J.b)(ce.a,{}),Object(J.b)("span",{onClick:function(){return u("logout")},children:Object(J.b)(h.a,{id:"header.avator.logout"})})]})},"2")]});return Object(J.c)(de,{className:"layout-page-header",children:["MOBILE"!==r&&Object(J.b)("div",{className:"logo",style:{width:t?90:200},children:Object(J.b)("img",{src:ue,alt:"",style:{width:90}})}),Object(J.c)("div",{className:"layout-page-header-main",children:[Object(J.b)("div",{onClick:n,children:Object(J.b)("span",{id:"sidebar-trigger",children:t?Object(J.b)(le.a,{}):Object(J.b)(se.a,{})})}),Object(J.b)("div",{className:"actions",children:a?Object(J.b)(J.a,{}):Object(J.b)("span",{style:{cursor:"pointer"},onClick:function(){o("/login")},children:s({id:"gloabal.tips.login"})})})]})]})},ge=n(1067),fe=n(1100),be=function(e){var t=e.message,n=e.description;return Object(J.b)(ge.a,{tip:"加载中...",children:Object(J.b)(fe.a,{message:t,description:n,type:"info"})})},pe=function(){return T("get","/user/menu",{},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},ve=q.a.Sider,me=q.a.Content,ye=function(){var e=Object(s.useState)([]),t=Object(G.a)(e,2),n=t[0],i=t[1],a=Object(l.e)((function(e){return e.user})),r=a.device,o=a.collapsed,c="MOBILE"===r,u=Object(l.d)(),d=Object(L.c)(),h=Object(L.d)();Object(s.useEffect)((function(){"/"===d.pathname&&h("/dashboard")}),[h,d]);var g=function(){u(R({collapsed:!o}))},f=function(e){var t=[];return e.forEach((function(e){var n;null!=e&&null!==(n=e.children)&&void 0!==n&&n.length?null==e||e.children.forEach((function(e){t.push(e)})):t.push(e)})),t},b=Object(s.useCallback)(Object(y.a)(Object(m.a)().mark((function e(){var t,n,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:t=e.sent,n=t.status,a=t.result,n&&(i(a),u(R({menuList:f(a)})));case 6:case"end":return e.stop()}}),e)}))),[u]);return Object(s.useEffect)((function(){b()}),[b]),Object(s.useEffect)((function(){window.onresize=function(){var e=E().device,t=document.body.getBoundingClientRect().width<992;u(R({device:e,collapsed:t}))}}),[u]),Object(J.c)(q.a,{className:"layout-page",children:[Object(J.b)(he,{collapsed:o,toggle:g}),Object(J.c)(q.a,{children:[c?Object(J.b)(K.a,{width:"200",placement:"left",bodyStyle:{padding:0,height:"100%"},closable:!1,onClose:g,visible:!o,children:Object(J.b)(re,{menuList:n})}):Object(J.b)(ve,{className:"layout-page-sider",trigger:null,collapsible:!0,collapsed:o,breakpoint:"md",children:Object(J.b)(re,{menuList:n})}),Object(J.b)(me,{className:"layout-page-content",children:Object(J.b)(s.Suspense,{fallback:Object(J.b)(be,{message:"正在加载中",description:"资源加载中，请稍后！."}),children:Object(J.b)(L.a,{})})})]})]})},xe=n(18),Oe=n(1093),we=function(e){var t=Object(l.e)((function(e){return e.user})).logged,n=Object(L.d)(),i=Object(h.c)().formatMessage,a=Object(L.c)();return t?e.element:Object(J.b)(Oe.a,{status:"403",title:"403",subTitle:i({id:"gloabal.tips.unauthorized"}),extra:Object(J.b)(k.a,{type:"primary",onClick:function(){return n("/login".concat("?from="+encodeURIComponent(a.pathname)),{replace:!0})},children:i({id:"gloabal.tips.goToLogin"})})})},ke=n(418),Le=["titleId","auth"],Ce=function(e){var t=e.titleId,n=e.auth,i=Object(xe.a)(e,Le),a=Object(ke.a)().formatMessage;return t&&(document.title=a({id:t})),n?Object(J.b)(we,Object(C.a)({},i)):i.element},Se=n(19);(Z=B||(B={}))[Z.ANNOTATION=1]="ANNOTATION",Z[Z.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",Z[Z.PRE_ANNOTATION=3]="PRE_ANNOTATION",Z[Z.MANUAL_CORRECTION=4]="MANUAL_CORRECTION",function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e[e.Jump=2]="Jump"}(z||(z={})),function(e){e[e.Start=0]="Start",e[e.Stop=1]="Stop",e[e.Wait=2]="Wait"}(F||(F={})),function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Plane=2]="Plane"}(U||(U={}));var Ie,Ae,Pe,je,Te,Ee,De,Me,Re,Ne=n(8),Ve=n(6),He=n(7),Be=n(16),Ze=n(17),ze=n(14),Fe=n(10),Ue=n(11),Je=n(1),We=320;(je||(je={})).PointCloud="pointCloudTool",function(e){e.VideoTextTool="videoTextTool",e.VideoTagTool="videoTagTool",e.VideoClipTool="videoClipTool"}(Te||(Te={})),function(e){e[e.Rect=0]="Rect",e[e.Tag=1]="Tag"}(Ee||(Ee={})),function(e){e.Rect="rectTool",e.Tag="tagTool",e.Point="pointTool",e.PointMarker="pointMarkerTool",e.Segmentation="segmentationTool",e.Filter="filterTool",e.Text="textTool",e.Polygon="polygonTool",e.Line="lineTool",e.LineMarker="lineMarkerTool",e.Empty="emptyTool",e.FolderTag="folderTagTool",e.RectTrack="rectTrackTool",e.ScribbleTool="scribbleTool",e.Face="faceTool",e.ClientAttribute="clientAttributeTool",e.OCRRelation="OCRRelationTool",e.SegmentByRect="segmentByRectTool",e.PointCloud="pointCloudTool"}(De||(De={})),function(e){e.Check="check"}(Me||(Me={})),function(e){e[e.nothing=0]="nothing",e[e.RectBG=1]="RectBG",e[e.showOrder=2]="showOrder"}(Re||(Re={}));var Xe,Ge,qe=(Ie={},Object(Je.a)(Ie,De.Rect,"拉框"),Object(Je.a)(Ie,De.Tag,"标签分类"),Object(Je.a)(Ie,De.Point,"标点"),Object(Je.a)(Ie,De.PointMarker,"列表标点"),Object(Je.a)(Ie,De.Segmentation,"前景分割"),Object(Je.a)(Ie,De.Filter,"筛选"),Object(Je.a)(Ie,De.Text,"文本描述"),Object(Je.a)(Ie,De.Polygon,"多边形"),Object(Je.a)(Ie,De.Line,"标线"),Object(Je.a)(Ie,De.LineMarker,"列表线条"),Object(Je.a)(Ie,De.FolderTag,"文件夹标签"),Object(Je.a)(Ie,De.RectTrack,"拉框跟踪"),Object(Je.a)(Ie,De.Face,"人脸106工具"),Object(Je.a)(Ie,De.ClientAttribute,"客户端属性工具"),Object(Je.a)(Ie,De.OCRRelation,"OCR关联关系工具"),Object(Je.a)(Ie,Te.VideoTextTool,"视频文本"),Object(Je.a)(Ie,Te.VideoTagTool,"视频标签"),Object(Je.a)(Ie,Te.VideoClipTool,"视频截取"),Object(Je.a)(Ie,je.PointCloud,"点云"),Ie);!function(e){e[e.noDepend=1]="noDepend",e[e.dependOrigin=2]="dependOrigin",e[e.dependShape=3]="dependShape",e[e.dependLine=4]="dependLine",e[e.dependPolygon=5]="dependPolygon",e[e.dependPreShape=101]="dependPreShape",e[e.dependPreLine=102]="dependPreLine",e[e.dependPrePolygon=103]="dependPrePolygon"}(Xe||(Xe={})),function(e){e.lc="leftClick",e.rc="rightClick",e.clc="ctrlLeftClick",e.crc="ctrlRightClick"}(Ge||(Ge={}));var Ke,Ye,Qe,_e,$e,et,tt,nt,it,at={leftClick:"鼠标左键",rightClick:"鼠标右键",ctrlLeftClick:"ctrl + 鼠标左键",ctrlRightClick:"ctrl + 鼠标右键"};!function(e){e[e.Normal=1]="Normal",e[e.Modify=2]="Modify"}(Ke||(Ke={})),function(e){e[e.Line=0]="Line",e[e.Curve=1]="Curve"}(Ye||(Ye={})),function(e){e[e.SingleColor=0]="SingleColor",e[e.MultiColor=1]="MultiColor"}(Qe||(Qe={})),function(e){e[e.Form=1]="Form",e[e.Json=2]="Json"}(_e||(_e={})),function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Plane=2]="Plane"}($e||($e={})),function(e){e[e.None=0]="None",e[e.Drawing=1]="Drawing",e[e.Edit=2]="Edit"}(et||(et={})),function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e[e.JumpSkip=2]="JumpSkip",e[e.None=3]="None"}(tt||(tt={})),function(e){e[e.Wait=0]="Wait",e[e.Pass=1]="Pass",e[e.Fail=2]="Fail",e[e.Loading=3]="Loading"}(nt||(nt={})),function(e){e[e.AnyString=0]="AnyString",e[e.Order=1]="Order",e[e.EnglishOnly=2]="EnglishOnly",e[e.NumberOnly=3]="NumberOnly",e[e.CustomFormat=4]="CustomFormat"}(it||(it={}));var rt,ot={0:"任意字符",1:"序号",2:"仅英文",3:"仅数字"},ct=1e3,lt=16,st=300,ut="normal normal 500 14px Arial";!function(e){e[e.ImgList=1e3]="ImgList",e[e.TrackPrediction=1001]="TrackPrediction",e[e.ImgSearch=1002]="ImgSearch"}(rt||(rt={}));var dt,ht,gt=(Ae={},Object(Je.a)(Ae,je.PointCloud,"sensebeepc"),Object(Je.a)(Ae,De.ClientAttribute,"sensebeepc-EnumAttributeTool"),Object(Je.a)(Ae,De.Face,"sensebeepc-FacePointsLabellingTool"),Object(Je.a)(Ae,De.OCRRelation,"sensebeepc-OCRRelationTool"),Ae),ft=(Pe={},Object(Je.a)(Pe,je.PointCloud,"点云客户端"),Object(Je.a)(Pe,De.ClientAttribute,"客户端属性工具"),Object(Je.a)(Pe,De.Face,"人脸106点工具"),Object(Je.a)(Pe,De.OCRRelation,"OCR关联关系工具"),Pe),bt=16,pt=10;!function(e){e[e.Normal=0]="Normal",e[e.Rect=1]="Rect"}(dt||(dt={})),function(e){e[e.Scribble=1]="Scribble",e[e.Erase=2]="Erase"}(ht||(ht={}));var vt=[De.Rect,De.Point,De.Line,De.Polygon],mt=[-5,10],yt=.1,xt=80,Ot=n(15),wt=n(1077),kt=Object.defineProperty,Lt=Object.defineProperties,Ct=Object.getOwnPropertyDescriptors,St=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,Pt=function(e,t,n){return t in e?kt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},jt=function(e,t){for(var n in t||(t={}))It.call(t,n)&&Pt(e,n,t[n]);if(St){var i,a=Object(Se.a)(St(t));try{for(a.s();!(i=a.n()).done;){n=i.value;At.call(t,n)&&Pt(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Tt=function(e,t){return Lt(e,Ct(t))};function Et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16;if(e.length<4)return e;var a,r,o,c,l,s,u,d,h,g,f,b,p,v=[],m=e.slice(0);for(n?(m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.push(e[0]),m.push(e[1])):(m.unshift(e[1]),m.unshift(e[0]),m.push(e[e.length-2]),m.push(e[e.length-1])),p=2;p<m.length-4;p+=2)for(o=(m[p+2]-m[p-2])*t,c=(m[p+4]-m[p-0])*t,l=(m[p+3]-m[p-1])*t,s=(m[p+5]-m[p+1])*t,b=0;b<=i;b++)f=b/i,u=2*Math.pow(f,3)-3*Math.pow(f,2)+1,d=-2*Math.pow(f,3)+3*Math.pow(f,2),h=Math.pow(f,3)-2*Math.pow(f,2)+f,g=Math.pow(f,3)-Math.pow(f,2),a=u*m[p]+d*m[p+2]+h*o+g*c,r=u*m[p+1]+d*m[p+3]+h*l+g*s,v.push(a),v.push(r);for(var y=[],x=0;x<v.length-1;x+=2)y.push({x:v[x],y:v[x+1]});if(n)for(var O=0;O<i+1;O++){var w=y.shift();y.push(w)}return y}var Dt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;return Et(e.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!1,t)};function Mt(e,t){var n,i,a,r,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line,l=0;t=Object(Ne.a)(t),c===Ye.Curve&&(t=Et(t.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!0,bt)),n=t,r=Object(G.a)(n,1)[0];var s=t.length;for(i=1;i<=s;i++)o=t[i%s],e.x>Math.min(r.x,o.x)&&e.x<=Math.max(r.x,o.x)&&e.y<=Math.max(r.y,o.y)&&r.x!==o.x&&(a=(e.x-r.x)*(o.y-r.y)/(o.x-r.x)+r.y,(r.y===o.y||e.y<=a)&&l++),r=o;return l%2!=0}function Rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e.map((function(e){return Tt(jt({},e),{x:e.x*t,y:e.y*t})}))}var Nt,Vt,Ht=n(215),Bt=61,Zt=40,zt=40,Ft=240;(Vt=Nt||(Nt={}))[Vt.ANNOTATION=1]="ANNOTATION",Vt[Vt.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",Vt[Vt.PRE_ANNOTATION=3]="PRE_ANNOTATION",Vt[Vt.MANUAL_CORRECTION=4]="MANUAL_CORRECTION";var Ut,Jt,Wt,Xt,Gt,qt,Kt,Yt=1e3;!function(e){e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e[e.JumpSkip=2]="JumpSkip",e[e.None=3]="None"}(Ut||(Ut={})),function(e){e[e.Start=0]="Start",e[e.Stop=1]="Stop",e[e.Wait=2]="Wait",e[e.Move=3]="Move"}(Jt||(Jt={})),function(e){e[e.Point=0]="Point",e[e.Line=1]="Line",e[e.Plane=2]="Plane"}(Wt||(Wt={})),function(e){e[e.ascend=0]="ascend",e[e.descend=1]="descend"}(Xt||(Xt={})),function(e){e[e.Intelligence=0]="Intelligence",e[e.Linear=1]="Linear"}(Gt||(Gt={})),function(e){e.Zh="zh_CN",e.US="en_US"}(qt||(qt={})),function(e){e[e.Clockwise=0]="Clockwise",e[e.Anticlockwise=1]="Anticlockwise"}(Kt||(Kt={}));var Qt={offsetX:-10,offsetY:-10},_t={shadowColor:"rgba(0,0,0,0.6)",shadowOffsetX:0,shadowOffsetY:2,shadowBlur:4},$t={x:8,y:26},en=n(37),tn=n(422),nn=Object.defineProperty,an=Object.defineProperties,rn=Object.getOwnPropertyDescriptors,on=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,sn=function(e,t,n){return t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},un=function(e,t){for(var n in t||(t={}))cn.call(t,n)&&sn(e,n,t[n]);if(on){var i,a=Object(Se.a)(on(t));try{for(a.s();!(i=a.n()).done;){n=i.value;ln.call(t,n)&&sn(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},dn=function(e,t){return an(e,rn(t))},hn=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"composeResult",value:function(e,t,n,i,a){try{var r=JSON.parse(e),o=xr.getCurrentStepInfo(t,i),c=o.dataSourceStep,l="step_".concat(o.step);if(Object.assign(r,a),r[l]){var s=r[l];return s.result?(s.result=n,JSON.stringify(r)):JSON.stringify(dn(un({},r),Object(Je.a)({},l,dn(un({},r[l]),{result:n}))))}return JSON.stringify(dn(un({},r),Object(Je.a)({},l,{dataSourceStep:c,toolName:o.tool,result:n})))}catch(r){return e}}},{key:"changeCoordinateByRotate",value:function(e,t,n){var i=e.x,a=e.y,r=e.width,o=e.height,c=Yr.changeCoordinateByRotate({x:i,y:a},t,n);switch(t%360){case 90:return dn(un({},e),{x:c.x-o,y:c.y,width:o,height:r});case 180:return dn(un({},e),{x:c.x-r,y:c.y-o});case 270:return dn(un({},e),{x:c.x,y:c.y-r,width:o,height:r});default:return e}}},{key:"translateRect2Points",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height;return[{x:t,y:n},{x:t+i,y:n},{x:t+i,y:n+a},{x:t,y:n+a}]}},{key:"translatePoints2Rect",value:function(e,t){if(4===e.length){var n=e[0],i=n.x,a=n.y,r=e[1].x-e[0].x,o=e[2].y-e[1].y;return dn(un({},t),{x:i,y:a,width:r,height:o})}}},{key:"getRectPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[{x:e.x*t,y:e.y*t},{x:(e.x+e.width)*t,y:e.y*t},{x:(e.x+e.width)*t,y:(e.y+e.height)*t},{x:e.x*t,y:(e.y+e.height)*t}]}},{key:"getRectEdgeList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.getRectPointList(e,t),i=n.length;return n.map((function(e,t){return{begin:e,end:n[(t+1)%i]}}))}},{key:"isInRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return e.x>=t.x*i-n&&e.x<=(t.x+t.width)*i+n&&e.y>=t.y*i-n&&e.y<=(t.y+t.height)*i+n}},{key:"getRectUnderZoom",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=e.x,i=e.y,a=e.width,r=e.height;return dn(un({},e),{x:n*t,y:i*t,width:a*t,height:r*t})}},{key:"isRectNotInPolygon",value:function(e,t){return this.getRectPointList(e).some((function(e){return!Mt(e,t)}))}}]),e}();function gn(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(i=i||a.length,n)for(e=0;e<n;e++)r[e]=a[0|Math.random()*i];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",e=0;e<36;e++)r[e]||(t=0|16*Math.random(),r[e]=a[19===e?3&t|8:t]);return r.join("")}var fn,bn,pn,vn,mn=Object.defineProperty,yn=Object.getOwnPropertySymbols,xn=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,wn=function(e,t,n){return t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kn=function(e,t){for(var n in t||(t={}))xn.call(t,n)&&wn(e,n,t[n]);if(yn){var i,a=Object(Se.a)(yn(t));try{for(a.s();!(i=a.n()).done;){n=i.value;On.call(t,n)&&wn(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Ln=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getTagKeyName",value:function(e,t){var n,i;if(t)return null!=(i=null==(n=t.find((function(t){return t.value===e})))?void 0:n.key)?i:""}},{key:"getTagName",value:function(e,t){var n=Object(G.a)(e,2),i=n[0],a=void 0===i?"":i,r=n[1],o=void 0===r?"":r;if(t){var c,l=Object(Se.a)(t);try{for(l.s();!(c=l.n()).done;){var s=c.value;if(s.value===a){if(!s.subSelected)return"";var u,d=Object(Se.a)(s.subSelected);try{for(d.s();!(u=d.n()).done;){var h=u.value;if(h.value===o)return h.key}}catch(e){d.e(e)}finally{d.f()}}}}catch(e){l.e(e)}finally{l.f()}}}},{key:"getTagNameList",value:function(e,t){var n=this;return Object.keys(e).length<=0?[]:Object.entries(e).reduce((function(e,i){var a=Object(G.a)(i,2),r=a[0],o=a[1];if(o&&o.length>0){var c=o.split(";"),l={keyName:n.getTagKeyName(r,t),value:c.map((function(e){return n.getTagName([r,e],t)}))};return[].concat(Object(Ne.a)(e),[l])}return e}),[]).filter((function(e){return e}))}},{key:"getTagnameListWithoutConfig",value:function(e){return Object.keys(e).length<=0?[]:Object.entries(e).reduce((function(e,t){var n=Object(G.a)(t,2),i={keyName:n[0],value:n[1].split(";")};return[].concat(Object(Ne.a)(e),[i])}),[]).filter((function(e){return e}))}},{key:"judgeResultIsInInputList",value:function(e,t,n){return!!(e&&t&&n)&&n.filter((function(n){if(n.value===e&&n.subSelected){var i=null==t?void 0:t.split(";");return(null==n?void 0:n.subSelected.filter((function(e){return i.indexOf(e.value)>-1})).length)>0}return!1})).length>0}},{key:"getDefaultResultByConfig",value:function(e){return e.reduce((function(e,t){return t.subSelected&&t.subSelected.forEach((function(n){var i;if(n.isDefault){var a=null!=(i=e[t.value])?i:"",r=[];a.length>0&&(r=a.split(";")),r.push(n.value),e[t.value]=r.join(";")}})),e}),{})}},{key:"getDefaultTagResult",value:function(e,t){var n=this.getDefaultResultByConfig(e);return t.length>0?t.map((function(e){return{id:gn(),sourceID:e.id,result:kn({},n)}})):[{id:gn(),sourceID:"",result:kn({},n)}]}}]),e}(),Cn=n(317),Sn='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ccc"/></g></g></svg>',In=Sn,An="rgba(204, 204, 204, 1)",Pn=[An,"rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],jn=[Sn,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#800cf9"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#01ff30"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ff88f7"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ffe232"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#994217"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#0282fa"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#ff2323"/></g></g></svg>','<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#00ffea"/></g></g></svg>'],Tn={1:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#1f0bf9"/></g></g></svg>',3:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#3fe"/></g></g></svg>',5:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#33fe33"/></g></g></svg>',7:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#fdff37"/></g></g></svg>',9:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#f70efa"/></g></g></svg>'};fn={},Object(Je.a)(fn,Ge.lc,"rgba(153, 51, 255, 1)"),Object(Je.a)(fn,Ge.rc,"rgba(51, 153, 255, 1)"),Object(Je.a)(fn,Ge.clc,"rgba(46, 230, 46, 1)"),Object(Je.a)(fn,Ge.crc,"rgba(255, 51, 51, 1)");(pn=bn||(bn={})).NoRotateNotice="noRotateNotice",pn.RectErrorSizeNotice="rectErrorSizeNotice",pn.TextCheckNumberErrorNotice="textCheckNumberErrorNotice",pn.TextCheckEnglishErrorNotice="textCheckEnglishErrorNotice",pn.TextCheckCustomErrorNotice="textCheckCustomErrorNotice",pn.UpperLimitErrorNotice="UpperLimitErrorNotice",pn.LowerLimitErrorNotice="LowerLimitErrorNotice",pn.InvalidImage="InvalidImage",pn.DisableDelete="DisableDelete",pn.ClearPartialData="ClearPartialData",pn.MarkerFinish="MarkerFinish",pn.LowerLimitPoint="LowerLimitPoint",pn.NoRotateInDependence="noRotateInDependence",pn.UnableToReannotation="unableToReannotation",pn.ForbiddenCreationOutsideBoundary="ForbiddenCreationOutsideBoundary",pn.SuccessfulEdgeAdsorption="SuccessfulEdgeAdsorption";var En,Dn=(vn={},Object(Je.a)(vn,bn.NoRotateNotice,"This Image contains data and cannot be rotated"),Object(Je.a)(vn,bn.RectErrorSizeNotice,"The drawing frame size is smaller than the minimum drawing size"),Object(Je.a)(vn,bn.TextCheckNumberErrorNotice,"Please enter in number-only format"),Object(Je.a)(vn,bn.TextCheckEnglishErrorNotice,"Please enter in English only format"),Object(Je.a)(vn,bn.TextCheckCustomErrorNotice,"Please enter in the required format"),Object(Je.a)(vn,bn.UpperLimitErrorNotice,"The number of vertices is not more than"),Object(Je.a)(vn,bn.LowerLimitErrorNotice,"The number of vertices is not less than"),Object(Je.a)(vn,bn.InvalidImage,"Invalid image, please skip this image"),Object(Je.a)(vn,bn.DisableDelete,"Disable delete"),Object(Je.a)(vn,bn.ClearPartialData,"Clear partial data"),Object(Je.a)(vn,bn.MarkerFinish,"ListAnnotation is finished"),Object(Je.a)(vn,bn.LowerLimitPoint,"The maximum number of points has been reached"),Object(Je.a)(vn,bn.NoRotateInDependence,"Disallow rotation in dependent cases"),Object(Je.a)(vn,bn.UnableToReannotation,"Unabled to reannotation"),Object(Je.a)(vn,bn.ForbiddenCreationOutsideBoundary,"Fobid creation outside boundary"),Object(Je.a)(vn,bn.SuccessfulEdgeAdsorption,"Successful edge adsorption"),vn),Mn=(En={},Object(Je.a)(En,bn.NoRotateNotice,"本图含有数据，无法进行旋转"),Object(Je.a)(En,bn.RectErrorSizeNotice,"绘制框尺寸小于最小绘制尺寸"),Object(Je.a)(En,bn.TextCheckNumberErrorNotice,"请按仅数字的格式输入"),Object(Je.a)(En,bn.TextCheckEnglishErrorNotice,"请按仅英文的格式输入"),Object(Je.a)(En,bn.TextCheckCustomErrorNotice,"请按要求的格式输入"),Object(Je.a)(En,bn.UpperLimitErrorNotice,"顶点数不多于"),Object(Je.a)(En,bn.LowerLimitErrorNotice,"顶点数不少于"),Object(Je.a)(En,bn.InvalidImage,"无效图片，请跳过此图"),Object(Je.a)(En,bn.DisableDelete,"该数据禁止删除"),Object(Je.a)(En,bn.ClearPartialData,"存在部分数据无法清除"),Object(Je.a)(En,bn.MarkerFinish,"列表标注已完成"),Object(Je.a)(En,bn.LowerLimitPoint,"已到达标点数量上限"),Object(Je.a)(En,bn.NoRotateInDependence,"依赖情况下无法进行旋转"),Object(Je.a)(En,bn.UnableToReannotation,"无法进行续标操作"),Object(Je.a)(En,bn.ForbiddenCreationOutsideBoundary,"边界外禁止创建"),Object(Je.a)(En,bn.SuccessfulEdgeAdsorption,"边缘吸附成功"),En),Rn=Object(He.a)((function e(){Object(Ve.a)(this,e)}));Rn.getMessagesByLocale=function(e,t){switch(t){case qt.US:return Dn[e];case qt.Zh:default:return Mn[e]}};var Nn=Object.defineProperty,Vn=Object.defineProperties,Hn=Object.getOwnPropertyDescriptors,Bn=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,zn=Object.prototype.propertyIsEnumerable,Fn=function(e,t,n){return t in e?Nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Un=function(e,t){for(var n in t||(t={}))Zn.call(t,n)&&Fn(e,n,t[n]);if(Bn){var i,a=Object(Se.a)(Bn(t));try{for(a.s();!(i=a.n()).done;){n=i.value;zn.call(t,n)&&Fn(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Jn=function(e,t){return Vn(e,Hn(t))},Wn=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getAttributeIcon",value:function(e,t){var n,i,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=t.findIndex((function(t){return t.value===e})),o=null!=(n=jn[r%jn.length])?n:In;if(a||(o='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" viewBox="0 0 16 16"><defs><clipPath id="a"><path d="M0,0H16V-16H0Z" fill="none"/></clipPath><clipPath id="b"><path d="M13.75-2.937H2.25a.5.5,0,0,0-.5.5v.563a.125.125,0,0,0,.125.125h12.25a.125.125,0,0,0,.125-.125v-.562A.5.5,0,0,0,13.75-2.937ZM4.027-4.25a.632.632,0,0,0,.094-.008l2.628-.461a.153.153,0,0,0,.083-.044l6.623-6.623a.156.156,0,0,0,0-.22l-2.6-2.6a.155.155,0,0,0-.111-.045.155.155,0,0,0-.111.045L4.012-7.581a.159.159,0,0,0-.044.083L3.508-4.87a.524.524,0,0,0,.147.466.529.529,0,0,0,.372.155Z" fill="none"/></clipPath></defs><g transform="translate(0 16)"><g clip-path="url(#a)"><path d="M-5-21H21V5H-5Z" fill="rgba(0,0,0,0)"/></g><g clip-path="url(#b)"><path d="M-3.25-19.25h22.5V3.25H-3.25Z" fill="#f33"/></g></g></svg>'),o="","undefined"!=typeof Image)return(i=new Image).src=o,i}},{key:"checkString",value:function(e,t){var n="";switch(e){case it.Order:case it.NumberOnly:n="^[0-9]+$";break;case it.EnglishOnly:n="^[A-Za-z]+$";break;case it.CustomFormat:n=t}return n}},{key:"checkTextAttibute",value:function(e,t){if(void 0===e||""===e)return!0;try{return new RegExp(t).test(e)}catch(e){return!1}}},{key:"getAttributeShowText",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var a=i.findIndex((function(t){return t.value===e}));return null!=(n=null==(t=i[a])?void 0:t.key)?n:e}catch(a){return e}}},{key:"getAttributeIndex",value:function(e,t){try{var n=t.findIndex((function(t){return t.value===e}));return n>=8?n%8:n}catch(n){return-1}}},{key:"getAttributeColor",value:function(e,t){try{var n=this.getAttributeIndex(e,t);return-1===n?An:Pn[n%Pn.length]}catch(n){return An}}},{key:"getTextAttribute",value:function(e,t){try{if(t===it.Order){var n=e.map((function(e){return parseInt(e.textAttribute,10)})).filter((function(e){return Object(Cn.a)(e)&&e<Number.MAX_SAFE_INTEGER&&e>=0}));return n.sort((function(e,t){return e-t})),"".concat((n.pop()||0)+1)}return""}catch(n){return""}}},{key:"textChange",value:function(e,t,n){return n.map((function(n){return n.id===t?Jn(Un({},n),{textAttribute:e}):n}))}},{key:"getErrorNotice",value:function(e,t){switch(e){case it.Order:case it.NumberOnly:return Rn.getMessagesByLocale(bn.TextCheckNumberErrorNotice,t);case it.EnglishOnly:return Rn.getMessagesByLocale(bn.TextCheckEnglishErrorNotice,t);case it.CustomFormat:return Rn.getMessagesByLocale(bn.TextCheckCustomErrorNotice,t);default:return""}}},{key:"textAttributeValidate",value:function(e,t,n){try{return new RegExp(this.checkString(e,t)).test(n)}catch(e){}}},{key:"checkTextAttribute",value:function(e,t,n,i){var a=this,r=!1;return n.forEach((function(n){void 0===(null==n?void 0:n.textAttribute)||""===(null==n?void 0:n.textAttribute)||(!i||n.id===i)&&!a.textAttributeValidate(e,t,n.textAttribute)&&(r=!0)})),!!r}},{key:"changeTextAttributeInLog",value:function(e,t){return null==e?void 0:e.map((function(e){return null==e?void 0:e.map((function(e){if((null==t?void 0:t.findIndex((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)})))>-1){var n=null==t?void 0:t.find((function(t){return(null==t?void 0:t.id)===(null==e?void 0:e.id)}));return Jn(Un({},e),{textAttribute:null==n?void 0:n.textAttribute})}return e}))}))}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>3?arguments[3]:void 0;if(!0===(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){var i=(null==t?void 0:t.findIndex((function(t){return(null==t?void 0:t.value)===e})))%Pn.length+1;return jn[i]}return n}},{key:"getAttributeByKeycode",value:function(e,t){var n,i;return Zr.isInRange(e,[48,57])&&(i=e-48),Zr.isInRange(e,[96,105])&&(i=e-96),0===i?"":i?null==(n=t[i-1])?void 0:n.value:void 0}}]),e}(),Xn=n(124),Gn=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"deg2rad",value:function(e){return e*Math.PI/180}},{key:"rad2deg",value:function(e){return 180*e/Math.PI}}]),e}(),qn=Object.defineProperty,Kn=Object.defineProperties,Yn=Object.getOwnPropertyDescriptors,Qn=Object.getOwnPropertySymbols,_n=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable,ei=function(e,t,n){return t in e?qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ti={x:0,y:0},ni="",ii=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"drawLine",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),r=i.color,o=void 0===r?ni:r,c=i.thickness,l=void 0===c?1:c,s=i.lineCap,u=void 0===s?"round":s;a.save(),a.strokeStyle=o,a.lineWidth=l,a.lineCap=u,a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(n.x+1,n.y+1),a.stroke(),a.restore()}},{key:"drawRect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.getContext("2d"),a=n.color,r=void 0===a?ni:a,o=n.thickness,c=void 0===o?1:o,l=n.lineCap,s=void 0===l?"round":l,u=n.hiddenText,d=void 0!==u&&u,h=n.lineDash,g=n.isShowOrder,f=n.order;if(i.save(),i.strokeStyle=r,i.lineWidth=c,i.lineCap=s,Array.isArray(h)&&i.setLineDash(h),i.fillStyle=r,i.strokeRect(t.x,t.y,t.width,t.height),!1===d){var b="";t.attribute&&(b="".concat(b,"  ").concat(t.attribute)),g&&(b="".concat(f).concat(b)),this.drawText(e,{x:t.x,y:t.y-5},b)}i.restore()}},{key:"drawRectWithFill",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.getContext("2d"),a=n.color,r=void 0===a?ni:a;i.save(),i.fillStyle=r,i.fillRect(t.x,t.y,t.width,t.height),i.restore()}},{key:"drawTagByDom",value:function(e,t,n){var i=e;if((null==t?void 0:t.length)>0){var a=document.createElement("div");return a.innerHTML=t,a.setAttribute("id",n),null==i||i.appendChild(a),a}}},{key:"drawTag",value:function(e,t){var n,i,a=null==e?void 0:e.parentNode;if("undefined"!=typeof window&&(i=window.self.document.getElementById("tagToolTag")),i&&a&&a.contains(i)&&(null==a||a.removeChild(i)),(null==t?void 0:t.length)>0){var r=document.createElement("div");return r.innerHTML=null!=(n=t.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" 、 "),"\n")}),""))?n:"",r.setAttribute("id","tagToolTag"),null==a||a.appendChild(r),r}}},{key:"drawLineWithPointList",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(t.length<2)){var a=e.getContext("2d"),r=i.color,o=void 0===r?ni:r,c=i.thickness,l=void 0===c?1:c,s=i.lineCap,u=void 0===s?"round":s,d=i.lineType,h=void 0===d?Ye.Line:d,g=i.lineDash,f=i.hoverEdgeIndex;if(a.save(),a.strokeStyle=o,a.lineWidth=l,a.lineCap=u,Array.isArray(g)?a.setLineDash(g):a.setLineDash([]),h===Ye.Curve?(void 0!==f&&f>-1&&t.push(t[0]),t=Ir.createSmoothCurvePointsFromPointList(Object(Ne.a)(t),bt),void 0!==f&&f>-1&&(t=t.slice((bt+1)*f,(bt+1)*(f+1)))):void 0!==f&&f>-1&&(t=(t=[].concat(Object(Ne.a)(t),[t[0]])).slice(f,f+2)),Array.isArray(t)&&!(Array.isArray(t)&&t.length<2)){var b=[];a.beginPath(),a.moveTo(t[0].x,t[0].y);for(var p=0;p<t.length-1;p++)t[p].specialEdge&&b.push({i1:p,i2:p+1}),a.lineTo(t[p+1].x,t[p+1].y);a.stroke(),a.save(),a.lineWidth=.8*l,a.lineCap="butt",a.strokeStyle="white",a.setLineDash([3,3]),b.forEach((function(e){var n=t[e.i1],i=t[e.i2];a.beginPath(),a.moveTo(n.x,n.y),a.lineTo(i.x,i.y),a.stroke()})),a.restore();return t.forEach((function(t){t.specialPoint&&(n.drawSpecialPoint(e,t,6,o),n.drawSpecialPoint(e,t,4,"white"))})),a.restore(),t}}}},{key:"drawCircle",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),r=i.startAngleDeg,o=void 0===r?0:r,c=i.endAngleDeg,l=void 0===c?360:c,s=i.thickness,u=void 0===s?1:s,d=i.color,h=void 0===d?ni:d,g=i.fill,f=void 0===g?ni:g,b=Gn.deg2rad(o),p=Gn.deg2rad(l);a.save(),a.beginPath(),a.strokeStyle=h,a.fillStyle=f,a.lineWidth=u,a.arc(t.x,t.y,n,b,p,!1),a.stroke(),f&&a.fill(),a.closePath(),a.restore()}},{key:"drawCircleWithFill",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d"),r=i.color,o=void 0===r?ni:r;a.save();var c=Gn.deg2rad(0),l=Gn.deg2rad(360);a.fillStyle=o,a.beginPath(),a.arc(t.x,t.y,n,c,l,!1),a.fill(),a.restore()}},{key:"drawSpecialPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=arguments.length>3?arguments[3]:void 0,a=e.getContext("2d"),r=t.x,o=t.y;a.save(),a.beginPath(),a.fillStyle=i;var c=1.5*n,l=c*Math.sqrt(3)/2,s=c/2;a.moveTo(r,o-c),a.lineTo(r-l,o+s),a.lineTo(r+l,o+s),a.closePath(),a.fill(),a.restore()}},{key:"drawPolygon",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.isClose,a=void 0!==i&&i,r=n.lineType,o=void 0===r?Ye.Line:r;return!0===a&&(t=[].concat(Object(Ne.a)(t),[t[0]])),o===Ye.Curve&&(t=Ir.createSmoothCurvePointsFromPointList(Object(Ne.a)(t))),this.drawLineWithPointList(e,t,function(e,t){return Kn(e,Yn(t))}(function(e,t){for(var n in t||(t={}))_n.call(t,n)&&ei(e,n,t[n]);if(Qn){var i,a=Object(Se.a)(Qn(t));try{for(a.s();!(i=a.n()).done;)n=i.value,$n.call(t,n)&&ei(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},n),{lineType:Ye.Line})),t}},{key:"drawPolygonWithFill",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(t.length<2)){var i=e.getContext("2d"),a=n.color,r=void 0===a?ni:a,o=n.lineType,c=void 0===o?Ye.Line:o;i.save(),i.fillStyle=r,i.beginPath(),c===Ye.Curve&&(t=Ir.createSmoothCurvePointsFromPointList([].concat(Object(Ne.a)(t),[t[0]])));var l=t,s=Object(Xn.a)(l),u=s[0],d=s.slice(1);return i.moveTo(u.x,u.y),d.forEach((function(e){i.lineTo(e.x,e.y)})),i.fill(),i.restore(),t}}},{key:"drawPolygonWithFillAndLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.strokeColor,a=n.fillColor,r=n.thickness,o=n.lineCap,c=n.isClose,l=n.lineType,s=this.drawPolygon(e,t,{color:i,thickness:r,lineCap:o,isClose:c,lineType:l});return this.drawPolygonWithFill(e,t,{color:a,lineType:l}),s}},{key:"drawPolygonWithKeyPoint",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.pointColor,r=void 0===a?"white":a,o=i.strokeColor,c=this.drawPolygon(e,t,i);return c.forEach((function(t){n.drawCircleWithFill(e,t,4,{color:o}),n.drawCircleWithFill(e,t,3,{color:r})})),c}},{key:"drawSelectedPolygonWithFillAndLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.pointColor,r=void 0===a?"white":a,o=i.strokeColor,c=this.drawPolygonWithFillAndLine(e,t,i);return c.forEach((function(t){n.drawCircleWithFill(e,t,4,{color:o}),n.drawCircleWithFill(e,t,3,{color:r})})),c}},{key:"drawText",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(n&&t){var a=e.getContext("2d"),r=i.color,o=void 0===r?ni:r,c=i.font,l=void 0===c?ut:c,s=i.shadowColor,u=void 0===s?"":s,d=i.shadowBlur,h=void 0===d?0:d,g=i.shadowOffsetX,f=void 0===g?0:g,b=i.shadowOffsetY,p=void 0===b?0:b,v=i.textMaxWidth,m=void 0===v?164:v,y=i.offsetX,x=void 0===y?0:y,O=i.offsetY,w=void 0===O?0:O,k=i.textAlign,L=void 0===k?"start":k,C=i.lineHeight;a.save(),a.textAlign=L,a.fillStyle=null!=o?o:"white",a.font=l,a.shadowColor=u,a.shadowOffsetX=f,a.shadowOffsetY=p,a.shadowBlur=h,this.wrapText(e,"".concat(n),t.x+x,t.y+w,m,C),a.restore()}}},{key:"wrapText",value:function(e,t,n,i,a,r){if("string"==typeof t&&"number"==typeof n&&"number"==typeof i){var o=e.getContext("2d");void 0===a&&(a=e&&e.width||300),void 0===r&&"undefined"!=typeof window&&(r=e&&parseInt(window.getComputedStyle(e).lineHeight,10)||parseInt(window.getComputedStyle(document.body).lineHeight,10));for(var c=t.split("\n"),l=0;l<c.length;l++){for(var s=c[l].split(""),u="",d=0;d<s.length;d++){var h=u+s[d];a||(a=300),o.measureText(h).width>a&&d>0?(o.fillText(u,n,i),u=s[d],i+=r):u=h}o.fillText(u,n,i),i+=r}}}},{key:"drawArrow",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.color,r=void 0===a?ni:a,o=i.thickness,c=void 0===o?1:o,l=i.lineCap,s=void 0===l?"round":l,u=i.theta,d=void 0===u?30:u,h=i.headLen,g=void 0===h?10:h,f=180*Math.atan2(t.y-n.y,t.x-n.x)/Math.PI,b=(f+d)*Math.PI/180,p=(f-d)*Math.PI/180,v=g*Math.cos(b),m=g*Math.sin(b),y=g*Math.cos(p),x=g*Math.sin(p);e.save(),e.strokeStyle=r,e.lineWidth=c,e.lineCap=s,e.beginPath(),e.moveTo(n.x+v,n.y+m),e.lineTo(n.x,n.y),e.lineTo(n.x+y,n.y+x),e.stroke(),e.restore()}},{key:"drawArrowByCanvas",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.getContext("2d");this.drawArrow(a,t,n,i)}}]),e}();ii.drawImg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.getContext("2d"),a=n.zoom,r=void 0===a?1:a,o=n.currentPos,c=void 0===o?ti:o,l=n.rotate,s=void 0===l?0:l,u=n.imgAttribute;switch(i.save(),s){case 0:default:i.translate(c.x,c.y);break;case 90:i.translate(c.x+t.height*r,c.y),i.rotate(90*Math.PI/180);break;case 180:i.translate(c.x+t.width*r,c.y+t.height*r),i.rotate(Math.PI);break;case 270:i.translate(c.x,c.y+t.width*r),i.rotate(270*Math.PI/180)}if(u){var d=u.contrast,h=u.saturation,g=u.brightness;i.filter="saturate(".concat(h+100,"%) contrast(").concat(d+100,"%) brightness(").concat(g+100,"%)")}i.drawImage(t,0,0,t.width*r,t.height*r),i.restore()};var ai=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getStrokeAndFill",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.isSelected,a=void 0!==i&&i,r=n.isHover,o=void 0!==r&&r;return a?{stroke:t?e.validSelected.stroke:e.invalidSelected.stroke,fill:t?e.validSelected.fill:e.invalidSelected.fill}:o?{stroke:t?e.validHover.stroke:e.invalidHover.stroke,fill:t?e.validHover.fill:e.invalidHover.fill}:{stroke:t?e.valid.stroke:e.invalid.stroke,fill:t?e.valid.fill:e.invalid.fill}}},{key:"getStyle2String",value:function(e){if(e)return Object.entries(e).reduce((function(e,t){return"".concat(e," ").concat(t[0],": ").concat(t[1],";")}),"")}}]),e}(),ri=n(126),oi=n.n(ri),ci=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getMousePositionOnCanvasFromEvent",value:function(e,t){if(t&&e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}return null}},{key:"getClientRect",value:function(e){if(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,width:t.width,height:t.height}}return null}},{key:"getSize",value:function(e){if(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height}}return null}},{key:"inViewPort",value:function(e,t){return!!e&&(Zr.isInRange(e.x,[t.left,t.right])&&Zr.isInRange(e.y,[t.top,t.bottom]))}}]),e}();ci.getViewPort=function(e,t,n){var i=e.width,a=e.height,r=t.x,o=(0-t.y)/n,c=(0-r)/n;return{top:o,bottom:o+a/n,left:c,right:c+i/n}},ci.getPixelRatio=function(e){if(!e||!window)return 1;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1,n=1;return"undefined"!=typeof window&&(n=(window.devicePixelRatio||1)/t),n};var li,si,ui,di={showConfirm:!1,skipWhileNoDependencies:!1,drawOutsideTarget:!1,copyBackwardResult:!1,minWidth:1,minHeight:1,isShowOrder:!1,filterData:["valid","invalid"],attributeConfigurable:!1,attributeList:[],textConfigurable:!1,textCheckType:0,customFormat:""},hi={showConfirm:!1,skipWhileNoDependencies:!1,inputList:[{key:"类别1",value:"class1",isMulti:!1,subSelected:[{key:"选项1",value:"option1",isDefault:!1},{key:"选项2",value:"option1-2",isDefault:!1}]},{key:"类别2",value:"class-AH",isMulti:!0,subSelected:[{key:"选项2-1",value:"option2-1",isDefault:!1},{key:"选项2-2",value:"option2-2",isDefault:!1},{key:"选项2-3",value:"option2-3",isDefault:!1}]},{key:"类别3",value:"class-0P",isMulti:!1,subSelected:[{key:"选项3-1",value:"option3-1",isMulti:!1},{key:"选项3-2",value:"option3-2",isDefault:!1},{key:"选项3-3",value:"option3-3",isDefault:!1}]}]},gi={lineType:0,lineColor:0,edgeAdsorption:!1,outOfTarget:!0,copyBackwardResult:!1,isShowOrder:!1,attributeConfigurable:!1,attributeList:[{key:"类别1",value:"类别1"},{key:"类别ao",value:"class-ao"},{key:"类别M1",value:"class-M1"},{key:"类别Cm",value:"class-Cm"},{key:"类别c3",value:"class-c3"},{key:"类别a0",value:"class-a0"},{key:"类别u7",value:"class-u7"},{key:"类别Zb",value:"class-Zb"},{key:"类别zi",value:"class-zi"}],textConfigurable:!1,textCheckType:2,customFormat:"",showConfirm:!1,lowerLimitPointNum:2,upperLimitPointNum:"",preReferenceStep:0,skipWhileNoDependencies:!1,filterData:["valid","invalid"]},fi={showConfirm:!1,skipWhileNoDependencies:!1,enableTextRecognition:!1,recognitionMode:"general",configList:[{label:"文本",key:"text",required:!1,default:"",maxLength:1e3}],filterData:["valid","invalid"]},bi={lineType:0,lineColor:0,lowerLimitPointNum:3,edgeAdsorption:!1,drawOutsideTarget:!1,copyBackwardResult:!1,isShowOrder:!1,attributeConfigurable:!1,attributeList:[],textConfigurable:!0,textCheckType:0,customFormat:""},pi=function(e){return"lineTool"===e?gi:"rectTool"===e?di:"tagTool"===e?hi:"textTool"===e?fi:"polygonTool"===e?bi:di},vi={toolColor:{1:{valid:{stroke:"rgba(0,0,255,0.50)",fill:"rgba(0,0,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(0,15,255,1.00)",fill:"rgba(0,15,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(0,15,255,0.80)",fill:"rgba(0,15,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},3:{valid:{stroke:"rgba(0,255,255,0.50)",fill:"rgba(0,255,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(0,212,255,1.00)",fill:"rgba(0,212,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(0,212,255,0.80)",fill:"rgba(0,212,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},5:{valid:{stroke:"rgba(0,255,0,0.50)",fill:"rgba(0,255,0,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(149,255,1.00)",fill:"rgba(149,255,0,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(149,255,0,0.80)",fill:"rgba(149,255,0,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},7:{valid:{stroke:"rgba(255,255,0,0.50)",fill:"rgba(255,255,0,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(255,230,102,1.00)",fill:"rgba(255,213,0,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(255,230,102,0.80)",fill:"rgba(255,230,102,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}},9:{valid:{stroke:"rgba(255,0,255,0.50)",fill:"rgba(255,0,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.80)"},validSelected:{stroke:"rgba(230,102,255,1.00)",fill:"rgba(213,0,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,0.60)",fill:"rgba(255,0,0,0.24)"},validHover:{stroke:"rgba(230,102,255,0.80)",fill:"rgba(230,102,255,0.64)"},invalidHover:{stroke:"rgba(255,0,0,0.50)",fill:"rgba(255,0,0,0.40)"}}},attributeColor:[{valid:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(204,204,204,1.00)",fill:"rgba(204,204,204,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(153,51,255,1.00)",fill:"rgba(153,51,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,254,51,1.00)",fill:"rgba(51,254,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,51,255,1.00)",fill:"rgba(255,51,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(204,255,51,1.00)",fill:"rgba(204,255,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,153,255,1.00)",fill:"rgba(51,153,255,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,153,51,1.00)",fill:"rgba(255,153,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(51,255,238,1.00)",fill:"rgba(51,255,238,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}},{valid:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.40)"},invalid:{stroke:"rgba(255,153,102,1.00)",fill:"rgba(255,153,102,0.40)"},validSelected:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.80)"},invalidSelected:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"},validHover:{stroke:"rgba(255,221,51,1.00)",fill:"rgba(255,221,51,0.80)"},invalidHover:{stroke:"rgba(255,0,0,1.00)",fill:"rgba(255,0,0,0.80)"}}],lineColor:{1:"rgba(102, 111, 255, 1 )",3:"rgba(102, 230, 255, 1)",5:"rgba(191, 255, 102, 1)",7:"rgba(255, 230, 102, 1)",9:"rgba(230, 102, 255, 1)"},attributeLineColor:["rgba(204, 204, 204, 1)","rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],color:1,width:2,opacity:9},mi=Object.defineProperty,yi=Object.defineProperties,xi=Object.getOwnPropertyDescriptors,Oi=Object.getOwnPropertySymbols,wi=Object.prototype.hasOwnProperty,ki=Object.prototype.propertyIsEnumerable,Li=function(e,t,n){return t in e?mi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ci=function(e,t){for(var n in t||(t={}))wi.call(t,n)&&Li(e,n,t[n]);if(Oi){var i,a=Object(Se.a)(Oi(t));try{for(a.s();!(i=a.n()).done;){n=i.value;ki.call(t,n)&&Li(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Si=function(e,t){return yi(e,xi(t))};(si=li||(li={}))[si.Create=0]="Create",si[si.Active=1]="Active",si[si.Edit=1]="Edit",si[si.None=2]="None",function(e){e.ActiveArea="#B3B8FF"}(ui||(ui={}));var Ii,Ai=0,Pi=20,ji=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"isInLine",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;return Zr.getFootOfPerpendicular(e,t,n).length<i}}]),e}(),Ti=ji;Ti.setSpecialEdgeStyle=function(e){e.lineCap="butt",e.setLineDash([10,10])},Ti.setReferenceCtx=function(e){e.lineCap="butt",e.setLineDash([6])},Ti.calcOptimalIntersection=function(e,t,n,i,a){var r,o,c=1/0;return e.find((function(n,i){if(0!==i){var a=ji.isInLine(t.pointA,n,e[i-1]),r=ji.isInLine(t.pointB,n,e[i-1]);return a&&r}}))?{point:n}:(e.forEach((function(l,s){if(0!==s){var u={pointA:e[s-1],pointB:l},d=ji.lineIntersection(t,u);if(d&&t){var h=d.onLine2,g=d.onLine1,f=d.x,b=d.y,p=ji.calcDistance(n,d);if(ji.isOnLine(t.pointB.x,t.pointB.y,l.x,l.y,e[s-1].x,e[s-1].y)){if(ji.calcDistance(n,d)<i/a){var v=t.pointB,m=Zr.getFootOfPerpendicular(v,u.pointA,u.pointB,!0),y=m.footPoint,x=m.length;if(void 0!==x){var O=ji.calcDistance(u.pointA,y),w=ji.calcDistance(u.pointB,y);o={point:y,minDistance:x},x===1/0&&(o.point=O>w?u.pointB:u.pointA)}}return}p<c&&h&&g&&(c=p,r={x:f,y:b})}}})),r?{point:r,minDistance:c}:o||void 0)},Ti.lineIntersection=function(e,t){var n=!1,i=!1,a=ji.getAxisDiff(e),r=ji.getAxisDiff(t),o=r.y*a.x-r.x*a.y;if(0===o)return!1;var c=e.pointA.y-t.pointA.y,l=e.pointA.x-t.pointA.x,s=(t.pointB.x-t.pointA.x)*c-(t.pointB.y-t.pointA.y)*l,u=(e.pointB.x-e.pointA.x)*c-(e.pointB.y-e.pointA.y)*l;return(c=s/o)>0&&c<1&&(n=!0),(l=u/o)>0&&l<1&&(i=!0),{x:e.pointA.x+c*(e.pointB.x-e.pointA.x),y:e.pointA.y+c*(e.pointB.y-e.pointA.y),onLine1:n,onLine2:i}},Ti.getAxisDiff=function(e){return{x:e.pointB.x-e.pointA.x,y:e.pointB.y-e.pointA.y}},Ti.calcDistance=function(e,t){return Math.sqrt(Math.pow(Math.abs(e.x-t.x),2)+Math.pow(Math.abs(e.y-t.y),2))},Ti.drawCurveLine=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=Dt(t,16);e.save(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=n.color,i&&(e.lineWidth=n.lineWidth),a&&ji.setReferenceCtx(e),t.forEach((function(t,n){var i=null==t?void 0:t.specialEdge,a=o.splice(0,17);e.save(),e.beginPath(),r===n&&(e.lineWidth=4),a.forEach((function(t,n){var a=t.x,r=t.y,o=n>0?"lineTo":"moveTo";i&&ji.setSpecialEdgeStyle(e),e[o](a,r)})),e.stroke(),e.restore()})),e.restore()},Ti.calcTwoPointDistance=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Ti.pointOverTarget=function(e,t,n,i,a,r,o,c,l,s){var u=e;if(!t)return e;if(n===De.Polygon){var d=ji.getPolygonPointList(i,a);if(0===d.length||Ir.isInPolygon(e,d))return u;var h=d.concat(d[0]).map((function(e){return l(e)})),g=l(t),f={pointA:g,pointB:l(e)},b=ji.calcOptimalIntersection(h,f,g,o,c);if(!b)return t;var p=s(null==b?void 0:b.point);return u.x=p.x,u.y=p.y,u}if(n===De.Rect){var v=i.x,m=i.y,y=i.width,x=i.height;return u.x=Zr.withinRange(u.x,[v,v+y]),u.y=Zr.withinRange(u.y,[m,m+x]),u}return u.x=Zr.withinRange(u.x,[0,r.width]),u.y=Zr.withinRange(u.y,[0,r.height]),u},Ti.getPolygonPointList=function(e,t){var n=e.pointList;return t.lineType===Ye.Line?n:Ir.createSmoothCurvePoints(n.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!0,20)},Ti.isOnLine=function(e,t,n,i,a,r){return Math.abs((i-t)/(n-e)*(a-e)+t-r)<1e-6&&a>=e&&a<=n},Ti.inArea=function(e,t){var n=e.top,i=e.left,a=e.right,r=e.bottom,o=t.x,c=t.y;return c>=n&&c<=r&&o>=i&&o<=a},Ti.getVHPoint=function(e,t,n,i){var a=ji.getAngle(e,n);return Math.abs(a)<45?Si(Ci({},t),{y:i.y}):Si(Ci({},t),{x:i.x})},Ti.getAngle=function(e,t){var n=t.x-e.x,i=t.y-e.y;return 360*Math.atan(i/n)/(2*Math.PI)},function(e){e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.L=76]="L",e[e.R=82]="R",e[e.Z=90]="Z",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.S=83]="S",e[e.Q=81]="Q",e[e.Delete=46]="Delete",e[e.F11=122]="F11",e[e.Space=32]="Space",e[e.Esc=27]="Esc",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Enter=13]="Enter",e[e.Ctrl=17]="Ctrl",e[e.Alt=18]="Alt",e[e.Shift=16]="Shift",e[e.Tab=9]="Tab",e[e.BackSpace=8]="BackSpace"}(Ii||(Ii={}));var Ei=Ii,Di=function(){function e(t){var n=this;Object(Ve.a)(this,e),this.record=[],this.recordIndex=-1,this.minRecordIndex=-1,this.emitHistoryChanged=function(){n.historyChanged&&("ActionsHistory"===n.constructor.name||n.record.length>0)&&n.historyChanged(n.undoEnabled,n.redoEnabled)},this.historyChanged=t}return Object(He.a)(e,[{key:"undoEnabled",get:function(){return this.recordIndex>this.minRecordIndex}},{key:"redoEnabled",get:function(){return this.recordIndex<this.record.length-1}},{key:"pushHistory",value:function(e){if(this.recordIndex!==this.record.length-1){var t=this.record.slice(0,Math.min(this.recordIndex+1,this.record.length));this.record=t}this.record.push(wt.a.cloneDeepWith(e)),this.recordIndex+=1,this.emitHistoryChanged()}},{key:"updateHistory",value:function(e){this.record[this.recordIndex]=wt.a.cloneDeep(e)}},{key:"applyAttribute",value:function(e,t,n){e&&this.record.forEach((function(i){var a=i.find((function(t){return t.id===e}));a&&(a[t]=n)}))}},{key:"undo",value:function(){if(this.undoEnabled)return this.recordIndex-=1,this.emitHistoryChanged(),wt.a.cloneDeep(this.record[this.recordIndex])||[]}},{key:"redo",value:function(){if(this.redoEnabled)return this.recordIndex+=1,this.emitHistoryChanged(),wt.a.cloneDeep(this.record[this.recordIndex])}},{key:"init",value:function(){this.record=[[]],this.recordIndex=0,this.emitHistoryChanged()}},{key:"empty",value:function(){this.record=[],this.recordIndex=-1,this.emitHistoryChanged()}},{key:"initRecord",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length>0||t;this.record=n?[wt.a.cloneDeep(e)]:[],this.minRecordIndex=n?0:-1,this.recordIndex=0}}]),e}(),Mi=function(){function e(t,n){var i=this;Object(Ve.a)(this,e),this.rcTime=0,this.mouseDownTime=0,this.onMouseDown=function(){i.mouseDownTime=(new Date).getTime()},this.dom=t,this.isDoubleClick=!1,this.delay=n}return Object(He.a)(e,[{key:"getRcTime",value:function(){return this.rcTime}},{key:"getCoord",value:function(e){return{x:e.clientX,y:e.clientY}}},{key:"removeEvent",value:function(){!this.dom||(this.dom.removeEventListener("mouseup",this.mouseUp),this.dom.removeEventListener("mousemove",this.mouseMove),this.dom.removeEventListener("dblclick",this.dblclick),this.dom.removeEventListener("mousedown",this.onMouseDown))}},{key:"addEvent",value:function(e,t,n,i){var a=this;!this.dom||(this.removeEvent(),this.mouseUp=function(t){var r=(new Date).getTime(),o=!i||i(t);if(r-a.mouseDownTime>a.delay||!0!==o)e(t);else{if(2===t.button){if(0!==a.rcTime)return r-a.rcTime<a.delay&&(n(t),clearTimeout(a.setTimeFun),a.cacheFunction=void 0),void(a.rcTime=0);setTimeout((function(){a.rcTime=0}),a.delay),a.rcTime=r}a.setTimeFun&&clearTimeout(a.setTimeFun),a.clickCoord=a.getCoord(t),a.cacheFunction=function(){return e(t)},a.setTimeFun=setTimeout((function(){a.isDoubleClick?a.isDoubleClick=!1:(a.cacheFunction(),a.clickCoord=void 0)}),a.delay)}},this.mouseMove=function(e){var t=a.getCoord(e);a.clickCoord&&!Yr.getIsInScope(t,a.clickCoord,10)&&(a.cacheFunction&&a.cacheFunction(),a.clickCoord=void 0,a.cacheFunction=null,clearTimeout(a.setTimeFun))},this.dblclick=function(e){a.isDoubleClick=!0,a.clickCoord=void 0,t(e)},this.dom.addEventListener("mouseup",this.mouseUp),this.dom.addEventListener("mousemove",this.mouseMove),this.dom.addEventListener("dblclick",this.dblclick),this.dom.addEventListener("mousedown",this.onMouseDown))}},{key:"clearRightDblClick",value:function(){this.rcTime=0}}]),e}(),Ri=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getInitImgPos",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(90===n||270===n)&&(t={width:t.height,height:t.width});var r=e.width*i/t.width,o=e.height*i/t.height,c=a?1:Math.min(r,o),l={x:(e.width-t.width*c)/2,y:(e.height-t.height*c)/2},s=t.width*c,u=t.height*c;return a&&(c=1),{zoom:c,currentPos:l,imgInfo:{width:s,height:u}}}},{key:"getBasicRecPos",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.9,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(t&&e){var o=t.x,c=t.y,l=t.height,s=t.width,u=n.height/l;s/l>n.width/n.height&&(u=n.width/s);var d=r?1:u*i*a,h={x:n.width/2,y:n.height/2},g={x:(o+s/2)*d,y:(c+l/2)*d};return{currentPos:{x:h.x-g.x,y:h.y-g.y},innerZoom:d}}return!1}}]),e}(),Ni=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"renderInvalidPage",value:function(e,t,n){var i=document.createElement("div");return i.setAttribute("style","\n        position: absolute;\n        left: 0px;\n        top: 0px;\n        width: ".concat(t.width,"px;\n        height: ").concat(t.height,"px;\n        background: rgba(255, 87, 34, 1);\n        overflow: hidden;\n        color: white;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 30px;\n        opacity: 0.7;\n        z-index: 30;\n      ")),i.innerHTML=Rn.getMessagesByLocale(bn.InvalidImage,n),e.appendChild(i),i}}]),e}(),Vi=[1,5,10,20,30,50,80,100].concat(Array.from({length:9}).map((function(e,t){return 100*(t+2)}))),Hi=Object(He.a)((function e(){Object(Ve.a)(this,e)}));Hi.zoomChanged=function(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt.Linear)===Gt.Intelligence){var n,i=Math.max.apply(Math,Object(Ne.a)(Vi)),a=Math.min.apply(Math,Object(Ne.a)(Vi)),r=Vi.slice(0,Vi.length).findIndex((function(t,n){return e>=t&&(e<Vi[n+1]||t===i)}));if(-1===r)n=e>=a&&e<=i?t?i:a:t?a:e;else{var o=t?r+1:r-(Vi.includes(e)?1:0);n=Vi[Zr.withinRange(o,[0,Vi.length-1])]}return n}return e*(t?2:.5)},Hi.wheelChangePos=function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=a.zoom,o=void 0===r?1:r,c=a.innerZoom,l=void 0===c?1:c,s=a.basicZoom,u=void 0===s?1:s,d=a.zoomMax,h=void 0===d?1e3:d,g=a.rotate,f=void 0===g?0:g,b=i.x,p=i.y,v=parseFloat((o+.1).toFixed(1))/5;if(e&&t){var m=e.width,y=e.height;[90,270].includes(f)&&(m=e.height,y=e.width);var x=m*l,O=y*l,w=t.x-b,k=t.y-p,L=w/x,C=k/O,S=o+n*v;return{zoom:S=Zr.withinRange(S,[u,h]),currentPos:{x:b+(w-m*S*L),y:p+(k-y*S*C)},imgInfo:{width:m*S,height:y*S},ratio:v}}return null};var Bi=function(){function e(){Object(Ve.a)(this,e),this._events=new Map}return Object(He.a)(e,[{key:"on",value:function(e,t){var n=this._events.get(e)||[];n.some((function(e){return e===t}))||this._events.set(e,n.concat(t))}},{key:"singleOn",value:function(e,t){this._events.set(e,[t])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var a=this._events.get(e);a&&a.forEach((function(e){e&&e.apply(void 0,n)}))}},{key:"unbind",value:function(e,t){var n=this._events.get(e);n&&this._events.set(e,n.filter((function(e){return e!==t})))}},{key:"unbindAll",value:function(e){this._events.delete(e)}}]),e}(),Zi=Object.defineProperty,zi=Object.defineProperties,Fi=Object.getOwnPropertyDescriptors,Ui=Object.getOwnPropertySymbols,Ji=Object.prototype.hasOwnProperty,Wi=Object.prototype.propertyIsEnumerable,Xi=function(e,t,n){return t in e?Zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Gi=function(e,t){for(var n in t||(t={}))Ji.call(t,n)&&Xi(e,n,t[n]);if(Ui){var i,a=Object(Se.a)(Ui(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Wi.call(t,n)&&Xi(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},qi=function(e,t){return zi(e,Fi(t))},Ki=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},Yi={min:.2,max:1e3,ratio:.4},Qi=function(e){return Object(Cn.a)(e)&&!isNaN(e)},_i=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i,a,r,o,c,l,s,u,d,h;return Object(Ve.a)(this,n),(i=t.call(this)).isShowAttributeText=!1,i.isPointCloud2DTool=!1,i.isDrag=!1,i.isSpaceKey=!1,i.innerZoom=1,i.basicZoom=.01,i.isSpaceClick=!1,i.isDragStart=!1,i.startTime=0,i.isEnableDrag=!0,i.initImgPos=function(){return Ki(Object(Be.a)(i),null,Object(m.a)().mark((function e(){var t,n,i,a,r,o,c,l,s,u;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.imgNode&&0!==this.imgNode.width){e.next=2;break}return e.abrupt("return");case 2:if(i=null==(t=this._imgAttribute)?void 0:t.zoomRatio,a=null==(n=this._imgAttribute)?void 0:n.isOriginalSize,r=Ri.getInitImgPos(this.size,{width:this.imgNode.width,height:this.imgNode.height},this.rotate,i,a),o=r.currentPos,c=r.imgInfo,l=r.zoom,!this.isPointCloud2DTool){e.next=12;break}e.t0=void 0,e.next=15;break;case 12:return e.next=14,oi.a.getItem("coordinate");case 14:e.t0=e.sent;case 15:if(s=e.t0,this.setCurrentPos(s||o),this.currentPosStorage=s||o,u=0,!a){e.next=23;break}return e.next=21,oi.a.setItem("zoom",1,(function(){}));case 21:e.next=31;break;case 23:if(!this.isPointCloud2DTool){e.next=27;break}e.t1=0,e.next=30;break;case 27:return e.next=29,oi.a.getItem("zoom");case 29:e.t1=e.sent;case 30:u=e.t1;case 31:this.imgInfo=c,this.setZoom(u||l),this.innerZoom=u||l,this.renderReady=!0,this.render(),this.renderBasicCanvas(),this.emit("dependRender"),this.emit("renderZoom",l,o,c);case 39:case"end":return e.stop()}}),e,this)})))},i.getCurrentPos=function(e){var t=Object(Be.a)(i),n=t._firstClickCoordinate,a=t.currentPosStorage;try{return n&&a?{y:a.y+e.y-n.y,x:a.x+e.x-n.x}:{x:0,y:0}}catch(e){return{x:0,y:0}}},i.wheelChangePos=function(e,t,n){var a=Object(Be.a)(i),r=a.currentPos,o=a.imgNode;if(o&&(i.zoom!==i.basicZoom||-1!==t)){var c=Hi.wheelChangePos(o,e,t,r,{zoom:n||i.zoom,innerZoom:i.innerZoom,basicZoom:i.basicZoom,zoomMax:Yi.max,rotate:i.rotate});if(c){var l=c.currentPos,s=c.ratio,u=c.zoom,d=c.imgInfo;oi.a.setItem("coordinate",l,(function(){})),oi.a.setItem("zoom",u,(function(){})),i.innerZoom=u,i.setZoom(u),i.setCurrentPos(l),i.currentPosStorage=l,i.imgInfo=d,Yi.ratio=s,i.emit("renderZoom",u,l,d)}}},i.zoomChanged=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gt.Linear,n=Hi.zoomChanged(i.zoom,e,t);i.wheelChangePos(i.getGetCenterCoordinate(),n>i.zoom?1:-1,n),i.render(),i.renderBasicCanvas()},i.zoomChangeOnCenter=function(e){i.wheelChangePos(i.getGetCenterCoordinate(),0,e),i.render(),i.renderBasicCanvas()},i.drawImg=function(){!i.imgNode||!0===i.hiddenImg||ii.drawImg(i.basicCanvas,i.imgNode,{zoom:i.zoom,currentPos:i.currentPos,rotate:i.rotate,imgAttribute:i._imgAttribute})},i.saveDataEvent=new CustomEvent("saveLabelResultToImg",{}),i.renderReady=!1,i.container=e.container,i.showDefaultCursor=e.showDefaultCursor||!1,i.basicCanvas||i.initCanvas(e.size),i.imgNode=e.imgNode,i.isImgError=!e.imgNode,i.basicImgInfo={width:null!=(r=null==(a=e.imgNode)?void 0:a.width)?r:0,height:null!=(c=null==(o=e.imgNode)?void 0:o.height)?c:0,valid:!0,rotate:0},i.forbidOperation=null!=(l=e.forbidOperation)&&l,i.forbidBasicResultRender=null!=(s=e.forbidBasicResultRender)&&s,i.size=e.size,i.currentPos={x:0,y:0},i.zoom=1,i.coord={x:-1,y:-1},i.currentPosStorage={x:0,y:0},i.isShowCursor=!1,i.isShowOrder=!1,i.isShowAttributeText=!0,i.style={strokeColor:Pn[4],fillColor:Pn[4],strokeWidth:2*(null==window?void 0:window.devicePixelRatio),opacity:1},i.attributeLockList=[],i.history=new Di,i.style=null!=(u=e.style)?u:{},i._imgAttribute=null!=(d=e.imgAttribute)?d:{},i.isHidden=!1,i.dragStatus=Jt.Wait,i.defaultAttribute=null!=(h=null==e?void 0:e.defaultAttribute)?h:"无标签",i.forbidCursorLine=!!e.forbidCursorLine,i.lang=qt.Zh,i.onMouseDown=i.onMouseDown.bind(Object(Be.a)(i)),i.onMouseMove=i.onMouseMove.bind(Object(Be.a)(i)),i.onMouseLeave=i.onMouseLeave.bind(Object(Be.a)(i)),i.onMouseUp=i.onMouseUp.bind(Object(Be.a)(i)),i.onKeyDown=i.onKeyDown.bind(Object(Be.a)(i)),i.onKeyUp=i.onKeyUp.bind(Object(Be.a)(i)),i.onWheel=i.onWheel.bind(Object(Be.a)(i)),i.onLeftDblClick=i.onLeftDblClick.bind(Object(Be.a)(i)),i.onRightDblClick=i.onRightDblClick.bind(Object(Be.a)(i)),i.onClick=i.onClick.bind(Object(Be.a)(i)),i.clearImgDrag=i.clearImgDrag.bind(Object(Be.a)(i)),i.dblClickListener=new Mi(i.container,200),i.coordUtils=new _r(Object(Be.a)(i)),i.coordUtils.setBasicImgInfo(i.basicImgInfo),i.hiddenImg=e.hiddenImg||!1,i}return Object(He.a)(n,[{key:"onContextmenu",value:function(e){e.preventDefault()}},{key:"ctx",get:function(){var e;return this._ctx||(null==(e=this.canvas)?void 0:e.getContext("2d"))}},{key:"basicCtx",get:function(){var e;return null==(e=this.basicCanvas)?void 0:e.getContext("2d")}},{key:"rotate",get:function(){var e,t;return null!=(t=null==(e=this.basicImgInfo)?void 0:e.rotate)?t:0}},{key:"valid",get:function(){var e,t;return null==(t=null==(e=this.basicImgInfo)?void 0:e.valid)||t}},{key:"baseIcon",get:function(){return Tn[this.style.color]}},{key:"defaultCursor",get:function(){return this.showDefaultCursor?"default":"none"}},{key:"isShowDefaultCursor",get:function(){return this.showDefaultCursor}},{key:"innerPosAndZoom",get:function(){return{innerZoom:this.innerZoom,currentPosStorage:this.currentPosStorage}}},{key:"dataList",get:function(){return[]}},{key:"setIsEnableDrag",value:function(e){this.isEnableDrag=e}},{key:"setPrevResultList",value:function(e){this.prevResultList=e}},{key:"setAllAttributes",value:function(e){this.allAttributes=e}},{key:"hasMarkerConfig",get:function(){return!0===this.config.markerConfigurable&&this.config.markerList&&this.config.markerList.length>0}},{key:"setZoom",value:function(e){this.zoom=e,this.innerZoom=e,this.coordUtils.setZoomAndCurrentPos(this.zoom,this.currentPos)}},{key:"setCurrentPos",value:function(e){this.currentPos=e,this.coordUtils.setZoomAndCurrentPos(this.zoom,this.currentPos)}},{key:"setReferenceData",value:function(e){this.referenceData=e}},{key:"setImgInfo",value:function(e){this.imgInfo=e}},{key:"setCurrentPosStorage",value:function(e){this.currentPosStorage=e}},{key:"updatePosition",value:function(e){var t=e.zoom,n=e.currentPos;this.setZoom(t),this.setCurrentPos(n),this.currentPosStorage=n,this.innerZoom=t,this.renderBasicCanvas(),this.render()}},{key:"setLang",value:function(e){this.lang=e}},{key:"setShowDefaultCursor",value:function(e){this.showDefaultCursor=e,this.container.style.cursor=this.defaultCursor}},{key:"setCustomCursor",value:function(e){this.container.style.cursor=e}},{key:"forbidMouseOperation",get:function(){return this.forbidOperation||!1===this.valid}},{key:"pixelRatio",get:function(){var e;return ci.getPixelRatio(null==(e=this.canvas)?void 0:e.getContext("2d"))}},{key:"init",value:function(){return Ki(this,null,Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.eventUnbinding(),e.next=3,this.initPosition();case 3:this.eventBinding();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){this.destroyCanvas(),this.eventUnbinding()}},{key:"initCanvas",value:function(e){var t,n,i=this.pixelRatio,a=this.container.querySelectorAll("canvas");if(a&&a.length>1)this.canvas=a[1],this.basicCanvas=a[0],this.clearExtraDom(this.container);else{var r=document.createElement("canvas");r.width=e.width*i,r.height=e.height*i,r.style.width="".concat(e.width,"px"),r.style.height="".concat(e.height,"px"),r.style.left="0",r.style.top="0",r.style.zIndex="0";var o=document.createElement("canvas");o.style.position="absolute",o.style.left="0",o.style.top="0",o.style.zIndex="10",o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*i,o.height=e.height*i,this.canvas=o,this.basicCanvas=r,this.container.appendChild(r),this.container.appendChild(o)}this.container.style.cursor=this.defaultCursor,null==(t=this.ctx)||t.scale(i,i),null==(n=this.basicCtx)||n.scale(i,i)}},{key:"clearExtraDom",value:function(e){var t=e.childNodes;if(t&&t.length>0)for(var n=0;n<t.length;n++)"CANVAS"!==t[n].nodeName&&e.removeChild(t[n])}},{key:"updateCanvasBasicStyle",value:function(e,t,n){var i=this.pixelRatio;e.style.position="absolute",e.width=t.width*i,e.height=t.height*i,e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.left="0",e.style.top="0",e.style.zIndex="".concat(n," ")}},{key:"createCanvas",value:function(e){var t,n,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=this.pixelRatio,r=document.createElement("canvas");this.updateCanvasBasicStyle(r,e,0),this.basicCanvas=r;var o=document.createElement("canvas");this.updateCanvasBasicStyle(o,e,10),i&&(this.container.hasChildNodes()?(this.container.insertBefore(o,this.container.childNodes[0]),this.container.insertBefore(r,this.container.childNodes[0])):(this.container.appendChild(r),this.container.appendChild(o))),this.canvas=o,this.container.style.cursor=this.defaultCursor,null==(t=this.ctx)||t.scale(a,a),null==(n=this.basicCtx)||n.scale(a,a)}},{key:"destroyCanvas",value:function(){this.canvas&&this.container.contains(this.canvas)&&this.container.removeChild(this.canvas),this.basicCanvas&&this.container.contains(this.basicCanvas)&&this.container.removeChild(this.basicCanvas),this.clearInvalidPage(),this.clearImgDrag()}},{key:"setStyle",value:function(e){this.style=e,this.render()}},{key:"setImgNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.imgNode=e,this.setBasicImgInfo(Gi({width:e.width,height:e.height,valid:!0,rotate:0},t)),!0===this.isImgError&&(this.isImgError=!1,this.emit("changeAnnotationShow")),"boolean"==typeof t.valid&&this.setValid(t.valid),this.initImgPos()}},{key:"setErrorImg",value:function(){var e=this.isImgError;this.isImgError=!0,this.imgNode=void 0,this.setBasicImgInfo({width:0,height:0,valid:!0,rotate:0}),!1===e&&this.emit("changeAnnotationShow")}},{key:"setBasicImgInfo",value:function(e){this.basicImgInfo=e,this.coordUtils.setBasicImgInfo(e)}},{key:"setForbidOperation",value:function(e){this.forbidOperation=e,this.setShowDefaultCursor(e),this.render()}},{key:"setForbidCursorLine",value:function(e){this.forbidCursorLine=e,this.render()}},{key:"setIsHidden",value:function(e){this.isHidden=e,this.emit("hiddenChange")}},{key:"setIsShowOrder",value:function(e){this.isShowOrder=e,this.render()}},{key:"setisShowAttributeText",value:function(e){this.isShowAttributeText=e,this.renderBasicCanvas()}},{key:"getCoordinate",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"getCoordinateUnderZoom",value:function(e){var t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left-this.currentPos.x,y:e.clientY-t.top-this.currentPos.y}}},{key:"getCoordinateUnderZoomByRotate",value:function(e){var t=this.getCoordinateUnderZoom(e),n=t.x,i=t.y;return 90===this.basicImgInfo.rotate?{x:i,y:this.basicImgInfo.height*this.zoom-n}:180===this.basicImgInfo.rotate?{x:this.basicImgInfo.width*this.zoom-n,y:this.basicImgInfo.height*this.zoom-i}:270===this.basicImgInfo.rotate?{x:this.basicImgInfo.width*this.zoom-i,y:n}:{x:n,y:i}}},{key:"getGetCenterCoordinate",value:function(){return{x:this.size.width/2,y:this.size.height/2}}},{key:"initPosition",value:function(){return Ki(this,null,Object(m.a)().mark((function e(){var t,n,i,a,r,o,c,l,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.basicResult||!this.imgInfo){e.next=13;break}if(t=this.basicResult,n=this.size,i=this.imgNode,a=this._imgAttribute,r=this.imgInfo,o=this.dependToolName,!(t&&i&&o)){e.next=11;break}c=t,e.t0=o,e.next=e.t0===De.Polygon||e.t0===De.Line?7:9;break;case 7:return t.pointList&&(l=Zr.calcViewportBoundaries(t.pointList),c={x:l.left,y:l.top,width:l.right-l.left,height:l.bottom-l.top}),e.abrupt("break",9);case 9:(s=Ri.getBasicRecPos(i,c,n,void 0,null==a?void 0:a.zoomRatio,null==a?void 0:a.isOriginalSize))&&(this.setCurrentPos(s.currentPos),this.currentPosStorage=this.currentPos,this.imgInfo=qi(Gi({},r),{width:r.width/this.innerZoom*s.innerZoom,height:r.height/this.innerZoom*s.innerZoom}),this.innerZoom=s.innerZoom,this.setZoom(s.innerZoom),this.render(),this.renderBasicCanvas());case 11:e.next=15;break;case 13:return e.next=15,this.initImgPos();case 15:case"end":return e.stop()}}),e,this)})))}},{key:"undo",value:function(){this.history.undo()}},{key:"redo",value:function(){this.history.redo()}},{key:"clearCanvas",value:function(){var e;null==(e=this.ctx)||e.clearRect(0,0,this.size.width,this.size.height)}},{key:"clearBasicCanvas",value:function(){var e;null==(e=this.basicCtx)||e.clearRect(0,0,this.size.width,this.size.height)}},{key:"eventBinding",value:function(){this.dblClickListener.addEvent((function(){}),this.onLeftDblClick,this.onRightDblClick),this.container.addEventListener("mousedown",this.onMouseDown),this.container.addEventListener("mousemove",this.onMouseMove),this.container.addEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseleave",this.onMouseLeave),this.container.addEventListener("click",this.onClick),this.container.addEventListener("wheel",this.onWheel),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),"undefined"!=typeof window&&window.parent.document.addEventListener("contextmenu",this.onContextmenu,!1)}},{key:"eventUnbinding",value:function(){this.container.removeEventListener("mousedown",this.onMouseDown),this.container.removeEventListener("mousemove",this.onMouseMove),this.container.removeEventListener("mouseup",this.onMouseUp),this.container.removeEventListener("mouseleave",this.onMouseLeave),this.container.removeEventListener("wheel",this.onWheel),this.container.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),"undefined"!=typeof window&&window.parent.document.removeEventListener("contextmenu",this.onContextmenu,!1),this.dblClickListener.removeEvent()}},{key:"clearImgDrag",value:function(){this.isDrag=!1,this.isDragStart=!1,this.isSpaceClick=!1,this.startTime=0,this.container.style.cursor=this.defaultCursor,this.forbidCursorLine=!1}},{key:"clearCursorLine",value:function(){this.coord={x:-1,y:-1}}},{key:"onMouseDown",value:function(e){if(!this.canvas||this.isImgError)return!0;var t=this.getCoordinate(e);(this.isSpaceKey&&0===e.button||2===e.button)&&(e.stopPropagation(),this._firstClickCoordinate=t,this.currentPosStorage=this.currentPos,this.isSpaceClick=!0,this.isDragStart=!0,this.startTime=(new Date).getTime())}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),!this.canvas||this.isImgError)return!0;var t=this.getCoordinate(e);this.isShowCursor&&(this.coord=t);try{if(!t||!Object(Cn.a)(null==t?void 0:t.x)||!Object(Cn.a)(null==t?void 0:t.y))throw new Error("coord error");if(this.coord=t,(this.isSpaceClick||this.isDragStart)&&this._firstClickCoordinate){if(this.isEnableDrag){var n=this.getCurrentPos(t);this.setCurrentPos(n),this.emit("dragMove",{currentPos:n,zoom:this.zoom,imgInfo:this.imgInfo})}this.isDrag=!1,this.container.style.cursor="grab",this.forbidCursorLine=!0,this.renderBasicCanvas(),this.emit("dependRender")}this.render()}catch(n){}}},{key:"onMouseUp",value:function(e){if(!this.canvas||this.isImgError)return!0;if(this.container.style.cursor=this.defaultCursor,this.forbidCursorLine=!1,this.isDrag=!1,this.isDragStart=!1,this.isSpaceClick=!1,0!==this.startTime&&this._firstClickCoordinate){var t=(new Date).getTime(),n=this.getCoordinate(e);if(oi.a.setItem("coordinate",this.getCurrentPos(n),(function(){})),t-this.startTime>1e3||!0===this.isSpaceKey||Ti.calcTwoPointDistance(n,this._firstClickCoordinate)>10)return e.stopPropagation(),this.startTime=0,this.render(),!0}this.startTime=0,this.render()}},{key:"onMouseLeave",value:function(){this.clearImgDrag()}},{key:"onClick",value:function(e){}},{key:"onLeftDblClick",value:function(e){}},{key:"onRightDblClick",value:function(e){this.clearImgDrag()}},{key:"onKeyDown",value:function(e){if(e.keyCode===Ei.Alt&&e.preventDefault(),e.keyCode===Ei.Space)this.isSpaceKey=!0;return!0}},{key:"onKeyUp",value:function(e){if(e.keyCode===Ei.Space)this.isSpaceKey=!1}},{key:"exportCustomData",value:function(){return{}}},{key:"onWheel",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.imgNode&&this.coord){e.preventDefault(),e.stopPropagation();var n=this.getCoordinate(e),i=e.deltaY||e.wheelDelta,a=0;i>0&&this.zoom>Yi.min&&(a=-1),i<0&&this.zoom<Yi.max&&(a=1),this.wheelChangePos(n,a),this.emit("dependRender"),t&&this.render(),this.renderBasicCanvas()}}},{key:"renderCursorLine",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return null!=(t=e.style.lineColor[0])?t:""}();if(this.ctx&&!this.forbidCursorLine&&!this.forbidOperation){var n=this.coord,i=n.x,a=n.y;ii.drawLine(this.canvas,{x:0,y:a},{x:1e4,y:a},{color:t}),ii.drawLine(this.canvas,{x:i,y:0},{x:i,y:1e4},{color:t}),ii.drawCircleWithFill(this.canvas,{x:i,y:a},1,{color:"white"})}}},{key:"setSize",value:function(e){var t;this.size=e,this.container.contains(this.canvas)&&(this.destroyCanvas(),this.initCanvas(e),this.eventUnbinding(),this.init(),!1===(null==(t=this.basicImgInfo)?void 0:t.valid)&&this.renderInvalidPage())}},{key:"setImgAttribute",value:function(e){var t=this._imgAttribute;this._imgAttribute=e,(null==t?void 0:t.zoomRatio)===e.zoomRatio&&t.isOriginalSize===e.isOriginalSize?(this.renderBasicCanvas(),this.render()):this.initImgPos()}},{key:"clearResult",value:function(e){}},{key:"_isValidCoordinate",value:function(e){return!!e&&(Qi(e.x)&&Qi(e.y))}},{key:"setValid",value:function(e){this.basicImgInfo.valid=e,!1===e?(this.renderInvalidPage(),this.clearResult(!1)):this.clearInvalidPage()}},{key:"setRotate",value:function(e){this.basicImgInfo.rotate=e}},{key:"setBasicResult",value:function(e){this.basicResult=e,this.coordUtils.setBasicResult(e),this.initPosition(),this.emit("dependRender")}},{key:"setDependName",value:function(e,t){this.dependToolName=e,this.coordUtils.setDependInfo(e,t)}},{key:"setAttributeLockList",value:function(e){this.attributeLockList=e,this.render()}},{key:"setConfig",value:function(e){this.config=xr.jsonParser(e)}},{key:"setDataInjectionAtCreation",value:function(e){this.dataInjectionAtCreation=e}},{key:"setRenderEnhance",value:function(e){this.renderEnhance=e}},{key:"setCustomRenderStyle",value:function(e){this.customRenderStyle=e}},{key:"updateRotate",value:function(){if(this.dependToolName)return this.emit("messageInfo",Rn.getMessagesByLocale(bn.NoRotateInDependence,this.lang)),!1;if(this.dataList.length>0)return this.emit("messageInfo",Rn.getMessagesByLocale(bn.NoRotateNotice,this.lang)),!1;var e=Zr.getRotate(this.basicImgInfo.rotate);this.basicImgInfo.rotate=e,this.initImgPos(),this.emit("updateResult")}},{key:"getColor",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.style.attributeColor){var n=Wn.getAttributeIndex(t,null!=(e=this.allAttributes)?e:[])+1;return this.style.attributeColor[n]}var i=this.style,a=i.color,r=i.toolColor;return r?r[a]:vi.toolColor[1]}},{key:"getLineColor",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!0===(null==(e=this.config)?void 0:e.attributeConfigurable)){var i=Wn.getAttributeIndex(n,null!=(t=this.allAttributes)?t:[])+1;return this.style.attributeLineColor?this.style.attributeLineColor[i]:""}var a=this.style,r=a.color,o=a.lineColor;return r&&o?o[r]:""}},{key:"clearInvalidPage",value:function(){this._invalidDOM&&this.container&&this.container.contains(this._invalidDOM)&&(this.container.removeChild(this._invalidDOM),this._invalidDOM=void 0)}},{key:"renderInvalidPage",value:function(){!this.container||this._invalidDOM||(this._invalidDOM=Ni.renderInvalidPage(this.container,this.size,this.lang))}},{key:"renderOtherAnnotation",value:function(){var e,t,n,i,a,r,o,c,l,s,u=this,d=null!=(t=null==(e=this.style)?void 0:e.width)?t:2;if(this.prevResultList&&(null==(n=this.prevResultList)?void 0:n.length)>0)for(var h=0;h<this.prevResultList.length;h++){var g=this.prevResultList[h];switch(g.toolName){case De.Rect:g.result&&g.result.length>0&&g.result.forEach((function(e){if(e.isVisible){var t=u.getColor(e.attribute),n=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke,i=Yr.changeRectByZoom(e,u.zoom,u.currentPos),a=7*"".concat(Math.round(e.width)," * ").concat(Math.round(e.height)).length;if(ii.drawRect(u.canvas,i,{isShowOrder:u.isShowOrder,order:e.order,color:n,thickness:d}),u.isShowAttributeText){var r=Math.max(20,i.width-a);ii.drawText(u.canvas,{x:i.x,y:i.y+i.height+20+0},e.textAttribute,{color:n,textMaxWidth:r})}}}));break;case De.Polygon:g.result.forEach((function(e){if(e.isVisible){var t=u.getColor(e.attribute),n=Yr.changePointListByZoom(e.pointList||[],u.zoom,u.currentPos);ii.drawPolygonWithFillAndLine(u.canvas,Yr.changePointListByZoom(e.pointList,u.zoom,u.currentPos),{fillColor:e.valid?null==t?void 0:t.valid.fill:null==t?void 0:t.invalid.fill,strokeColor:e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke,isClose:!0,thickness:d});var i=e.attribute;if(u.isShowOrder&&(i="".concat(e.order," ").concat(i)),ii.drawText(u.canvas,n[0],i,Gi({color:e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke},Qt)),u.isShowAttributeText){var a=n[n.length-1];a&&a.x&&ii.drawText(u.canvas,{x:a.x+$t.x,y:a.y+$t.y},e.textAttribute,Gi({color:e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke},Qt))}}}));break;case De.Line:g.result.forEach((function(e){if(e.isVisible){var t=u.getColor(e.attribute),n=Yr.changePointListByZoom(e.pointList||[],u.zoom,u.currentPos);ii.drawLineWithPointList(u.canvas,Yr.changePointListByZoom(e.pointList,u.zoom,u.currentPos),{color:e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke,thickness:d});var i=e.attribute;if(u.isShowOrder&&(i="".concat(e.order," ").concat(i)),ii.drawText(u.canvas,n[0],i,Gi({color:e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke},Qt)),u.isShowAttributeText){var a=u.canvas.getContext("2d");null==a||a.save(),a.font=ut,a.fillStyle=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke,a.strokeStyle=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke,ii.wrapText(u.canvas,e.textAttribute,n[1].x-Ai,n[1].y-Pi,200)}}}));break;case De.Point:g.result&&g.result.length>0&&g.result.forEach((function(e){if(e.isVisible){var t=u.style.width,n=void 0===t?2:t,i=Yr.changePointByZoom(e,u.zoom,u.currentPos),a=Yr.changeRectByZoom(e,u.zoom,u.currentPos),r=u.getColor(e.attribute);ii.drawCircle(u.canvas,a,n,{startAngleDeg:0,endAngleDeg:360,thickness:1,color:e.valid?null==r?void 0:r.valid.stroke:null==r?void 0:r.invalid.stroke,fill:"transparent"});var o=e.attribute;u.isShowOrder&&(o="".concat(e.order,"  ").concat(o)),ii.drawText(u.canvas,{x:i.x+n/2+4,y:i.y-n-4},o,{textAlign:"center",color:e.valid?null==r?void 0:r.valid.stroke:null==r?void 0:r.invalid.stroke}),u.isShowAttributeText&&ii.drawText(u.canvas,{x:i.x+n,y:i.y+n+24},e.textAttribute,Gi({color:e.valid?null==r?void 0:r.valid.stroke:null==r?void 0:r.invalid.stroke},Qt))}}));break;case De.Tag:if(g.result&&g.result.length>0){if(!((null==(i=g.result)?void 0:i.length)>0))return;var f=document.createElement("div"),b=Ln.getTagNameList(null!=(a=null==g?void 0:g.result[0].result)?a:{},this.config.tagConfigList);f.innerHTML=null!=(r=b.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" 、 "),"\n")}),""))?r:"",f.setAttribute("id","tagToolTag"),f.setAttribute("style","\n                  position: absolute;\n                  top: 0;\n                  right: 0;\n                  z-index: 5;\n                  padding: 0 20px;\n                  font-size: 15px;\n                  color: white;\n                  text-align: right;\n                  line-height: 32px;\n                  white-space: pre;\n                  background: rgba(102, 111, 255, 1);\n                  opacity: 0.6;\n                  clear: both;\n                ");var p=document.getElementById("tagToolTag");(null==(c=null==(o=this.canvas)?void 0:o.parentNode)?void 0:c.contains(p))||null==(s=null==(l=this.canvas)?void 0:l.parentNode)||s.appendChild(f)}}}}},{key:"renderBasicCanvas",value:function(){!this.basicCanvas||(this.clearBasicCanvas(),this.drawImg())}},{key:"render",value:function(){!this.canvas||!this.ctx||!this.imgNode||!this.renderReady||(this.clearCanvas(),this.renderOtherAnnotation())}},{key:"changeStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultAttribute;this.emit("changeStyle",{attribute:e})}}]),n}(Bi),$i=Object.defineProperty,ea=Object.getOwnPropertySymbols,ta=Object.prototype.hasOwnProperty,na=Object.prototype.propertyIsEnumerable,ia=function(e,t,n){return t in e?$i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},aa=function(e,t){for(var n in t||(t={}))ta.call(t,n)&&ia(e,n,t[n]);if(ea){var i,a=Object(Se.a)(ea(t));try{for(a.s();!(i=a.n()).done;){n=i.value;na.call(t,n)&&ia(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},ra=8,oa=26,ca=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).getHoverRectID=function(e){var t,n,a=i.getCoordinateUnderZoom(e),r=null!=(n=null==(t=i.resultList.find((function(e){return e.toolName===De.Rect})))?void 0:t.result)?n:[];if(r.length>0){var o=r.filter((function(e){return hn.isInRect(a,e,2,i.zoom)}));if(0===o.length)return"";if(1===o.length)return o[0].id;if(o.length>1)return o.map((function(e){return{size:e.width*e.height,id:e.id}})).sort((function(e,t){return e.size-t.size}))[0].id}return""},i.resultList=[],i.hoverID=[],i.fillID=[],i.render=i.render.bind(Object(Be.a)(i)),i.drawPolygon=i.drawPolygon.bind(Object(Be.a)(i)),i.drawRect=i.drawRect.bind(Object(Be.a)(i)),i.drawTag=i.drawTag.bind(Object(Be.a)(i)),i.setShowDefaultCursor(!0),i.forbidOperation=!0,i}return Object(He.a)(n,[{key:"onMouseDown",value:function(e){var t,i;if(Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;var a=this.mouseHoverID,r=null!=(i=null==(t=this.resultList.find((function(e){return e.toolName===De.Rect})))?void 0:t.result)?i:[];if(0===e.button){var o=[a],c=!0;a&&r.find((function(e){return e.id===a&&(null==e?void 0:e.isSelected)}))&&(c=!1),a||(o=r.map((function(e){return e.id})),c=!1),this.emit("setSelectedID",o,c),this.render()}}},{key:"updateRotate",value:function(){}},{key:"onMouseMove",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.mouseHoverID,i=this.getHoverRectID(e);if(t!==i){this.mouseHoverID=i;var a=[i];i||(a=[]),this.emit("setHoverID",a),this.render()}}}},{key:"setResult",value:function(e){this.resultList=Object(tn.a)(e),this.render()}},{key:"drawPolygon",value:function(e,t){var n=this;null==e||e.forEach((function(e){var i,a,r,o,c,l=n.getColor(e.attribute),s=ai.getStrokeAndFill(l,e.valid),u=null!=(a=null==(i=n.style)?void 0:i.width)?a:2;n.hoverID.includes(e.id)?(u=4,ii.drawPolygonWithFillAndLine(n.canvas,Yr.changePointListByZoom(e.pointList,n.zoom,n.currentPos),{fillColor:s.fill,strokeColor:s.stroke,pointColor:"white",thickness:u,lineCap:"round",isClose:!0,lineType:null==t?void 0:t.lineType})):ii.drawPolygon(n.canvas,Yr.changePointListByZoom(e.pointList,n.zoom,n.currentPos),{color:s.fill,lineType:null==(r=n.config)?void 0:r.lineType,thickness:u,isClose:!0});var d="".concat(null!=(c=Wn.getAttributeShowText(e.attribute,null!=(o=null==t?void 0:t.attributeList)?o:[]))?c:"");(null==t?void 0:t.isShowOrder)&&(null==e?void 0:e.order)>0&&(d="".concat(e.order," ").concat(d)),ii.drawText(n.canvas,Yr.changePointByZoom(e.pointList[0],n.zoom,n.currentPos),d,aa({color:s.stroke},Qt));var h=Yr.changePointListByZoom(e.pointList||[],n.zoom,n.currentPos),g=h[h.length-1];ii.drawText(n.canvas,{x:g.x+ra,y:g.y+oa},null==e?void 0:e.textAttribute,aa({color:s.stroke},Qt))}))}},{key:"drawRect",value:function(e){var t=this;null==e||e.forEach((function(e){var n=1;t.hoverID.includes(e.id)&&(n=3);var i=t.getColor(e.attribute),a=Yr.changeRectByZoom(e,t.zoom,t.currentPos);ii.drawRect(t.canvas,a,{color:(null==e?void 0:e.valid)?i.valid.stroke:i.invalid.stroke,thickness:n}),t.fillID.includes(e.id)&&ii.drawRectWithFill(t.canvas,a,{color:(null==e?void 0:e.valid)?i.valid.fill:i.invalid.fill})}))}},{key:"drawTag",value:function(e,t){var n=e.reduce((function(e,n){return[].concat(Object(Ne.a)(e),Object(Ne.a)((null==t?void 0:t.inputList)?Ln.getTagNameList(n.result,t.inputList):Ln.getTagnameListWithoutConfig(n.result)))}),[]);ii.drawTag(this.canvas,n)}},{key:"setHoverID",value:function(e){this.hoverID=e,this.render()}},{key:"setFillID",value:function(e){this.fillID=e,this.render()}},{key:"render",value:function(){var e,t=this;Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this),null==(e=this.resultList)||e.forEach((function(e){switch(null==e?void 0:e.toolName){case De.Rect:t.drawRect(e.result);break;case De.Polygon:t.drawPolygon(e.result,xr.jsonParser(e.config));break;case De.Tag:t.drawTag(e.result,xr.jsonParser(e.config))}}))}},{key:"exportData",value:function(){return[[],{}]}}]),n}(_i),la=n(151),sa=n(1113),ua={ConfirmTo:"Confirm To ",TextInput:"Text Input",NoAttribute:"No Attribute",Save:"Save",Undo:"Undo",Redo:"Redo",Rotate:"Rotate",Style:"Style",Adjust:"Adjust",BorderThickness:"Border Thickness",Color:"Color",BorderOpacity:"Border Opacity",FillOpacity:"Fill Opacity",Saturation:"Saturation",Contrast:"Contrast",Exposure:"Exposure",ScreenRatio:"Screen Ratio",OriginalScale:"Original Scale",CopyThePrevious:"Copy Prev",ClearLabel:"Clear",SetAsInvalid:"Set As Invalid",SetAsValid:"Set As Valid",Confirm:"Confirm",Cancel:"Cancel",ItemsOfThisPage:"Items Of This Page",Hotkeys:"Hotkeys",AnnotateRect:"Annotate Rect",AnnotateInvalidRect:"Annotate Invalid Rect",SelectRect:"Select Rect",RightClick:"Right Click",ToggleRectEffectiveness:"Toggle Rect Validity",ToggleEffectiveness:"Toggle Validity",DeleteRect:"Delete Rect",SelectAndDoubleClick:"Select And Double Click",Scale:"Scale",Fullscreen:"Fullscreen",PreviousImage:"Previous",PreviousFile:"Previous",NextImage:"Next",NextFile:"Next",PreviousFolder:"Previous Folder",NextFolder:"Next Folder",Drag:"Drag",ToggleSelected:"Toggle Selected",ToggleSelectedReverse:"Toggle Selected Reverse",HideGraphics:"Hide Graphics",ToggleLineParticularity:"Toggle Line Particularity",ToSide:"To Line",SpecifiedAttributesOnly:"Specified Attributes Only",Number:"Number",Press:"Press",ToOriginalStep:"To Original",HorizontalOrVertical:"Horizontal/Vertical",AnnotateInvalidLine:"Annotate Invalid Line",AnnotateLine:"Annotate Line",SelectLine:"Select Line",ToggleLineEffectiveness:"Toggle Line Validity",DeleteLine:"Delete Line",ContinueToLabel:"Continue To Label",Select:"Select",InsertPoint:"Insert Point",ClickOnLine:"Click On Line",DeletePoint:"Delete Point",DblClickOnPoint:"Double Click On Point",StopAdsorption:"Stop Adsorption",PreviousLine:"Previous Line",NextLine:"Next Line",SelectPoint:"Select Point",AnnotateInvalidPoint:"Annotate Invalid Point",AnnotatePoint:"Annotate Point",AnnotatePolygon:"Annotate Polygon",SelectPolygon:"Select Polygon",AnnotateInvalidPolygon:"Annotate Invalid Polygon",TogglePolygonEffectiveness:"Toggle Polygon Validity",DeletePolygon:"Delete Polygon",TogglePointParticularity:"Toggle Point Particularity",CropOverlapArea:"Crop Overlap Area",SegmentationRecognition:"Segmentation Recognition",SwitchPattern:"Switch Pattern",Tagging:"Tagging",Hide:"Hide ",HideDrawnAnnotation:"Hidden Drawn Annotation",Blue:"Blue",Cyan:"Cyan",Green:"Green",Yellow:"Yellow",Pink:"Pink",Steps:"Steps",Export:"Export",NextStep:"Next Step",StepNotFinishedNotify:"There are unannotated files in the current step , please finish before the next step",curItems:"{{current}}/{{total}} Items",TurnPage:"Turn Page",Switch:"Switch",EmptyTextInput:"Empty Text Input",RegularExpIncorrectly:"Regular expression is incorrectly",NoConfiguration:"Missing Configuration",ClearThisOption:"Clear This Option",RestoreImageAttributes:"Restore Image Attributes",rectTool:"RectTool",tagTool:"TagTool",polygonTool:"PolygonTool",lineTool:"LineTool",pointTool:"PointTool",textTool:"TextTool",revocation:"撤回 Ctrl + Z",restore:"重做 Ctrl+Shift+Z",Speed:"Speed",PlayPause:"Play / Pause",FastForward:"Fast Forward",Rewind:"Rewind",videoInvalidAndSkip:"Video invalid, please skip",imageInvalidAndSkip:"Image invalid, please skip",videoErrorAndReload:"Failed to load video, please reload",imageErrorAndReload:"Failed to load image, please reload",orMaskAsInvalid:" or mask it as invalid",ClickAnotherPolygon:"Click another polygon",PolygonsToBeCombinedNeedToBeSelected:"Polygons to be combined need to be selected",CurveModeDoesNotSupportCutting:"Curve mode does not support cutting",CombineSuccess:"Combine success",CombiningFailedNotify:"Combining failed. Please check whether two polygons intersect or whether polygon combining forms a leak",CombineOverlapArea:"Combine Overlap Area",NoDependency:"This image does not need to be labeled",TextCheckNumberOnly:"Please enter the number",TextCheckEnglishOnly:"Please enter English",TextCheckCustomFormat:"Please enter data in custom format",FramingOfObjectToBeDivided:"Please frame the object to be divided first",ClickOnTarget:"Please click on target object",SplittingAlgorithmPrediction:"Splitting algorithm prediction in progress...","2DView":"2DView","3DView":"3DView",TopView:"TopView",SideView:"SideView",BackView:"BackView",ShowArrows:"Show Arrows",Length:"Length",Width:"Width",Height:"Height",Rotation_y:"Rotation_y",PointCount:"Point Count",Invalid:"Invalid",Tag:"Tag",Attribute:"Attribute",SubAttribute:"SubAttribute",PleaseSelect:"Please Select",CopyEmptyInPointCloud:"The copy content is empty, please select the corresponding point cloud data",PasteEmptyInPointCloud:"Please copy the pointCloud data before pasting",HasDuplicateID:"Duplicate ID exists, copy failed",LowerLimitPointsNumInBox:"The number of points in the box must not be less than {{num}}",PointThickness:"Point Thickness",RotateAroundCenterPoint:"Rotate Around Center Point",PointCloudViewTranslate:"PointCloudView Translation",TopViewTranslate:"TopView Translation",ChangePointCloudValid:"Change PointCloud Valid",CopyBox:"Copy Box",PasteBox:"Paste Box",RotateLeft:"Rotate Left",RotateRight:"Rotate Right",NextBox:"Next Box",PreviousBox:"Previous Box",Rotate180:"Rotate 180°",CopyPrevPage:"Copy Previous Page",ChangeBoxValid:"Change Box's Valid",MultiSelect:"Multi Select",SelectAllBox:"Select All Boxes",GeneralOperation:"General Operation",RectPattern:"Rect Pattern",DragOperation:"Drag",SelectedStatus:"Selected",updateValidFromValidToInValid:"Confirm update as invalid page？",updateValidFromInValidToValid:"Confirm update as valid page？",OriginalScaleSet:"Original scale set",TopLook:"Top view",pointSize:"size of point",rangeHeight:"range of height",labelRedius:"radius of label",reset:"reset"},da={TextInput:"文本输入",NoAttribute:"无属性",Save:"保存",Undo:"撤销",Redo:"重做",Rotate:"旋转",Style:"样式",Adjust:"图片调整",BorderThickness:"边框粗细",Color:"颜色",BorderOpacity:"边框透明度",FillOpacity:"填充透明度",Saturation:"饱和度",Contrast:"对比度",Exposure:"曝光度",ScreenRatio:"画面占比",OriginalScale:"按原图比例显示",CopyThePrevious:"复制上张",ClearLabel:"清空标注",SetAsInvalid:"标为无效",SetAsValid:"取消无效",Confirm:"确认",Cancel:"取消",ItemsOfThisPage:"本页件数",Hotkeys:"快捷键",AnnotateRect:"拉框",AnnotateInvalidRect:"拉无效框",SelectRect:"选中框",RightClick:"右击",ToggleRectEffectiveness:"切换框是否有效",ToggleEffectiveness:"是否标为无效",DeleteRect:"删除框",SelectAndDoubleClick:"选中双击",Scale:"缩放",Fullscreen:"全屏",PreviousImage:"上一张",PreviousFile:"上一个",NextImage:"下一张",NextFile:"下一个",PreviousFolder:"上一文件夹",NextFolder:"下一文件夹",Drag:"拖动图片",ToggleSelected:"切换选中",ToggleSelectedReverse:"逆序切换选中",HideGraphics:"隐藏图形",ToggleLineParticularity:"换特殊边",ToSide:"对边",SpecifiedAttributesOnly:"仅看指定属性",Number:"数字",Press:"长按",ToOriginalStep:"仅原图",HorizontalOrVertical:"标水平/垂直线",AnnotateInvalidLine:"标无效线",AnnotateLine:"标线",SelectLine:"选中线",ToggleLineEffectiveness:"切换线是否有效",DeleteLine:"删除线",ContinueToLabel:"续标",Select:"选中",InsertPoint:"插入点",ClickOnLine:"对线单击",DeletePoint:"删除点",DblClickOnPoint:"对点双击",StopAdsorption:"暂停吸附",PreviousLine:"上条线",NextLine:"下条线",SelectPoint:"选中点",AnnotateInvalidPoint:"标无效点",AnnotatePoint:"标点",AnnotatePolygon:"标多边形",SelectPolygon:"选中多边形",AnnotateInvalidPolygon:"标无效多边形",TogglePolygonEffectiveness:"切换多边形是否有效",DeletePolygon:"删除多边形",TogglePointParticularity:"换特殊点",CropOverlapArea:"裁剪重叠区域",SegmentationRecognition:"分割辅助",SwitchPattern:"切换绘制形式",Tagging:"打标签",Hide:"打标签",HideDrawnAnnotation:"标注隐藏中",Blue:"蓝",Cyan:"青",Green:"绿",Yellow:"黄",Pink:"粉",Steps:"标注步骤",Export:"导出",NextStep:"下一步",StepNotFinishedNotify:"当前步骤存在为未标注过的图片，请标注完成再点击下一步",curItems:"第{{current}}/{{total}}分页",TurnPage:"翻页",Switch:"切换",EmptyTextInput:"清空文本输入",RegularExpIncorrectly:"正则表达式填写错误",NoConfiguration:"暂无信息配置",ClearThisOption:"清空此选项",RestoreImageAttributes:"还原图片属性",ConfirmTo:"确认",rectTool:"标签",tagTool:"标点",polygonTool:"多边形",lineTool:"线条",pointTool:"标点",textTool:"文本",revocation:"撤回 Ctrl + Z",restore:"重做 Ctrl+Shift+Z",Speed:"倍速",PlayPause:"播放/暂停",FastForward:"快进",Rewind:"快退",videoInvalidAndSkip:"无效视频，请跳过",imageInvalidAndSkip:"无效图片，请跳过",videoErrorAndReload:"视频加载失败, 请重新加载",imageErrorAndReload:"图片加载失败, 请重新加载",orMaskAsInvalid:" 或 将其标为无效",ClickAnotherPolygon:"请点击希望合并的多边形",PolygonsToBeCombinedNeedToBeSelected:"需要选中需要合并的多边形",CurveModeDoesNotSupportCutting:"曲线模式暂不支持裁剪",CombineSuccess:"合并成功",CombiningFailedNotify:"合并失败，请检查是否两个多边形是否有相交，或多边形合并是否形成漏空",CombineOverlapArea:"合并重叠区域",NoDependency:"该图片无需标注",TextCheckNumberOnly:"请按仅数字的格式输入",TextCheckEnglishOnly:"请按仅英文的格式输入",TextCheckCustomFormat:"请按要求的格式输入",FramingOfObjectToBeDivided:"请先框出需分割的物体",ClickOnTarget:"请单击目标物体",SplittingAlgorithmPrediction:"分割算法预测中...","2DView":"2D视图","3DView":"3D视图",TopView:"俯视图",SideView:"侧视图",BackView:"背视图",ShowArrows:"显示箭头",Length:"长",Width:"宽",Height:"高",Rotation_y:"朝向角",PointCount:"点数",Invalid:"无效",Tag:"标签",Attribute:"主属性",SubAttribute:"副属性",PleaseSelect:"请选择",CopyEmptyInPointCloud:"复制内容为空，请选择对应的点云数据",PasteEmptyInPointCloud:"请先复制需要的点云数据再进行粘贴",HasDuplicateID:"存在重复ID,复制失败",LowerLimitPointsNumInBox:"框体内点数不允许低于 {{num}} 个",PointThickness:"点的显示粗细",RotateAroundCenterPoint:"绕中心点旋转画面",PointCloudViewTranslate:"点云平移",TopViewTranslate:"俯视图平移",ChangePointCloudValid:"切换点云有效性",CopyBox:"复制框",PasteBox:"粘贴框",RotateLeft:"向左旋转微调",RotateRight:"向右旋转微调",PreviousBox:"上一框",NextBox:"下一框",Rotate180:"旋转180°",CopyPrevPage:"复制上一页",ChangeBoxValid:"切换标注框有效性",MultiSelect:"多选",SelectAllBox:"全选",GeneralOperation:"通用",RectPattern:"拉框模式",DragOperation:"拖动",SelectedStatus:"选中时",updateValidFromValidToInValid:"是否确认标为无效文件？",updateValidFromInValidToValid:"是否确认取消无效文件？",OriginalScaleSet:"按原始比例显示",TopLook:"俯视视角",pointSize:"点大小",rangeHeight:"高度显示范围",labelRedius:"标注范围半径",reset:"重置"};la.a.language||la.a.use(sa.a).init({lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}}),la.a.addResourceBundle("en","translation",ua,!0),la.a.addResourceBundle("cn","translation",da,!0);var ha=Object(He.a)((function e(){Object(Ve.a)(this,e)})),ga=ha;ga.replaceAFromRGBA=function(e,t){return e.split(" ").join("").replace(/,[0-9]+([.]{1}[0-9]+){0,1}\)/,",".concat(t.toFixed(2),")"))},ga.getToolStrokeAndFill=function(e,t){var n=t.hover,i=void 0!==n&&n,a=t.selected,r=void 0!==a&&a,o=t.borderOpacity,c=void 0===o?1:o,l=t.fillOpacity,s=void 0===l?1:l,u=t.commonOpacity,d=void 0===u?.8:u;return r||i?{stroke:ha.replaceAFromRGBA(e,c),fill:ha.replaceAFromRGBA(e,s)}:{stroke:ha.replaceAFromRGBA(e,c*d),fill:ha.replaceAFromRGBA(e,s*d)}},ga.getAttributeIndex=function(e,t){try{return t.findIndex((function(t){return t.value===e}))}catch(e){return-1}};var fa=["rgba(102, 111, 255, 1)","rgba(102, 230, 255, 1)","rgba(191, 255, 102, 1)","rgba(255, 230, 102, 1)","rgba(230, 102, 255, 1)"],ba=["rgba(128, 12, 249, 1)","rgba(0, 255, 48, 1)","rgba(255, 136, 247, 1)","rgba(255, 226, 50, 1)","rgba(153, 66, 23, 1)","rgba(2, 130, 250, 1)","rgba(255, 35, 35, 1)","rgba(0, 255, 234, 1)"],pa=(new(function(){function e(){Object(Ve.a)(this,e),this._defaultColors=fa,this._attributeColors=ba}return Object(He.a)(e,[{key:"defaultColors",get:function(){return this._defaultColors}},{key:"attributeColors",get:function(){return this._attributeColors}},{key:"getColorFromConfig",value:function(e,t,n,i){var a;if("[object Object]"!==Object.prototype.toString.call(t))throw"Config must be Object";if("[object Object]"!==Object.prototype.toString.call(e))throw"Result must be Object";var r=n.borderOpacity,o=void 0===r?1:r,c=n.fillOpacity,l=void 0===c?.6:c,s=n.colorIndex,u=void 0===s?0:s;i||(i={});var d=null==(a=null==e?void 0:e.valid)||a,h=i,g=h.multiColorIndex,f=void 0===g?-1:g,b={selected:h.selected,hover:h.hover,borderOpacity:o,fillOpacity:l},p=this.defaultColors;if((!0===(null==t?void 0:t.attributeConfigurable)||f>-1)&&(p=this.attributeColors),!1===d)return ga.getToolStrokeAndFill("rgba(255, 51, 51, 1)",b);if(!0===(null==t?void 0:t.attributeConfigurable)){var v=ga.getAttributeIndex(null==e?void 0:e.attribute,null==t?void 0:t.attributeList),m=p[v%p.length];return-1===v&&(m="rgba(204, 204, 204, 1)"),ga.getToolStrokeAndFill(m,b)}return f>-1?ga.getToolStrokeAndFill(p[f%p.length],b):ga.getToolStrokeAndFill(p[u%p.length],b)}}]),e}()),function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"translationMatrix",value:function(e,t,n){return[1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1]}},{key:"frontViewMatrix4",value:function(e){return this.translationMatrix(e,0,0)}},{key:"backViewMatrix4",value:function(e){return this.translationMatrix(-e,0,0)}},{key:"leftViewMatrix4",value:function(e){return this.translationMatrix(0,e,0)}},{key:"rightViewMatrix4",value:function(e){return this.translationMatrix(0,-e,0)}},{key:"topViewMatrix4",value:function(e){return this.translationMatrix(0,0,e)}},{key:"leftFrontTopViewMatrix4",value:function(e,t){var n=t.width/2,i=t.height/2,a=t.depth/2;return this.translationMatrix(n*e,i*e,a*e)}},{key:"rightBackTopViewMatrix4",value:function(e,t){var n=-t.width/2,i=-t.height/2,a=t.depth/2;return this.translationMatrix(n*e,i*e,a*e)}}]),e}()),va=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"genColorByCoord",value:function(e,t,n){return n<=0?[128,128,128]:n<5?[255,0,0]:n<10?[0,255,0]:[0,0,255]}},{key:"getStandardColorByCoord",value:function(e,t,n){return this.genColorByCoord(e,t,n).map((function(e){return e/255}))}},{key:"getBoxParamsFromResultList",value:function(e){var t,n,i=this.jsonParser(e);return(null==(t=null==i?void 0:i.pointCloudTool)?void 0:t.result)?null==(n=null==i?void 0:i.pointCloudTool)?void 0:n.result:[]}},{key:"getPolygonListFromResultList",value:function(e){var t,n,i=this.jsonParser(e);return null!=(n=null==(t=null==i?void 0:i.step_1)?void 0:t.renderPolygon)?n:[]}},{key:"getFrontViewPolygon",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.width,o=e.height,c=e.depth;return[{x:n+r/2,y:i+o/2,z:a-c/2},{x:n+r/2,y:i+o/2,z:a+c/2},{x:n+r/2,y:i-o/2,z:a+c/2},{x:n+r/2,y:i-o/2,z:a-c/2},{x:n+r/2,y:i+o/2,z:a-c/2}]}},{key:"getBackViewPolygon",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.width,o=e.height,c=e.depth;return[{x:n-r/2,y:i-o/2,z:a-c/2},{x:n-r/2,y:i+o/2,z:a-c/2},{x:n-r/2,y:i+o/2,z:a+c/2},{x:n-r/2,y:i-o/2,z:a+c/2},{x:n-r/2,y:i-o/2,z:a-c/2}]}},{key:"getAllDirectionLine",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.width,o=e.height,c=e.depth;return[[{x:n+r/2,y:i-o/2,z:a-c/2},{x:n-r/2,y:i-o/2,z:a-c/2}],[{x:n+r/2,y:i+o/2,z:a-c/2},{x:n-r/2,y:i+o/2,z:a-c/2}],[{x:n+r/2,y:i-o/2,z:a+c/2},{x:n-r/2,y:i-o/2,z:a+c/2}],[{x:n+r/2,y:i+o/2,z:a+c/2},{x:n-r/2,y:i+o/2,z:a+c/2}]]}},{key:"getAllViewData",value:function(e){return[{type:"polygon",pointList:this.getFrontViewPolygon(e)},{type:"polygon",pointList:this.getBackViewPolygon(e)}].concat(Object(Ne.a)(this.getAllDirectionLine(e).map((function(e){return{type:"line",pointList:e}}))))}},{key:"transferBox2Kitti",value:function(e){return{height:e.depth,length:e.width,width:e.height,rotation_y:this.transferRotation2KittiRotation_y(e.rotation)}}},{key:"restrictAngleRange",value:function(e){var t=2*Math.PI,n=e%t;return n<0?t+n:n}},{key:"transferRotation2KittiRotation_y",value:function(e){if(e<0)return-e;var t=2*Math.PI-e;return t>Math.PI&&t<2*Math.PI?-1*e:2*Math.PI-e}}]),e}();va.jsonParser=function(e){try{return JSON.parse(e)}catch(e){return{}}};var ma,ya,xa=function(e,t){return[].concat(Object(Ne.a)(e),Object(Ne.a)(t))},Oa=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"transferMatrix34FromKitti2Three",value:function(e){return[].concat(Object(Ne.a)(e.reduce(xa,[])),[0,0,0,1])}},{key:"transferMatrix33FromKitti2Three",value:function(e){return[].concat(Object(Ne.a)(e.reduce((function(e,t){return[].concat(Object(Ne.a)(e),Object(Ne.a)(t)).concat([0])}),[])),[0,0,0,1])}}]),e}();(ya=ma||(ma={})).Front="FRONT",ya.Back="BACK",ya.Left="LEFT",ya.Right="RIGHT",ya.Top="TOP",ya.LFT="LEFT_FRONT_TOP",ya.RBT="RIGHT_BACK_TOP";var wa=[{colorId:0,hexString:"#000000",rgb:{r:0,g:0,b:0},hsl:{h:0,s:0,l:0},name:"Black"},{colorId:1,hexString:"#800000",rgb:{r:128,g:0,b:0},hsl:{h:0,s:100,l:25},name:"Maroon"},{colorId:2,hexString:"#008000",rgb:{r:0,g:128,b:0},hsl:{h:120,s:100,l:25},name:"Green"},{colorId:3,hexString:"#808000",rgb:{r:128,g:128,b:0},hsl:{h:60,s:100,l:25},name:"Olive"},{colorId:4,hexString:"#000080",rgb:{r:0,g:0,b:128},hsl:{h:240,s:100,l:25},name:"Navy"},{colorId:5,hexString:"#800080",rgb:{r:128,g:0,b:128},hsl:{h:300,s:100,l:25},name:"Purple"},{colorId:6,hexString:"#008080",rgb:{r:0,g:128,b:128},hsl:{h:180,s:100,l:25},name:"Teal"},{colorId:7,hexString:"#c0c0c0",rgb:{r:192,g:192,b:192},hsl:{h:0,s:0,l:75},name:"Silver"},{colorId:8,hexString:"#808080",rgb:{r:128,g:128,b:128},hsl:{h:0,s:0,l:50},name:"Grey"},{colorId:9,hexString:"#ff0000",rgb:{r:255,g:0,b:0},hsl:{h:0,s:100,l:50},name:"Red"},{colorId:10,hexString:"#00ff00",rgb:{r:0,g:255,b:0},hsl:{h:120,s:100,l:50},name:"Lime"},{colorId:11,hexString:"#ffff00",rgb:{r:255,g:255,b:0},hsl:{h:60,s:100,l:50},name:"Yellow"},{colorId:12,hexString:"#0000ff",rgb:{r:0,g:0,b:255},hsl:{h:240,s:100,l:50},name:"Blue"},{colorId:13,hexString:"#ff00ff",rgb:{r:255,g:0,b:255},hsl:{h:300,s:100,l:50},name:"Fuchsia"},{colorId:14,hexString:"#00ffff",rgb:{r:0,g:255,b:255},hsl:{h:180,s:100,l:50},name:"Aqua"},{colorId:15,hexString:"#ffffff",rgb:{r:255,g:255,b:255},hsl:{h:0,s:0,l:100},name:"White"},{colorId:16,hexString:"#000000",rgb:{r:0,g:0,b:0},hsl:{h:0,s:0,l:0},name:"Grey0"},{colorId:17,hexString:"#00005f",rgb:{r:0,g:0,b:95},hsl:{h:240,s:100,l:18},name:"NavyBlue"},{colorId:18,hexString:"#000087",rgb:{r:0,g:0,b:135},hsl:{h:240,s:100,l:26},name:"DarkBlue"},{colorId:19,hexString:"#0000af",rgb:{r:0,g:0,b:175},hsl:{h:240,s:100,l:34},name:"Blue3"},{colorId:20,hexString:"#0000d7",rgb:{r:0,g:0,b:215},hsl:{h:240,s:100,l:42},name:"Blue3"},{colorId:21,hexString:"#0000ff",rgb:{r:0,g:0,b:255},hsl:{h:240,s:100,l:50},name:"Blue1"},{colorId:22,hexString:"#005f00",rgb:{r:0,g:95,b:0},hsl:{h:120,s:100,l:18},name:"DarkGreen"},{colorId:23,hexString:"#005f5f",rgb:{r:0,g:95,b:95},hsl:{h:180,s:100,l:18},name:"DeepSkyBlue4"},{colorId:24,hexString:"#005f87",rgb:{r:0,g:95,b:135},hsl:{h:197.777777777778,s:100,l:26},name:"DeepSkyBlue4"},{colorId:25,hexString:"#005faf",rgb:{r:0,g:95,b:175},hsl:{h:207.428571428571,s:100,l:34},name:"DeepSkyBlue4"},{colorId:26,hexString:"#005fd7",rgb:{r:0,g:95,b:215},hsl:{h:213.488372093023,s:100,l:42},name:"DodgerBlue3"},{colorId:27,hexString:"#005fff",rgb:{r:0,g:95,b:255},hsl:{h:217.647058823529,s:100,l:50},name:"DodgerBlue2"},{colorId:28,hexString:"#008700",rgb:{r:0,g:135,b:0},hsl:{h:120,s:100,l:26},name:"Green4"},{colorId:29,hexString:"#00875f",rgb:{r:0,g:135,b:95},hsl:{h:162.222222222222,s:100,l:26},name:"SpringGreen4"},{colorId:30,hexString:"#008787",rgb:{r:0,g:135,b:135},hsl:{h:180,s:100,l:26},name:"Turquoise4"},{colorId:31,hexString:"#0087af",rgb:{r:0,g:135,b:175},hsl:{h:193.714285714286,s:100,l:34},name:"DeepSkyBlue3"},{colorId:32,hexString:"#0087d7",rgb:{r:0,g:135,b:215},hsl:{h:202.325581395349,s:100,l:42},name:"DeepSkyBlue3"},{colorId:33,hexString:"#0087ff",rgb:{r:0,g:135,b:255},hsl:{h:208.235294117647,s:100,l:50},name:"DodgerBlue1"},{colorId:34,hexString:"#00af00",rgb:{r:0,g:175,b:0},hsl:{h:120,s:100,l:34},name:"Green3"},{colorId:35,hexString:"#00af5f",rgb:{r:0,g:175,b:95},hsl:{h:152.571428571429,s:100,l:34},name:"SpringGreen3"},{colorId:36,hexString:"#00af87",rgb:{r:0,g:175,b:135},hsl:{h:166.285714285714,s:100,l:34},name:"DarkCyan"},{colorId:37,hexString:"#00afaf",rgb:{r:0,g:175,b:175},hsl:{h:180,s:100,l:34},name:"LightSeaGreen"},{colorId:38,hexString:"#00afd7",rgb:{r:0,g:175,b:215},hsl:{h:191.162790697674,s:100,l:42},name:"DeepSkyBlue2"},{colorId:39,hexString:"#00afff",rgb:{r:0,g:175,b:255},hsl:{h:198.823529411765,s:100,l:50},name:"DeepSkyBlue1"},{colorId:40,hexString:"#00d700",rgb:{r:0,g:215,b:0},hsl:{h:120,s:100,l:42},name:"Green3"},{colorId:41,hexString:"#00d75f",rgb:{r:0,g:215,b:95},hsl:{h:146.511627906977,s:100,l:42},name:"SpringGreen3"},{colorId:42,hexString:"#00d787",rgb:{r:0,g:215,b:135},hsl:{h:157.674418604651,s:100,l:42},name:"SpringGreen2"},{colorId:43,hexString:"#00d7af",rgb:{r:0,g:215,b:175},hsl:{h:168.837209302326,s:100,l:42},name:"Cyan3"},{colorId:44,hexString:"#00d7d7",rgb:{r:0,g:215,b:215},hsl:{h:180,s:100,l:42},name:"DarkTurquoise"},{colorId:45,hexString:"#00d7ff",rgb:{r:0,g:215,b:255},hsl:{h:189.411764705882,s:100,l:50},name:"Turquoise2"},{colorId:46,hexString:"#00ff00",rgb:{r:0,g:255,b:0},hsl:{h:120,s:100,l:50},name:"Green1"},{colorId:47,hexString:"#00ff5f",rgb:{r:0,g:255,b:95},hsl:{h:142.352941176471,s:100,l:50},name:"SpringGreen2"},{colorId:48,hexString:"#00ff87",rgb:{r:0,g:255,b:135},hsl:{h:151.764705882353,s:100,l:50},name:"SpringGreen1"},{colorId:49,hexString:"#00ffaf",rgb:{r:0,g:255,b:175},hsl:{h:161.176470588235,s:100,l:50},name:"MediumSpringGreen"},{colorId:50,hexString:"#00ffd7",rgb:{r:0,g:255,b:215},hsl:{h:170.588235294118,s:100,l:50},name:"Cyan2"},{colorId:51,hexString:"#00ffff",rgb:{r:0,g:255,b:255},hsl:{h:180,s:100,l:50},name:"Cyan1"},{colorId:52,hexString:"#5f0000",rgb:{r:95,g:0,b:0},hsl:{h:0,s:100,l:18},name:"DarkRed"},{colorId:53,hexString:"#5f005f",rgb:{r:95,g:0,b:95},hsl:{h:300,s:100,l:18},name:"DeepPink4"},{colorId:54,hexString:"#5f0087",rgb:{r:95,g:0,b:135},hsl:{h:282.222222222222,s:100,l:26},name:"Purple4"},{colorId:55,hexString:"#5f00af",rgb:{r:95,g:0,b:175},hsl:{h:272.571428571429,s:100,l:34},name:"Purple4"},{colorId:56,hexString:"#5f00d7",rgb:{r:95,g:0,b:215},hsl:{h:266.511627906977,s:100,l:42},name:"Purple3"},{colorId:57,hexString:"#5f00ff",rgb:{r:95,g:0,b:255},hsl:{h:262.352941176471,s:100,l:50},name:"BlueViolet"},{colorId:58,hexString:"#5f5f00",rgb:{r:95,g:95,b:0},hsl:{h:60,s:100,l:18},name:"Orange4"},{colorId:59,hexString:"#5f5f5f",rgb:{r:95,g:95,b:95},hsl:{h:0,s:0,l:37},name:"Grey37"},{colorId:60,hexString:"#5f5f87",rgb:{r:95,g:95,b:135},hsl:{h:240,s:17,l:45},name:"MediumPurple4"},{colorId:61,hexString:"#5f5faf",rgb:{r:95,g:95,b:175},hsl:{h:240,s:33,l:52},name:"SlateBlue3"},{colorId:62,hexString:"#5f5fd7",rgb:{r:95,g:95,b:215},hsl:{h:240,s:60,l:60},name:"SlateBlue3"},{colorId:63,hexString:"#5f5fff",rgb:{r:95,g:95,b:255},hsl:{h:240,s:100,l:68},name:"RoyalBlue1"},{colorId:64,hexString:"#5f8700",rgb:{r:95,g:135,b:0},hsl:{h:77.7777777777778,s:100,l:26},name:"Chartreuse4"},{colorId:65,hexString:"#5f875f",rgb:{r:95,g:135,b:95},hsl:{h:120,s:17,l:45},name:"DarkSeaGreen4"},{colorId:66,hexString:"#5f8787",rgb:{r:95,g:135,b:135},hsl:{h:180,s:17,l:45},name:"PaleTurquoise4"},{colorId:67,hexString:"#5f87af",rgb:{r:95,g:135,b:175},hsl:{h:210,s:33,l:52},name:"SteelBlue"},{colorId:68,hexString:"#5f87d7",rgb:{r:95,g:135,b:215},hsl:{h:220,s:60,l:60},name:"SteelBlue3"},{colorId:69,hexString:"#5f87ff",rgb:{r:95,g:135,b:255},hsl:{h:225,s:100,l:68},name:"CornflowerBlue"},{colorId:70,hexString:"#5faf00",rgb:{r:95,g:175,b:0},hsl:{h:87.4285714285714,s:100,l:34},name:"Chartreuse3"},{colorId:71,hexString:"#5faf5f",rgb:{r:95,g:175,b:95},hsl:{h:120,s:33,l:52},name:"DarkSeaGreen4"},{colorId:72,hexString:"#5faf87",rgb:{r:95,g:175,b:135},hsl:{h:150,s:33,l:52},name:"CadetBlue"},{colorId:73,hexString:"#5fafaf",rgb:{r:95,g:175,b:175},hsl:{h:180,s:33,l:52},name:"CadetBlue"},{colorId:74,hexString:"#5fafd7",rgb:{r:95,g:175,b:215},hsl:{h:200,s:60,l:60},name:"SkyBlue3"},{colorId:75,hexString:"#5fafff",rgb:{r:95,g:175,b:255},hsl:{h:210,s:100,l:68},name:"SteelBlue1"},{colorId:76,hexString:"#5fd700",rgb:{r:95,g:215,b:0},hsl:{h:93.4883720930233,s:100,l:42},name:"Chartreuse3"},{colorId:77,hexString:"#5fd75f",rgb:{r:95,g:215,b:95},hsl:{h:120,s:60,l:60},name:"PaleGreen3"},{colorId:78,hexString:"#5fd787",rgb:{r:95,g:215,b:135},hsl:{h:140,s:60,l:60},name:"SeaGreen3"},{colorId:79,hexString:"#5fd7af",rgb:{r:95,g:215,b:175},hsl:{h:160,s:60,l:60},name:"Aquamarine3"},{colorId:80,hexString:"#5fd7d7",rgb:{r:95,g:215,b:215},hsl:{h:180,s:60,l:60},name:"MediumTurquoise"},{colorId:81,hexString:"#5fd7ff",rgb:{r:95,g:215,b:255},hsl:{h:195,s:100,l:68},name:"SteelBlue1"},{colorId:82,hexString:"#5fff00",rgb:{r:95,g:255,b:0},hsl:{h:97.6470588235294,s:100,l:50},name:"Chartreuse2"},{colorId:83,hexString:"#5fff5f",rgb:{r:95,g:255,b:95},hsl:{h:120,s:100,l:68},name:"SeaGreen2"},{colorId:84,hexString:"#5fff87",rgb:{r:95,g:255,b:135},hsl:{h:135,s:100,l:68},name:"SeaGreen1"},{colorId:85,hexString:"#5fffaf",rgb:{r:95,g:255,b:175},hsl:{h:150,s:100,l:68},name:"SeaGreen1"},{colorId:86,hexString:"#5fffd7",rgb:{r:95,g:255,b:215},hsl:{h:165,s:100,l:68},name:"Aquamarine1"},{colorId:87,hexString:"#5fffff",rgb:{r:95,g:255,b:255},hsl:{h:180,s:100,l:68},name:"DarkSlateGray2"},{colorId:88,hexString:"#870000",rgb:{r:135,g:0,b:0},hsl:{h:0,s:100,l:26},name:"DarkRed"},{colorId:89,hexString:"#87005f",rgb:{r:135,g:0,b:95},hsl:{h:317.777777777778,s:100,l:26},name:"DeepPink4"},{colorId:90,hexString:"#870087",rgb:{r:135,g:0,b:135},hsl:{h:300,s:100,l:26},name:"DarkMagenta"},{colorId:91,hexString:"#8700af",rgb:{r:135,g:0,b:175},hsl:{h:286.285714285714,s:100,l:34},name:"DarkMagenta"},{colorId:92,hexString:"#8700d7",rgb:{r:135,g:0,b:215},hsl:{h:277.674418604651,s:100,l:42},name:"DarkViolet"},{colorId:93,hexString:"#8700ff",rgb:{r:135,g:0,b:255},hsl:{h:271.764705882353,s:100,l:50},name:"Purple"},{colorId:94,hexString:"#875f00",rgb:{r:135,g:95,b:0},hsl:{h:42.2222222222222,s:100,l:26},name:"Orange4"},{colorId:95,hexString:"#875f5f",rgb:{r:135,g:95,b:95},hsl:{h:0,s:17,l:45},name:"LightPink4"},{colorId:96,hexString:"#875f87",rgb:{r:135,g:95,b:135},hsl:{h:300,s:17,l:45},name:"Plum4"},{colorId:97,hexString:"#875faf",rgb:{r:135,g:95,b:175},hsl:{h:270,s:33,l:52},name:"MediumPurple3"},{colorId:98,hexString:"#875fd7",rgb:{r:135,g:95,b:215},hsl:{h:260,s:60,l:60},name:"MediumPurple3"},{colorId:99,hexString:"#875fff",rgb:{r:135,g:95,b:255},hsl:{h:255,s:100,l:68},name:"SlateBlue1"},{colorId:100,hexString:"#878700",rgb:{r:135,g:135,b:0},hsl:{h:60,s:100,l:26},name:"Yellow4"},{colorId:101,hexString:"#87875f",rgb:{r:135,g:135,b:95},hsl:{h:60,s:17,l:45},name:"Wheat4"},{colorId:102,hexString:"#878787",rgb:{r:135,g:135,b:135},hsl:{h:0,s:0,l:52},name:"Grey53"},{colorId:103,hexString:"#8787af",rgb:{r:135,g:135,b:175},hsl:{h:240,s:20,l:60},name:"LightSlateGrey"},{colorId:104,hexString:"#8787d7",rgb:{r:135,g:135,b:215},hsl:{h:240,s:50,l:68},name:"MediumPurple"},{colorId:105,hexString:"#8787ff",rgb:{r:135,g:135,b:255},hsl:{h:240,s:100,l:76},name:"LightSlateBlue"},{colorId:106,hexString:"#87af00",rgb:{r:135,g:175,b:0},hsl:{h:73.7142857142857,s:100,l:34},name:"Yellow4"},{colorId:107,hexString:"#87af5f",rgb:{r:135,g:175,b:95},hsl:{h:90,s:33,l:52},name:"DarkOliveGreen3"},{colorId:108,hexString:"#87af87",rgb:{r:135,g:175,b:135},hsl:{h:120,s:20,l:60},name:"DarkSeaGreen"},{colorId:109,hexString:"#87afaf",rgb:{r:135,g:175,b:175},hsl:{h:180,s:20,l:60},name:"LightSkyBlue3"},{colorId:110,hexString:"#87afd7",rgb:{r:135,g:175,b:215},hsl:{h:210,s:50,l:68},name:"LightSkyBlue3"},{colorId:111,hexString:"#87afff",rgb:{r:135,g:175,b:255},hsl:{h:220,s:100,l:76},name:"SkyBlue2"},{colorId:112,hexString:"#87d700",rgb:{r:135,g:215,b:0},hsl:{h:82.3255813953488,s:100,l:42},name:"Chartreuse2"},{colorId:113,hexString:"#87d75f",rgb:{r:135,g:215,b:95},hsl:{h:100,s:60,l:60},name:"DarkOliveGreen3"},{colorId:114,hexString:"#87d787",rgb:{r:135,g:215,b:135},hsl:{h:120,s:50,l:68},name:"PaleGreen3"},{colorId:115,hexString:"#87d7af",rgb:{r:135,g:215,b:175},hsl:{h:150,s:50,l:68},name:"DarkSeaGreen3"},{colorId:116,hexString:"#87d7d7",rgb:{r:135,g:215,b:215},hsl:{h:180,s:50,l:68},name:"DarkSlateGray3"},{colorId:117,hexString:"#87d7ff",rgb:{r:135,g:215,b:255},hsl:{h:200,s:100,l:76},name:"SkyBlue1"},{colorId:118,hexString:"#87ff00",rgb:{r:135,g:255,b:0},hsl:{h:88.2352941176471,s:100,l:50},name:"Chartreuse1"},{colorId:119,hexString:"#87ff5f",rgb:{r:135,g:255,b:95},hsl:{h:105,s:100,l:68},name:"LightGreen"},{colorId:120,hexString:"#87ff87",rgb:{r:135,g:255,b:135},hsl:{h:120,s:100,l:76},name:"LightGreen"},{colorId:121,hexString:"#87ffaf",rgb:{r:135,g:255,b:175},hsl:{h:140,s:100,l:76},name:"PaleGreen1"},{colorId:122,hexString:"#87ffd7",rgb:{r:135,g:255,b:215},hsl:{h:160,s:100,l:76},name:"Aquamarine1"},{colorId:123,hexString:"#87ffff",rgb:{r:135,g:255,b:255},hsl:{h:180,s:100,l:76},name:"DarkSlateGray1"},{colorId:124,hexString:"#af0000",rgb:{r:175,g:0,b:0},hsl:{h:0,s:100,l:34},name:"Red3"},{colorId:125,hexString:"#af005f",rgb:{r:175,g:0,b:95},hsl:{h:327.428571428571,s:100,l:34},name:"DeepPink4"},{colorId:126,hexString:"#af0087",rgb:{r:175,g:0,b:135},hsl:{h:313.714285714286,s:100,l:34},name:"MediumVioletRed"},{colorId:127,hexString:"#af00af",rgb:{r:175,g:0,b:175},hsl:{h:300,s:100,l:34},name:"Magenta3"},{colorId:128,hexString:"#af00d7",rgb:{r:175,g:0,b:215},hsl:{h:288.837209302326,s:100,l:42},name:"DarkViolet"},{colorId:129,hexString:"#af00ff",rgb:{r:175,g:0,b:255},hsl:{h:281.176470588235,s:100,l:50},name:"Purple"},{colorId:130,hexString:"#af5f00",rgb:{r:175,g:95,b:0},hsl:{h:32.5714285714286,s:100,l:34},name:"DarkOrange3"},{colorId:131,hexString:"#af5f5f",rgb:{r:175,g:95,b:95},hsl:{h:0,s:33,l:52},name:"IndianRed"},{colorId:132,hexString:"#af5f87",rgb:{r:175,g:95,b:135},hsl:{h:330,s:33,l:52},name:"HotPink3"},{colorId:133,hexString:"#af5faf",rgb:{r:175,g:95,b:175},hsl:{h:300,s:33,l:52},name:"MediumOrchid3"},{colorId:134,hexString:"#af5fd7",rgb:{r:175,g:95,b:215},hsl:{h:280,s:60,l:60},name:"MediumOrchid"},{colorId:135,hexString:"#af5fff",rgb:{r:175,g:95,b:255},hsl:{h:270,s:100,l:68},name:"MediumPurple2"},{colorId:136,hexString:"#af8700",rgb:{r:175,g:135,b:0},hsl:{h:46.2857142857143,s:100,l:34},name:"DarkGoldenrod"},{colorId:137,hexString:"#af875f",rgb:{r:175,g:135,b:95},hsl:{h:30,s:33,l:52},name:"LightSalmon3"},{colorId:138,hexString:"#af8787",rgb:{r:175,g:135,b:135},hsl:{h:0,s:20,l:60},name:"RosyBrown"},{colorId:139,hexString:"#af87af",rgb:{r:175,g:135,b:175},hsl:{h:300,s:20,l:60},name:"Grey63"},{colorId:140,hexString:"#af87d7",rgb:{r:175,g:135,b:215},hsl:{h:270,s:50,l:68},name:"MediumPurple2"},{colorId:141,hexString:"#af87ff",rgb:{r:175,g:135,b:255},hsl:{h:260,s:100,l:76},name:"MediumPurple1"},{colorId:142,hexString:"#afaf00",rgb:{r:175,g:175,b:0},hsl:{h:60,s:100,l:34},name:"Gold3"},{colorId:143,hexString:"#afaf5f",rgb:{r:175,g:175,b:95},hsl:{h:60,s:33,l:52},name:"DarkKhaki"},{colorId:144,hexString:"#afaf87",rgb:{r:175,g:175,b:135},hsl:{h:60,s:20,l:60},name:"NavajoWhite3"},{colorId:145,hexString:"#afafaf",rgb:{r:175,g:175,b:175},hsl:{h:0,s:0,l:68},name:"Grey69"},{colorId:146,hexString:"#afafd7",rgb:{r:175,g:175,b:215},hsl:{h:240,s:33,l:76},name:"LightSteelBlue3"},{colorId:147,hexString:"#afafff",rgb:{r:175,g:175,b:255},hsl:{h:240,s:100,l:84},name:"LightSteelBlue"},{colorId:148,hexString:"#afd700",rgb:{r:175,g:215,b:0},hsl:{h:71.1627906976744,s:100,l:42},name:"Yellow3"},{colorId:149,hexString:"#afd75f",rgb:{r:175,g:215,b:95},hsl:{h:80,s:60,l:60},name:"DarkOliveGreen3"},{colorId:150,hexString:"#afd787",rgb:{r:175,g:215,b:135},hsl:{h:90,s:50,l:68},name:"DarkSeaGreen3"},{colorId:151,hexString:"#afd7af",rgb:{r:175,g:215,b:175},hsl:{h:120,s:33,l:76},name:"DarkSeaGreen2"},{colorId:152,hexString:"#afd7d7",rgb:{r:175,g:215,b:215},hsl:{h:180,s:33,l:76},name:"LightCyan3"},{colorId:153,hexString:"#afd7ff",rgb:{r:175,g:215,b:255},hsl:{h:210,s:100,l:84},name:"LightSkyBlue1"},{colorId:154,hexString:"#afff00",rgb:{r:175,g:255,b:0},hsl:{h:78.8235294117647,s:100,l:50},name:"GreenYellow"},{colorId:155,hexString:"#afff5f",rgb:{r:175,g:255,b:95},hsl:{h:90,s:100,l:68},name:"DarkOliveGreen2"},{colorId:156,hexString:"#afff87",rgb:{r:175,g:255,b:135},hsl:{h:100,s:100,l:76},name:"PaleGreen1"},{colorId:157,hexString:"#afffaf",rgb:{r:175,g:255,b:175},hsl:{h:120,s:100,l:84},name:"DarkSeaGreen2"},{colorId:158,hexString:"#afffd7",rgb:{r:175,g:255,b:215},hsl:{h:150,s:100,l:84},name:"DarkSeaGreen1"},{colorId:159,hexString:"#afffff",rgb:{r:175,g:255,b:255},hsl:{h:180,s:100,l:84},name:"PaleTurquoise1"},{colorId:160,hexString:"#d70000",rgb:{r:215,g:0,b:0},hsl:{h:0,s:100,l:42},name:"Red3"},{colorId:161,hexString:"#d7005f",rgb:{r:215,g:0,b:95},hsl:{h:333.488372093023,s:100,l:42},name:"DeepPink3"},{colorId:162,hexString:"#d70087",rgb:{r:215,g:0,b:135},hsl:{h:322.325581395349,s:100,l:42},name:"DeepPink3"},{colorId:163,hexString:"#d700af",rgb:{r:215,g:0,b:175},hsl:{h:311.162790697674,s:100,l:42},name:"Magenta3"},{colorId:164,hexString:"#d700d7",rgb:{r:215,g:0,b:215},hsl:{h:300,s:100,l:42},name:"Magenta3"},{colorId:165,hexString:"#d700ff",rgb:{r:215,g:0,b:255},hsl:{h:290.588235294118,s:100,l:50},name:"Magenta2"},{colorId:166,hexString:"#d75f00",rgb:{r:215,g:95,b:0},hsl:{h:26.5116279069767,s:100,l:42},name:"DarkOrange3"},{colorId:167,hexString:"#d75f5f",rgb:{r:215,g:95,b:95},hsl:{h:0,s:60,l:60},name:"IndianRed"},{colorId:168,hexString:"#d75f87",rgb:{r:215,g:95,b:135},hsl:{h:340,s:60,l:60},name:"HotPink3"},{colorId:169,hexString:"#d75faf",rgb:{r:215,g:95,b:175},hsl:{h:320,s:60,l:60},name:"HotPink2"},{colorId:170,hexString:"#d75fd7",rgb:{r:215,g:95,b:215},hsl:{h:300,s:60,l:60},name:"Orchid"},{colorId:171,hexString:"#d75fff",rgb:{r:215,g:95,b:255},hsl:{h:285,s:100,l:68},name:"MediumOrchid1"},{colorId:172,hexString:"#d78700",rgb:{r:215,g:135,b:0},hsl:{h:37.6744186046512,s:100,l:42},name:"Orange3"},{colorId:173,hexString:"#d7875f",rgb:{r:215,g:135,b:95},hsl:{h:20,s:60,l:60},name:"LightSalmon3"},{colorId:174,hexString:"#d78787",rgb:{r:215,g:135,b:135},hsl:{h:0,s:50,l:68},name:"LightPink3"},{colorId:175,hexString:"#d787af",rgb:{r:215,g:135,b:175},hsl:{h:330,s:50,l:68},name:"Pink3"},{colorId:176,hexString:"#d787d7",rgb:{r:215,g:135,b:215},hsl:{h:300,s:50,l:68},name:"Plum3"},{colorId:177,hexString:"#d787ff",rgb:{r:215,g:135,b:255},hsl:{h:280,s:100,l:76},name:"Violet"},{colorId:178,hexString:"#d7af00",rgb:{r:215,g:175,b:0},hsl:{h:48.8372093023256,s:100,l:42},name:"Gold3"},{colorId:179,hexString:"#d7af5f",rgb:{r:215,g:175,b:95},hsl:{h:40,s:60,l:60},name:"LightGoldenrod3"},{colorId:180,hexString:"#d7af87",rgb:{r:215,g:175,b:135},hsl:{h:30,s:50,l:68},name:"Tan"},{colorId:181,hexString:"#d7afaf",rgb:{r:215,g:175,b:175},hsl:{h:0,s:33,l:76},name:"MistyRose3"},{colorId:182,hexString:"#d7afd7",rgb:{r:215,g:175,b:215},hsl:{h:300,s:33,l:76},name:"Thistle3"},{colorId:183,hexString:"#d7afff",rgb:{r:215,g:175,b:255},hsl:{h:270,s:100,l:84},name:"Plum2"},{colorId:184,hexString:"#d7d700",rgb:{r:215,g:215,b:0},hsl:{h:60,s:100,l:42},name:"Yellow3"},{colorId:185,hexString:"#d7d75f",rgb:{r:215,g:215,b:95},hsl:{h:60,s:60,l:60},name:"Khaki3"},{colorId:186,hexString:"#d7d787",rgb:{r:215,g:215,b:135},hsl:{h:60,s:50,l:68},name:"LightGoldenrod2"},{colorId:187,hexString:"#d7d7af",rgb:{r:215,g:215,b:175},hsl:{h:60,s:33,l:76},name:"LightYellow3"},{colorId:188,hexString:"#d7d7d7",rgb:{r:215,g:215,b:215},hsl:{h:0,s:0,l:84},name:"Grey84"},{colorId:189,hexString:"#d7d7ff",rgb:{r:215,g:215,b:255},hsl:{h:240,s:100,l:92},name:"LightSteelBlue1"},{colorId:190,hexString:"#d7ff00",rgb:{r:215,g:255,b:0},hsl:{h:69.4117647058823,s:100,l:50},name:"Yellow2"},{colorId:191,hexString:"#d7ff5f",rgb:{r:215,g:255,b:95},hsl:{h:75,s:100,l:68},name:"DarkOliveGreen1"},{colorId:192,hexString:"#d7ff87",rgb:{r:215,g:255,b:135},hsl:{h:80,s:100,l:76},name:"DarkOliveGreen1"},{colorId:193,hexString:"#d7ffaf",rgb:{r:215,g:255,b:175},hsl:{h:90,s:100,l:84},name:"DarkSeaGreen1"},{colorId:194,hexString:"#d7ffd7",rgb:{r:215,g:255,b:215},hsl:{h:120,s:100,l:92},name:"Honeydew2"},{colorId:195,hexString:"#d7ffff",rgb:{r:215,g:255,b:255},hsl:{h:180,s:100,l:92},name:"LightCyan1"},{colorId:196,hexString:"#ff0000",rgb:{r:255,g:0,b:0},hsl:{h:0,s:100,l:50},name:"Red1"},{colorId:197,hexString:"#ff005f",rgb:{r:255,g:0,b:95},hsl:{h:337.647058823529,s:100,l:50},name:"DeepPink2"},{colorId:198,hexString:"#ff0087",rgb:{r:255,g:0,b:135},hsl:{h:328.235294117647,s:100,l:50},name:"DeepPink1"},{colorId:199,hexString:"#ff00af",rgb:{r:255,g:0,b:175},hsl:{h:318.823529411765,s:100,l:50},name:"DeepPink1"},{colorId:200,hexString:"#ff00d7",rgb:{r:255,g:0,b:215},hsl:{h:309.411764705882,s:100,l:50},name:"Magenta2"},{colorId:201,hexString:"#ff00ff",rgb:{r:255,g:0,b:255},hsl:{h:300,s:100,l:50},name:"Magenta1"},{colorId:202,hexString:"#ff5f00",rgb:{r:255,g:95,b:0},hsl:{h:22.3529411764706,s:100,l:50},name:"OrangeRed1"},{colorId:203,hexString:"#ff5f5f",rgb:{r:255,g:95,b:95},hsl:{h:0,s:100,l:68},name:"IndianRed1"},{colorId:204,hexString:"#ff5f87",rgb:{r:255,g:95,b:135},hsl:{h:345,s:100,l:68},name:"IndianRed1"},{colorId:205,hexString:"#ff5faf",rgb:{r:255,g:95,b:175},hsl:{h:330,s:100,l:68},name:"HotPink"},{colorId:206,hexString:"#ff5fd7",rgb:{r:255,g:95,b:215},hsl:{h:315,s:100,l:68},name:"HotPink"},{colorId:207,hexString:"#ff5fff",rgb:{r:255,g:95,b:255},hsl:{h:300,s:100,l:68},name:"MediumOrchid1"},{colorId:208,hexString:"#ff8700",rgb:{r:255,g:135,b:0},hsl:{h:31.7647058823529,s:100,l:50},name:"DarkOrange"},{colorId:209,hexString:"#ff875f",rgb:{r:255,g:135,b:95},hsl:{h:15,s:100,l:68},name:"Salmon1"},{colorId:210,hexString:"#ff8787",rgb:{r:255,g:135,b:135},hsl:{h:0,s:100,l:76},name:"LightCoral"},{colorId:211,hexString:"#ff87af",rgb:{r:255,g:135,b:175},hsl:{h:340,s:100,l:76},name:"PaleVioletRed1"},{colorId:212,hexString:"#ff87d7",rgb:{r:255,g:135,b:215},hsl:{h:320,s:100,l:76},name:"Orchid2"},{colorId:213,hexString:"#ff87ff",rgb:{r:255,g:135,b:255},hsl:{h:300,s:100,l:76},name:"Orchid1"},{colorId:214,hexString:"#ffaf00",rgb:{r:255,g:175,b:0},hsl:{h:41.1764705882353,s:100,l:50},name:"Orange1"},{colorId:215,hexString:"#ffaf5f",rgb:{r:255,g:175,b:95},hsl:{h:30,s:100,l:68},name:"SandyBrown"},{colorId:216,hexString:"#ffaf87",rgb:{r:255,g:175,b:135},hsl:{h:20,s:100,l:76},name:"LightSalmon1"},{colorId:217,hexString:"#ffafaf",rgb:{r:255,g:175,b:175},hsl:{h:0,s:100,l:84},name:"LightPink1"},{colorId:218,hexString:"#ffafd7",rgb:{r:255,g:175,b:215},hsl:{h:330,s:100,l:84},name:"Pink1"},{colorId:219,hexString:"#ffafff",rgb:{r:255,g:175,b:255},hsl:{h:300,s:100,l:84},name:"Plum1"},{colorId:220,hexString:"#ffd700",rgb:{r:255,g:215,b:0},hsl:{h:50.5882352941176,s:100,l:50},name:"Gold1"},{colorId:221,hexString:"#ffd75f",rgb:{r:255,g:215,b:95},hsl:{h:45,s:100,l:68},name:"LightGoldenrod2"},{colorId:222,hexString:"#ffd787",rgb:{r:255,g:215,b:135},hsl:{h:40,s:100,l:76},name:"LightGoldenrod2"},{colorId:223,hexString:"#ffd7af",rgb:{r:255,g:215,b:175},hsl:{h:30,s:100,l:84},name:"NavajoWhite1"},{colorId:224,hexString:"#ffd7d7",rgb:{r:255,g:215,b:215},hsl:{h:0,s:100,l:92},name:"MistyRose1"},{colorId:225,hexString:"#ffd7ff",rgb:{r:255,g:215,b:255},hsl:{h:300,s:100,l:92},name:"Thistle1"},{colorId:226,hexString:"#ffff00",rgb:{r:255,g:255,b:0},hsl:{h:60,s:100,l:50},name:"Yellow1"},{colorId:227,hexString:"#ffff5f",rgb:{r:255,g:255,b:95},hsl:{h:60,s:100,l:68},name:"LightGoldenrod1"},{colorId:228,hexString:"#ffff87",rgb:{r:255,g:255,b:135},hsl:{h:60,s:100,l:76},name:"Khaki1"},{colorId:229,hexString:"#ffffaf",rgb:{r:255,g:255,b:175},hsl:{h:60,s:100,l:84},name:"Wheat1"},{colorId:230,hexString:"#ffffd7",rgb:{r:255,g:255,b:215},hsl:{h:60,s:100,l:92},name:"Cornsilk1"},{colorId:231,hexString:"#ffffff",rgb:{r:255,g:255,b:255},hsl:{h:0,s:0,l:100},name:"Grey100"},{colorId:232,hexString:"#080808",rgb:{r:8,g:8,b:8},hsl:{h:0,s:0,l:3},name:"Grey3"},{colorId:233,hexString:"#121212",rgb:{r:18,g:18,b:18},hsl:{h:0,s:0,l:7},name:"Grey7"},{colorId:234,hexString:"#1c1c1c",rgb:{r:28,g:28,b:28},hsl:{h:0,s:0,l:10},name:"Grey11"},{colorId:235,hexString:"#262626",rgb:{r:38,g:38,b:38},hsl:{h:0,s:0,l:14},name:"Grey15"},{colorId:236,hexString:"#303030",rgb:{r:48,g:48,b:48},hsl:{h:0,s:0,l:18},name:"Grey19"},{colorId:237,hexString:"#3a3a3a",rgb:{r:58,g:58,b:58},hsl:{h:0,s:0,l:22},name:"Grey23"},{colorId:238,hexString:"#444444",rgb:{r:68,g:68,b:68},hsl:{h:0,s:0,l:26},name:"Grey27"},{colorId:239,hexString:"#4e4e4e",rgb:{r:78,g:78,b:78},hsl:{h:0,s:0,l:30},name:"Grey30"},{colorId:240,hexString:"#585858",rgb:{r:88,g:88,b:88},hsl:{h:0,s:0,l:34},name:"Grey35"},{colorId:241,hexString:"#626262",rgb:{r:98,g:98,b:98},hsl:{h:0,s:0,l:37},name:"Grey39"},{colorId:242,hexString:"#6c6c6c",rgb:{r:108,g:108,b:108},hsl:{h:0,s:0,l:40},name:"Grey42"},{colorId:243,hexString:"#767676",rgb:{r:118,g:118,b:118},hsl:{h:0,s:0,l:46},name:"Grey46"},{colorId:244,hexString:"#808080",rgb:{r:128,g:128,b:128},hsl:{h:0,s:0,l:50},name:"Grey50"},{colorId:245,hexString:"#8a8a8a",rgb:{r:138,g:138,b:138},hsl:{h:0,s:0,l:54},name:"Grey54"},{colorId:246,hexString:"#949494",rgb:{r:148,g:148,b:148},hsl:{h:0,s:0,l:58},name:"Grey58"},{colorId:247,hexString:"#9e9e9e",rgb:{r:158,g:158,b:158},hsl:{h:0,s:0,l:61},name:"Grey62"},{colorId:248,hexString:"#a8a8a8",rgb:{r:168,g:168,b:168},hsl:{h:0,s:0,l:65},name:"Grey66"},{colorId:249,hexString:"#b2b2b2",rgb:{r:178,g:178,b:178},hsl:{h:0,s:0,l:69},name:"Grey70"},{colorId:250,hexString:"#bcbcbc",rgb:{r:188,g:188,b:188},hsl:{h:0,s:0,l:73},name:"Grey74"},{colorId:251,hexString:"#c6c6c6",rgb:{r:198,g:198,b:198},hsl:{h:0,s:0,l:77},name:"Grey78"},{colorId:252,hexString:"#d0d0d0",rgb:{r:208,g:208,b:208},hsl:{h:0,s:0,l:81},name:"Grey82"},{colorId:253,hexString:"#dadada",rgb:{r:218,g:218,b:218},hsl:{h:0,s:0,l:85},name:"Grey85"},{colorId:254,hexString:"#e4e4e4",rgb:{r:228,g:228,b:228},hsl:{h:0,s:0,l:89},name:"Grey89"},{colorId:255,hexString:"#eeeeee",rgb:{r:238,g:238,b:238},hsl:{h:0,s:0,l:93},name:"Grey93"}],ka=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},La=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"createCanvas",value:function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return{canvas:t,ctx:n}}},{key:"createImgDom",value:function(e){var t=new Image;return t.crossOrigin="Anonymous",t.src=e,new Promise((function(e){t.onload=function(){e(t)},t.onerror=function(e){}}))}},{key:"renderColorByMask",value:function(t){var n=t.renderCanvas,i=t.imgData,a=t.imgNode,r=t.customColor,o=t.backgroundColor,c=void 0===o?"rgb(0, 0, 0)":o,l=t.hiddenUndefinedColor,s=void 0!==l&&l,u=n.getContext("2d");if(u){u.fillStyle=c,u.fillRect(0,0,a.width,a.height);return e.renderPixelByImgData({ctx:u,imgData:i,size:a,getColor:function(e){var t,n=e.r,i=null==(t=null==r?void 0:r.find((function(e){return(null==e?void 0:e.channel)===n})))?void 0:t.color;return!0!==s||i?i||wa[n].hexString:""}}),n.toDataURL("image/png")}}},{key:"renderMaskByColor",value:function(t){var n=t.renderCanvas,i=t.imgData,a=t.imgNode,r=t.customColor,o=t.backgroundColor,c=void 0===o?"rgb(0, 0, 0)":o,l=n.getContext("2d");if(l){l.fillStyle=c,l.fillRect(0,0,a.width,a.height);return e.renderPixelByImgData({ctx:l,imgData:i,size:a,getColor:function(e){var t=e.r,n=e.g,i=e.b,a="";return null==r||r.some((function(e){if(e.rgb){return t>=e.rgb.r-2&&t<=e.rgb.r+2&&n>=e.rgb.g-2&&n<=e.rgb.g+2&&i>=e.rgb.b-2&&i<=e.rgb.b+2&&(a="rgb(".concat(e.channel,",").concat(e.channel,",").concat(e.channel,")"),!0)}})),a}}),n.toDataURL("image/png")}}},{key:"renderPixelByImgData",value:function(e){for(var t=e.ctx,n=e.imgData,i=e.size,a=e.getColor,r=0;r<n.data.length/4;r++){var o=4*r,c=a({r:n.data[o],g:n.data[o+1],b:n.data[o+2],a:n.data[o+3]});if(c){t.fillStyle=c;var l=Math.floor(r%i.width),s=Math.floor(r/i.width);t.fillRect(l,s,1,1)}}}}]),e}(),Ca=La;Ca.nextTick=function(){return new Promise((function(e){setTimeout((function(){e("")}))}))},Ca.getColorMapBySingleChannelMask=function(e){return ka(La,null,Object(m.a)().mark((function t(){var n,i,a,r,o,c,l,s,u,d,h,g,f,b,p,v;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.maskSrc,i=e.customColor,a=e.basicImgSrc,r=e.opacity,o=void 0===r?.3:r,c=e.hiddenUndefinedColor,l=void 0!==c&&c,t.prev=1,t.next=4,La.createImgDom(n);case 4:if(s=t.sent,u=La.createCanvas(s),(d=u.ctx).drawImage(s,0,0,s.width,s.height),h=La.createCanvas(s),g=h.canvas,f=h.ctx,!a){t.next=14;break}return t.next=11,La.createImgDom(a);case 11:b=t.sent,f.drawImage(b,0,0),f.globalAlpha=o;case 14:return t.next=16,La.nextTick();case 16:return p=d.getImageData(0,0,s.width,s.height),v=La.renderColorByMask({renderCanvas:g,imgData:p,imgNode:s,customColor:i,backgroundColor:e.backgroundColor,hiddenUndefinedColor:l}),t.abrupt("return",v);case 21:t.prev=21,t.t0=t.catch(1);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))},Ca.getMaskByColorImg=function(e){return ka(La,[e],(function(e){var t=e.maskSrc,n=e.customColor;return Object(m.a)().mark((function e(){var i,a,r,o,c,l,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,La.createImgDom(t);case 3:return i=e.sent,a=La.createCanvas(i),(r=a.ctx).drawImage(i,0,0,i.width,i.height),o=La.createCanvas(i),c=o.canvas,e.next=9,La.nextTick();case 9:return l=r.getImageData(0,0,i.width,i.height),s=La.renderMaskByColor({renderCanvas:c,imgData:l,imgNode:i,customColor:n}),e.abrupt("return",s);case 14:e.prev=14,e.t0=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))()}))};var Sa,Ia,Aa=function(){function e(t){var n=this;Object(Ve.a)(this,e),this.textKeyDown=function(e){if(e.stopPropagation(),e.keyCode===Ei.Enter)n.submitTextarea(),n.appendToContainer()};var i=t.container,a=t.icon,r=t.color,o=t.getCurrentSelectedData,c=t.updateSelectedTextAttribute,l=t.width||164;this.container=i,this.getCurrentSelectedData=o,this.updateSelectedTextAttribute=c,this._textAttributeDOM=this.initTextAttributeDOM(),this._iconDOM=this.initIconDOM(a),this._textDOM=this.initTextDOM(l,lt),this._textareaDOM=this.initTextareaDOM(l,r),this.appendToContainer()}return Object(He.a)(e,[{key:"isExit",get:function(){return!!this._textAttributeDOM&&this.container.contains(this._textAttributeDOM)}},{key:"isExitTextareaDOM",get:function(){return!!this._textareaDOM&&this.container.contains(this._textareaDOM)}},{key:"updateIcon",value:function(e){this._iconDOM&&(this._iconDOM.innerHTML=e)}},{key:"appendToContainer",value:function(){!this._textAttributeDOM||!this._textDOM||!this._iconDOM||(this.container.appendChild(this._textAttributeDOM),this._textAttributeDOM.appendChild(this._textDOM),this._textAttributeDOM.appendChild(this._iconDOM))}},{key:"initTextAttributeDOM",value:function(){var e=document.createElement("div");return e.setAttribute("id","textArea"),e}},{key:"initTextDOM",value:function(e,t){var n=document.createElement("span");return n.setAttribute("style","\n        width: ".concat(Math.max(e,30),"px;\n        line-height: ").concat(t,"px;\n        word-break: break-all;\n        white-space: pre-line;\n        font-style: italic;\n      ")),n}},{key:"initIconDOM",value:function(e){var t=this,n=document.createElement("div");return n.setAttribute("id","annotation_text"),n.innerHTML=e,n.addEventListener("mouseup",(function(e){e.stopPropagation(),t.renderTextarea()})),n.addEventListener("mousedown",(function(e){e.stopPropagation()})),n.addEventListener("contextmenu",(function(e){e.stopPropagation()})),n.setAttribute("style","\n        position: absolute;\n        left: -20px;\n        top: 4px;\n        cursor: pointer;\n        z-index: 10\n      "),n}},{key:"initTextareaDOM",value:function(e,t){var n=document.createElement("textarea");return n.addEventListener("click",(function(e){e.stopPropagation()})),n.addEventListener("mouseup",(function(e){e.stopPropagation()})),n.setAttribute("style","\n      background-color: transparent;\n      border-radius: 5px;\n      border-color: ".concat(t,";\n      outline: none;\n      resize: none;\n      width: ").concat(Math.max(e,30),"px;\n      ")),n.setAttribute("maxLength","".concat(ct)),n}},{key:"removeTextDOM",value:function(){!this._textAttributeDOM||this._textDOM&&this._textAttributeDOM.removeChild(this._textDOM)}},{key:"removeIconDOM",value:function(){!this._textAttributeDOM||this._iconDOM&&this._textAttributeDOM.removeChild(this._iconDOM)}},{key:"removeTextareaDOM",value:function(){var e,t;this._textareaDOM&&this._textAttributeDOM&&(null==(e=this._textAttributeDOM)?void 0:e.contains(this._textareaDOM))&&(null==(t=this._textAttributeDOM)||t.removeChild(this._textareaDOM))}},{key:"submitTextarea",value:function(){var e;this._textareaDOM&&(this.updateSelectedTextAttribute(null==(e=this._textareaDOM)?void 0:e.value),this.removeTextareaDOM(),this.clearTextAttribute())}},{key:"clearTextAttribute",value:function(){this._textAttributeDOM&&this.container.contains(this._textAttributeDOM)&&this.container.removeChild(this._textAttributeDOM)}},{key:"renderTextarea",value:function(){if(this._textAttributeDOM&&this._textareaDOM){var e=this.getCurrentSelectedData();if(e){var t=e.width,n=void 0===t?164:t,i=e.textAttribute,a=e.color;this._textareaDOM.value="".concat(i),this._textareaDOM.setAttribute("style","\n      background-color: rgba(0,0,0,0.4);\n      border-radius: 5px;\n      border-color: ".concat(a,";\n      outline: none;\n      resize: none;\n      font-style: italic;\n      font-weight: 900;\n      text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.6);\n      width: ").concat(Math.max(n,30),"px;\n      ")),this._textareaDOM.setAttribute("maxLength","".concat(ct)),this._textAttributeDOM.appendChild(this._textareaDOM),this.removeIconDOM(),this.removeTextDOM(),this._textareaDOM.focus(),this._textareaDOM.addEventListener("keydown",this.textKeyDown)}}}},{key:"update",value:function(e,t){var n,i=t.left,a=t.top,r=t.color,o=t.width,c=void 0===o?164:o,l=Math.max(c,30);null==(n=this._textAttributeDOM)||n.setAttribute("style","\n        position: absolute; \n        width: ".concat(l,"px;\n        font-size: 14px; \n        left:").concat(i,"px; \n        top: ").concat(a,"px; \n        color: ").concat(r,";\n      ")),this._textDOM&&(this._textDOM.innerHTML="".concat(e)),this._textareaDOM&&(this._textareaDOM.style.width="".concat(l,"px"),this._textareaDOM.style.borderColor="".concat(r))}},{key:"changeSelected",value:function(){this.isExitTextareaDOM&&this.submitTextarea()}}]),e}(),Pa=Object.defineProperty,ja=Object.defineProperties,Ta=Object.getOwnPropertyDescriptors,Ea=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Ma=Object.prototype.propertyIsEnumerable,Ra=function(e,t,n){return t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Na=function(e,t){for(var n in t||(t={}))Da.call(t,n)&&Ra(e,n,t[n]);if(Ea){var i,a=Object(Se.a)(Ea(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Ma.call(t,n)&&Ra(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Va=function(e,t){return ja(e,Ta(t))},Ha=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).isUncheckedApproachBoundary=!1,i.isAllowDouble=function(e){var t=Object(Be.a)(i).selectedID,n=i.getHoverID(e);return!(!t||t!==n)},i.textChange=function(e){!1===i.config.textConfigurable||!i.selectedID||(i.setPolygonList(Wn.textChange(e,i.selectedID,i.polygonList)),i.emit("selectedChange"),i.render())},i.config=xr.jsonParser(e.config),i.drawingPointList=[],i.polygonList=[],i.hoverPointIndex=-1,i.hoverEdgeIndex=-1,i.drawingHistory=new Di,i.isCtrl=!1,i.isAlt=!1,i.isCombined=!1,i.pattern=dt.Normal,i.getCurrentSelectedData=i.getCurrentSelectedData.bind(Object(Be.a)(i)),i.updateSelectedTextAttribute=i.updateSelectedTextAttribute.bind(Object(Be.a)(i)),i}return Object(He.a)(n,[{key:"eventBinding",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"eventBinding",this).call(this),this.container.removeEventListener("mouseup",this.onMouseUp),this.container.addEventListener("mouseup",this.dragMouseUp),this.dblClickListener.addEvent(this.onMouseUp,this.onLeftDblClick,this.onRightDblClick,this.isAllowDouble)}},{key:"eventUnbinding",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"eventUnbinding",this).call(this),this.container.removeEventListener("mouseup",this.dragMouseUp)}},{key:"destroy",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"destroy",this).call(this),this._textAttributInstance&&this._textAttributInstance.clearTextAttribute()}},{key:"selectedPolygon",get:function(){return Ir.getPolygonByID(this.polygonList,this.selectedID)}},{key:"hoverPolygon",get:function(){var e=this;return this.polygonList.find((function(t){return t.id===e.hoverID&&t.id!==e.selectedID}))}},{key:"polygonListUnderZoom",get:function(){var e=this;return this.polygonList.map((function(t){return Va(Na({},t),{pointList:Yr.changePointListByZoom(t.pointList,e.zoom)})}))}},{key:"selectedText",get:function(){var e;return null==(e=this.selectedPolygon)?void 0:e.textAttribute}},{key:"dataList",get:function(){return this.polygonList}},{key:"setPattern",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(null==(t=this.drawingPointList)?void 0:t.length)>0&&!0===n||(this.pattern=e)}},{key:"setIsUncheckedApproachBoundary",value:function(e){this.isUncheckedApproachBoundary=e}},{key:"currentShowList",get:function(){var e=[],t=xr.getRenderResultList(this.polygonList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(G.a)(t,2),i=n[0],a=n[1];return e=i,this.isHidden&&(e=[]),a&&e.push(a),e}},{key:"currentPageResult",get:function(){var e=xr.getRenderResultList(this.polygonList,xr.getSourceID(this.basicResult),[]);return Object(G.a)(e,1)[0]}},{key:"setResultAndSelectedID",value:function(e,t){this.setPolygonList(e),t&&(this.selectedID=t);var n=e.filter((function(e){return e.id===t}));Array.isArray(n)&&n.length>0&&this.setDefaultAttribute(n[0].attribute),this.render()}},{key:"setResult",value:function(e){this.clearActiveStatus(),this.setPolygonList(e),this.render()}},{key:"setPolygonDataByID",value:function(e,t){return this.polygonList.map((function(n){return n.id===t?Na(Na({},n),e):n}))}},{key:"rotatePolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt.Clockwise,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectedID;if(n){var i=Ir.getPolygonByID(this.polygonList,n);if(i){var a=Ir.updatePolygonByRotate(t,e,null==i?void 0:i.pointList);this.setPolygonList(this.setPolygonDataByID({pointList:a},n)),this.render()}}}},{key:"addPointInDrawing",value:function(e){if(!(!this.imgInfo||this.forbidAddNewPolygonFuc&&this.forbidAddNewPolygonFuc(e))){var t=this.config,n=t.upperLimitPointNum,i=t.edgeAdsorption;if(n&&this.drawingPointList.length>=n)this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.UpperLimitErrorNotice,this.lang)).concat(n));else{this.deleteSelectedID();var a=this.getCoordinateUnderZoom(e),r=Yr.changeDrawOutsideTarget(a,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(0!==Yr.returnClosePointIndex(r,Yr.changePointListByZoom(this.drawingPointList,this.zoom))){var o=Ir.getClosestPoint(r,this.polygonListUnderZoom,this.config.lineType,pt).dropFoot,c=Yr.changePointByZoom(o&&!1===e.altKey&&i?o:r,1/this.zoom);if(this.pattern===dt.Rect&&2===this.drawingPointList.length){var l=Zr.getRectangleByRightAngle(c,this.drawingPointList);return this.drawingPointList=l,!1===this.config.drawOutsideTarget&&this.imgInfo&&this.isPolygonOutSide(this.drawingPointList)?(this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.ForbiddenCreationOutsideBoundary,this.lang))),void(this.drawingPointList=[])):void this.addDrawingPointToPolygonList(!0)}this.drawingPointList.push(c),1===this.drawingPointList.length?this.drawingHistory.initRecord(this.drawingPointList):this.drawingHistory.pushHistory(this.drawingPointList)}else this.addDrawingPointToPolygonList()}}}},{key:"clearResult",value:function(){this.setPolygonList([]),this.deleteSelectedID(),this.render()}},{key:"clearPolygonDrag",value:function(){this.drawingPointList=[],this.dragInfo=void 0,this.dragInfo=void 0,this.dragStatus=Jt.Wait,this.hoverEdgeIndex=-1,this.hoverPointIndex=-1,this.hoverID=""}},{key:"clearActiveStatus",value:function(){this.clearPolygonDrag(),this.deleteSelectedID()}},{key:"clearDrawingStatus",value:function(){this.drawingPointList=[]}},{key:"setPolygonList",value:function(e){var t=this.polygonList.length;this.polygonList=e,t!==e.length&&this.emit("updatePageNumber")}},{key:"setSelectedID",value:function(e){var t,n,i=this.selectedID;e!==i&&i&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(n=this._textAttributInstance)||n.clearTextAttribute(),this.selectedID=e,this.render(),this.emit("selectedChange")}},{key:"setDefaultAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.defaultAttribute;if((this.defaultAttribute=e,t!==e)&&(this.changeStyle(e),this.emit("changeAttributeSidebar"),this.selectedID&&(this.selectedPolygon&&(this.selectedPolygon.attribute=e),this.history.pushHistory(this.polygonList),this.render()),this._textAttributInstance)){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(e))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}},{key:"setStyle",value:function(e){var t;Object(Ze.a)(Object(ze.a)(n.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"setPolygonValidAndRender",value:function(e){if(e){var t=this.polygonList.map((function(t){var n;if(t.id===e){var i=null==(n=null==t?void 0:t.valid)||n;return Va(Na({},t),{valid:!i})}return t}));this.setPolygonList(t),this.history.pushHistory(this.polygonList),this.render(),this.emit("updateResult")}}},{key:"addDrawingPointToPolygonList",value:function(e,t){var n,i=this,a=this.config.lowerLimitPointNum,r=void 0===a?3:a;if(r<3&&(r=3),this.drawingPointList.length<r)return this.drawingPointList=[],void(this.editPolygonID="");var o=xr.getSourceID(this.basicResult),c=Object(Ne.a)(this.polygonList);if(this.editPolygonID){var l=c.find((function(e){return e.id===i.editPolygonID}));if(!l)return;l.pointList=this.drawingPointList,this.editPolygonID=""}else{var s=t||gn(8,62),u={id:s,sourceID:o,valid:!this.isCtrl,textAttribute:"",pointList:this.drawingPointList,attribute:this.defaultAttribute,order:xr.getMaxOrder(c.filter((function(e){return xr.isSameSourceID(e.sourceID,o)})))+1,isVisible:!0};if(this.config.textConfigurable){var d;d=Wn.getTextAttribute(this.polygonList.filter((function(e){return xr.isSameSourceID(e.sourceID,o)})),this.config.textCheckType),u=Va(Na({},u),{textAttribute:d})}this.pattern===dt.Rect&&!0===e&&(u=Va(Na({},u),{isRect:!0})),c.push(u),n=u,this.setSelectedIdAfterAddingDrawing(s)}this.setPolygonList(c),this.isCtrl=!1,this.drawingPointList=[],this.history.pushHistory(c),n&&this.emit("polygonCreated",n,this.zoom,this.currentPos)}},{key:"setSelectedIdAfterAddingDrawing",value:function(e){0!==this.drawingPointList.length&&(this.config.textConfigurable?this.setSelectedID(e):this.deleteSelectedID())}},{key:"getHoverID",value:function(e){var t,n=this,i=this.getCoordinateUnderZoom(e),a=this.currentShowList.map((function(e){return Va(Na({},e),{pointList:Yr.changePointListByZoom(e.pointList,n.zoom)})}));return Ir.getHoverPolygonID(i,a,10,null==(t=this.config)?void 0:t.lineType)}},{key:"getHoverEdgeIndex",value:function(e){var t;if(!this.selectedID)return-1;var n=this.selectedPolygon;if(!n)return-1;var i=this.getCoordinateUnderZoom(e),a=Yr.changePointListByZoom(n.pointList,this.zoom);return Ir.getHoverEdgeIndex(i,a,null==(t=this.config)?void 0:t.lineType)}},{key:"getHoverPointIndex",value:function(e){if(!this.selectedID)return-1;var t=this.selectedPolygon;if(!t)return-1;var n=this.getCoordinateUnderZoom(e),i=Yr.changePointListByZoom(t.pointList,this.zoom);return Yr.returnClosePointIndex(n,i)}},{key:"deletePolygon",value:function(e){var t;if(e){var n=this.polygonList.find((function(t){return t.id===e}));this.emit("deletedObject",{deletedObject:n,id:e}),this.setPolygonList(this.polygonList.filter((function(t){return t.id!==e}))),this.history.pushHistory(this.polygonList),null==(t=this._textAttributInstance)||t.clearTextAttribute(),this.emit("selectedChange"),this.render()}}},{key:"deletePolygonPoint",value:function(e){if(this.selectedID){var t=this.selectedPolygon;if(t){var n=this.config.lowerLimitPointNum;n<3&&(n=3),t.pointList.length<=n?this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.LowerLimitErrorNotice,this.lang)).concat(n)):(null==t||t.pointList.splice(e,1),this.history.pushHistory(this.polygonList),this.render())}}}},{key:"spaceKeydown",value:function(){var e,t,n;if(this.selectedID){if(!0===(null==(e=this.selectedPolygon)?void 0:e.isRect))return void this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.UnableToReannotation,this.lang)));this.editPolygonID=this.selectedID,this.drawingPointList=null!=(n=null==(t=this.selectedPolygon)?void 0:t.pointList)?n:[],this.drawingHistory.empty(),this.drawingHistory.initRecord(this.drawingPointList),this.hoverID="",this.deleteSelectedID(),this.render()}}},{key:"onTabKeyDown",value:function(e){e.preventDefault();var t=Xt.ascend;e.shiftKey&&(t=Xt.descend),this.switchToNextPolygon(t)}},{key:"switchToNextPolygon",value:function(e){if(!(this.drawingPointList.length>0)){var t=xr.getRenderResultList(this.polygonList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(G.a)(t,2),i=n[0],a=n[1],r=Object(Ne.a)(i);a&&(r=[].concat(Object(Ne.a)(r),[a]));var o=ci.getViewPort(this.canvas,this.currentPos,this.zoom),c=r.map((function(e){var t,n,i,a;return Va(Na({},e),{x:null!=(n=null==(t=e.pointList[0])?void 0:t.x)?n:0,y:null!=(a=null==(i=e.pointList[0])?void 0:i.y)?a:0})})).filter((function(e){return ci.inViewPort({x:e.x,y:e.y},o)})),l=xr.getNextSelectedRectID(c,e,this.selectedID);if(l){this.setSelectedID(l.id);var s=this.selectedPolygon;s&&this.setDefaultAttribute(s.attribute)}this.render()}}},{key:"onKeyDown",value:function(e){if(xr.hotkeyFilter(e)&&!1!==Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyDown",this).call(this,e)){var t=e.keyCode;switch(t){case Ei.Space:this.spaceKeydown();break;case Ei.Esc:this.drawingPointList=[],this.editPolygonID="";break;case Ei.F:this.selectedID&&this.setPolygonValidAndRender(this.selectedID);break;case Ei.Z:if(e.altKey)return void this.onCombinedExecute();this.setIsHidden(!this.isHidden),this.render();break;case Ei.Delete:this.deletePolygon(this.selectedID),this.render();break;case Ei.Ctrl:this.isCtrl=!0;break;case Ei.Alt:!1===this.isAlt&&(e.preventDefault(),this.isAlt=!0,this.render());break;case Ei.Tab:this.onTabKeyDown(e);break;case Ei.X:e.altKey&&this.segment();break;default:if(this.config.attributeConfigurable){var i=Wn.getAttributeByKeycode(t,this.config.attributeList);void 0!==i&&this.setDefaultAttribute(i)}}}}},{key:"onKeyUp",value:function(e){switch(Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyUp",this).call(this,e),e.keyCode){case Ei.Ctrl:this.isCtrl=!1;break;case Ei.Alt:var t=this.isAlt;this.isAlt=!1,!0===t&&this.render()}}},{key:"rightMouseUp",value:function(e){if(this.drawingPointList.length>0)this.addDrawingPointToPolygonList();else{this.setSelectedID(this.hoverID);var t=this.selectedPolygon;t&&this.setDefaultAttribute(t.attribute)}}},{key:"onLeftDblClick",value:function(e){if(this.hoverEdgeIndex>-1){var t=this.getCoordinateUnderZoom(e),n=this.selectedPolygon;if(!n)return;var i=Ir.getClosestPoint(t,this.polygonListUnderZoom,this.config.lineType,pt).dropFoot;if(!i)return;var a=this.config.upperLimitPointNum;if(a&&n.pointList.length>=a)return this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.UpperLimitErrorNotice,this.lang)).concat(a)),void this.clearPolygonDrag();null==n||n.pointList.splice(this.hoverEdgeIndex+1,0,Yr.changePointByZoom(i,1/this.zoom)),this.setPolygonDataByID(n,this.selectedID),this.history.pushHistory(this.polygonList),this.hoverPointIndex=-1,this.hoverEdgeIndex=-1,this.render()}this.dragInfo=void 0}},{key:"onRightDblClick",value:function(e){this.dragInfo=void 0,this.clearImgDrag();var t=this.getHoverID(e),n=this.getHoverPointIndex(e);if(this.hoverPointIndex>-1&&this.hoverPointIndex===n)return this.deletePolygonPoint(n),this.dragInfo=void 0,this.hoverPointIndex=-1,void this.render();this.hoverID===this.selectedID&&this.deletePolygon(t),this.render()}},{key:"onMouseDown",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&!0!==e.ctrlKey){var t=this.selectedPolygon;if(t&&0===e.button&&this.getHoverID(e)===this.selectedID){var i=t.pointList,a=this.getCoordinateUnderZoom(e),r=[0],o=Wt.Plane;this.dragStatus=Jt.Start;var c=this.getHoverPointIndex(e),l=this.getHoverEdgeIndex(e);return c>-1?(o=Wt.Point,r=[c]):l>-1&&this.hoverEdgeIndex>-1&&(o=Wt.Line,r=[l,(l+1)%i.length]),this.dragInfo={dragStartCoord:a,dragTarget:o,initPointList:i,changePointIndex:r,originPolygon:this.selectedPolygon},!0}}}},{key:"segment",value:function(){var e,t=this;if(this.selectedID&&(null==(e=this.config)?void 0:e.lineType)===Ye.Line){var n=Ir.getPolygonPointList(this.selectedID,this.currentShowList),i=this.currentShowList.filter((function(e){return e.id!==t.selectedID}));if(0!==i.length&&0!==n.length){var a=Ir.getWrapPolygonIndex(n,i),r=Object(Ne.a)(this.polygonList);if(-1===a){var o=Ir.segmentPolygonByPolygon(n,i);if(!o)return;var c=o.shift();if(!c)return;var l="",s=!0,u=xr.getSourceID(this.basicResult),d="";r=this.polygonList.map((function(e){var n,i;return e.id===t.selectedID?(l=e.attribute,s=null==(n=null==e?void 0:e.valid)||n,d=null!=(i=null==e?void 0:e.textAttribute)?i:"",Va(Na({},e),{pointList:c})):e})),o.length>0&&o.forEach((function(e,n){r.push({sourceID:u,id:gn(8,62),pointList:e,valid:s,order:xr.getMaxOrder(t.currentShowList)+1+n,attribute:l,textAttribute:d,isVisible:!0})}))}else r[a].pointList=Ir.clipPolygonFromWrapPolygon(n,r[a].pointList),r=r.filter((function(e){return e.id!==t.selectedID}));this.setPolygonList(r),this.history.pushHistory(r),this.render()}}}},{key:"onCombinedExecute",value:function(){this.selectedID?this.isCombined=!this.isCombined:this.emit("messageInfo",la.a.t("PolygonsToBeCombinedNeedToBeSelected"))}},{key:"combine",value:function(e){var t,n=this,i=this.getHoverID(e);if(i&&this.selectedID&&this.selectedID!==i)if((null==(t=this.config)?void 0:t.lineType)===Ye.Line){var a=this.polygonList.find((function(e){return e.id===n.selectedID})),r=this.currentShowList.find((function(e){return e.id===i}));if(r&&a){var o=Ir.combinePolygonWithPolygon(a,r);if(o){var c=o.newPolygon,l=o.unionList;if(1===l.length&&c){var s=this.polygonList.filter((function(e){return!l.includes(e.id)})).map((function(e){return e.id===n.selectedID?c:e}));this.setPolygonList(s),this.history.pushHistory(s),this.render(),this.emit("messageInfo",la.a.t("CombineSuccess"))}else this.emit("messageInfo",la.a.t("CombiningFailedNotify"));this.isCombined=!1}}}else this.emit("messageInfo",la.a.t("CurveModeDoesNotSupportCutting"))}},{key:"isPolygonOutSide",value:function(e){var t=this;if(this.dependToolName&&this.basicCanvas&&this.basicResult){var n=!1;switch(this.dependToolName){case De.Rect:n=e.filter((function(e){return!hn.isInRect(e,t.basicResult)})).length>0;break;case De.Polygon:n=Ir.isPointListOutSidePolygon(e,this.basicResult.pointList,this.config.lineType)}return n}if(!this.imgInfo)return!1;var i=Zr.calcViewportBoundaries(Yr.changePointListByZoom(e,this.zoom)),a=i.left,r=i.top,o=i.right,c=i.bottom,l=1e-5;return a<0||r<0||o>this.imgInfo.width+l||c>this.imgInfo.height+l}},{key:"getEventPointInCanvas",value:function(e){var t=this.container.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"isApproachBund",value:function(e){var t=this.container.getBoundingClientRect(),n=this.getEventPointInCanvas(e);return n.x<=5||t.width-n.x<=5||t.height-n.y<=5||n.y<=5}},{key:"onDragMove",value:function(e){var t=this;if(this.dragInfo&&this.selectedID){var n=this.selectedPolygon,i=null==n?void 0:n.pointList;if(i){var a=this.dragInfo,r=a.initPointList,o=a.dragStartCoord,c=a.dragTarget,l=a.changePointIndex,s=this.getCoordinateUnderZoom(e),u={x:(s.x-o.x)/this.zoom,y:(s.y-o.y)/this.zoom};if(this.pattern===dt.Rect&&!0===(null==n?void 0:n.isRect)&&l&&[Wt.Line].includes(c)){var d=Zr.getArrayIndex(l[0]-2,4),h=Zr.getArrayIndex(l[0]-1,4),g=[r[d],r[h]];u={x:(u=Zr.getRectPerpendicularOffset(o,s,g)).x/this.zoom,y:u.y/this.zoom}}switch(this.dragStatus=Jt.Move,c){case Wt.Plane:i=i.map((function(e,t){return Va(Na({},e),{x:r[t].x+u.x,y:r[t].y+u.y})}));break;case Wt.Point:case Wt.Line:i=i.map((function(e,t){return l&&l.includes(t)?Va(Na({},e),{x:r[t].x+u.x,y:r[t].y+u.y}):e}))}if(this.pattern===dt.Rect&&!0===(null==n?void 0:n.isRect)&&c===Wt.Point&&l&&(i=Zr.getPointListFromPointOffset(r,l[0],u)),!1!==this.config.drawOutsideTarget||!this.imgInfo||!this.isPolygonOutSide(i)){var f=this.polygonList.map((function(e){if(e.id===t.selectedID){var n=Va(Na({},e),{pointList:i});return!0===e.isRect&&t.pattern===dt.Normal&&Object.assign(n,{isRect:!1}),n}return e}));this.setPolygonList(f),this.render()}}}}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo)if(this.selectedID&&this.dragInfo&&this.hoverEdgeIndex<0)this.onDragMove(e);else{var t=-1,i=-1;if(this.selectedID&&(this.hoverEdgeIndex=-1,this.hoverPointIndex=-1,(t=this.getHoverPointIndex(e))>-1?this.hoverPointIndex=t:(i=this.getHoverEdgeIndex(e),this.hoverEdgeIndex=i)),!(this.drawingPointList.length>0)){var a=this.getHoverID(e);this.hoverID!==a&&(this.hoverID=a,this.render())}}}},{key:"leftMouseUp",value:function(e){var t=this.getHoverID(e);0===this.drawingPointList.length&&!0===e.ctrlKey&&t?this.setPolygonValidAndRender(t):this.addPointInDrawing(e)}},{key:"onMouseUp",value:function(e){if(this.isCombined)switch(e.button){case 0:this.combine(e);break;case 2:this.isCombined=!1;break;default:return}else if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseUp",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){if(this.setCustomCursor("none"),this.dragInfo&&this.dragStatus===Jt.Move){var t=this.dragInfo.originPolygon;return this.dragInfo=void 0,this.dragStatus=Jt.Wait,this.history.pushHistory(this.polygonList),this.emit("updateResult"),void this.emit("updatePolygonByDrag",{newPolygon:this.selectedPolygon,originPolygon:t})}switch(e.button){case 0:this.leftMouseUp(e);break;case 2:this.rightMouseUp(e)}this.render()}}},{key:"dragMouseUp",value:function(){this.dragStatus===Jt.Start&&(this.dragInfo=void 0,this.dragStatus=Jt.Wait)}},{key:"exportData",value:function(){return[this.polygonList,this.basicImgInfo]}},{key:"getTextIconSvg",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Wn.getTextIconSvg(t,null==(e=this.config)?void 0:e.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"getCurrentSelectedData",value:function(){var e=this.selectedPolygon;if(e){var t=this.getColor(e.attribute),n=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke;return{width:164,textAttribute:e.textAttribute,color:n}}}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributInstance&&e&&this.selectedID){var t=e;!1===Wn.textAttributeValidate(this.config.textCheckType,"",t)&&(this.emit("messageError",Wn.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setPolygonList(Wn.textChange(t,this.selectedID,this.polygonList)),this.emit("updateTextAttribute"),this.render()}}},{key:"renderTextAttribute",value:function(){var e,t=this.selectedPolygon;if(this.ctx&&!1!==this.config.textConfigurable&&t){var n=t.pointList,i=t.attribute,a=t.valid,r=t.textAttribute,o=n[n.length-1],c=o.x,l=o.y,s=Yr.getOffsetCoordinate({x:c,y:l},this.currentPos,this.zoom),u=this.getColor(i),d=a?null==u?void 0:u.valid.stroke:null==u?void 0:u.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Aa({width:164,container:this.container,icon:this.getTextIconSvg(i),color:d,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributInstance&&!(null==(e=this._textAttributInstance)?void 0:e.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(r),{left:s.x,top:s.y,color:d,width:164})}}},{key:"renderPolygon",value:function(){var e,t,n,i,a,r,o,c,l,s=this;if(this.container.dispatchEvent(this.saveDataEvent),!1===this.isHidden&&(null==(e=this.polygonList)||e.forEach((function(e){var t,n,i,a,r;if(![s.selectedID,s.editPolygonID].includes(e.id)&&e.isVisible){var o=e.textAttribute,c=e.attribute,l=s.getColor(c),u=ai.getStrokeAndFill(l,e.valid),d=Yr.changePointListByZoom(e.pointList||[],s.zoom,s.currentPos);ii.drawPolygonWithFillAndLine(s.canvas,d,{fillColor:u.fill,strokeColor:u.stroke,pointColor:"white",thickness:null!=(n=null==(t=s.style)?void 0:t.width)?n:2,lineCap:"round",isClose:!0,lineType:null==(i=s.config)?void 0:i.lineType});var h="".concat(null!=(r=Wn.getAttributeShowText(c,null==(a=s.config)?void 0:a.attributeList))?r:"");s.isShowOrder&&(null==e?void 0:e.order)>0&&(h="".concat(e.order," ").concat(h)),ii.drawText(s.canvas,d[0],h,Na({color:u.stroke},Qt));var g=d[d.length-1];g&&g.x&&ii.drawText(s.canvas,{x:g.x+$t.x,y:g.y+$t.y},o,Na({color:u.stroke},Qt))}}))),this.hoverID&&this.hoverID!==this.editPolygonID){var u=this.polygonList.find((function(e){return e.id===s.hoverID&&e.id!==s.selectedID}));if(u){var d="",h=this.getColor(u.attribute);d=u.valid?h.validHover.fill:ai.getStrokeAndFill(h,!1,{isHover:!0}).fill,ii.drawPolygonWithFill(this.canvas,Yr.changePointListByZoom(u.pointList,this.zoom,this.currentPos),{color:d,lineType:null==(t=this.config)?void 0:t.lineType})}}if(this.selectedID){var g=this.selectedPolygon;if(g){var f=this.getColor(g.attribute),b=ai.getStrokeAndFill(f,g.valid,{isSelected:!0});ii.drawSelectedPolygonWithFillAndLine(this.canvas,Yr.changePointListByZoom(g.pointList,this.zoom,this.currentPos),{fillColor:b.fill,strokeColor:b.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!0,lineType:null==(n=this.config)?void 0:n.lineType});var p="".concat(null!=(a=Wn.getAttributeShowText(g.attribute,null==(i=this.config)?void 0:i.attributeList))?a:"");this.isShowOrder&&(null==g?void 0:g.order)>0&&(p="".concat(g.order," ").concat(p)),ii.drawText(this.canvas,Yr.changePointByZoom(g.pointList[0],this.zoom,this.currentPos),p,Na({color:b.stroke},Qt)),this.renderTextAttribute()}}var v=this.getColor(this.defaultAttribute),m=ai.getStrokeAndFill(v,!this.isCtrl);if((null==(r=this.drawingPointList)?void 0:r.length)>0){var y=Object(Ne.a)(this.drawingPointList),x=Yr.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos);if(this.pattern===dt.Rect&&2===y.length)y=Zr.getRectangleByRightAngle(x,y);else{if((null==(o=this.config)?void 0:o.edgeAdsorption)&&!1===this.isAlt){var O=Ir.getClosestPoint(x,this.polygonList,null==(c=this.config)?void 0:c.lineType,pt/this.zoom).dropFoot;O&&(x=O)}y.push(x)}ii.drawSelectedPolygonWithFillAndLine(this.canvas,Yr.changePointListByZoom(y,this.zoom,this.currentPos),{fillColor:m.fill,strokeColor:m.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!1,lineType:this.config.lineType})}if(this.hoverPointIndex>-1&&this.selectedID){var w=this.selectedPolygon;if(!w)return;var k=ai.getStrokeAndFill(v,w.valid,{isSelected:!0}),L=null==w?void 0:w.pointList[this.hoverPointIndex];if(L){var C=Yr.changePointByZoom(L,this.zoom,this.currentPos),S=C.x,I=C.y;ii.drawCircleWithFill(this.canvas,{x:S,y:I},5,{color:k.fill})}}if(this.hoverEdgeIndex>-1&&this.selectedID){var A=this.selectedPolygon;if(!(null==A?void 0:A.pointList))return;var P=ai.getStrokeAndFill(v,A.valid,{isSelected:!0});ii.drawLineWithPointList(this.canvas,Yr.changePointListByZoom(A.pointList,this.zoom,this.currentPos),{color:P.stroke,thickness:10,hoverEdgeIndex:this.hoverEdgeIndex,lineType:null==(l=this.config)?void 0:l.lineType})}}},{key:"render",value:function(){!this.ctx||!this.renderReady||(Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this),this.renderPolygon(),this.renderCursorLine(this.getLineColor(this.defaultAttribute)))}},{key:"renderCursorLine",value:function(e){if(Object(Ze.a)(Object(ze.a)(n.prototype),"renderCursorLine",this).call(this,e),this.isCombined){var t=this.coord,i=t.x,a=t.y,r=10;ii.drawRectWithFill(this.canvas,{x:i+r,y:a-40-1,width:186,height:32},{color:"black"}),ii.drawText(this.canvas,{x:i,y:a},la.a.t("ClickAnotherPolygon"),{textAlign:"center",color:"white",offsetX:103,offsetY:-21}),ii.drawRect(this.canvas,{x:i-r,y:a-r,width:20,height:20},{lineDash:[6],color:"white"})}}},{key:"undo",value:function(){if(this.drawingPointList.length>0){var e=this.drawingHistory.undo();if(!e)return;return this.drawingPointList=e,void this.render()}var t=this.history.undo();t&&(t.length!==this.polygonList.length&&this.deleteSelectedID(),this.setPolygonList(t),this.render())}},{key:"redo",value:function(){if(this.drawingPointList.length>0){var e=this.drawingHistory.redo();if(!e)return;return this.drawingPointList=e,void this.render()}var t=this.history.redo();t&&(t.length!==this.polygonList.length&&this.deleteSelectedID(),this.setPolygonList(t),this.render())}},{key:"deleteSelectedID",value:function(){this.setSelectedID("")}}]),n}(_i),Ba=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).getInitResultList=function(e,t){return 0!==e&&void 0!==e&&0===t.length?[]:Ln.getDefaultTagResult(i.config.inputList,t)},i.setLabel=function(e,t){var n,a;if(!(i.isImgError||!i.basicResult&&i.dependToolName)){var r=i.config.inputList;if(r[e]){var o=r[e].subSelected;if(e<r.length&&r[e].subSelected&&o&&t<o.length){var c=r[e].value,l=null==(n=o[t])?void 0:n.value,s=null==(a=r[e])?void 0:a.isMulti,u=i.tagResult.filter((function(e){var t="".concat(e.sourceID);return xr.isSameSourceID(t,i.sourceID)}))[0];if(u){var d=0,h=u.result;for(var g in 0===u.sourceID&&(u.sourceID="0"),u.result)if(g===r[e].value){if(d++,!0===s){var f=h[g].split(";").filter((function(e){return""!==e})),b=f.indexOf(l);-1===b?f.push(l):f.splice(b,1),l=f.join(";")}""===l?1===Object.keys(h).length?i.tagResult=i.tagResult.filter((function(e){var t="".concat(e.sourceID);return xr.isDifferSourceID(t,i.sourceID)})):Object.keys(h).length>1&&delete h[g]:h[g]=l}0===d&&Object.assign(u.result,Object(Je.a)({},c,l))}else i.tagResult=[{sourceID:i.sourceID,id:gn(8,62),result:Object(Je.a)({},c,l)}];i.render()}}}},i.clearResult=function(){var e=arguments.length>1?arguments[1]:void 0;i.tagResult=e?i.tagResult.map((function(t){return(null==t?void 0:t.result[e])&&delete t.result[e],t})):[],i.render()},i.config=e.config,i.tagResult=[],i.labelSelectedList=[],i.setShowDefaultCursor(!0),i}return Object(He.a)(n,[{key:"destroy",value:function(){this.clearTag(),Object(Ze.a)(Object(ze.a)(n.prototype),"destroy",this).call(this)}},{key:"setResult",value:function(e){this.tagResult=e,this.render()}},{key:"currentPageResult",get:function(){return[this.currentTagResult]}},{key:"currentTagResult",get:function(){var e,t=this;return null!=(e=this.tagResult.filter((function(e){var n="".concat(e.sourceID);return xr.isSameSourceID(n,t.sourceID)}))[0])?e:{}}},{key:"sourceID",get:function(){return xr.getSourceID(this.basicResult)}},{key:"onKeyDown",value:function(e){var t=this;if(xr.hotkeyFilter(e)){var n=e.keyCode;if(n&&(n<=57&&n>=49||n<=105&&n>=97)){if(n-=n>57?97:49,1===this.config.inputList.length)return this.labelSelectedList=[0,n],this.setLabel(0,n),void setTimeout((function(){t.labelSelectedList=[],t.render()}),500);1===this.labelSelectedList.length?(this.labelSelectedList=[this.labelSelectedList[0],n],this.setLabel(this.labelSelectedList[0],n),setTimeout((function(){t.labelSelectedList=[],t.render()}),500)):(this.labelSelectedList=[n],this.emit("expend"))}}}},{key:"clearTag",value:function(){var e,t=null==(e=this.canvas)?void 0:e.parentNode,n=window.self.document.getElementById("tagToolTag");n&&t&&t.contains(n)&&(null==t||t.removeChild(n))}},{key:"renderTag",value:function(){var e,t,n,i,a,r;if(this.clearTag(),(null==(e=this.tagResult)?void 0:e.length)>0){var o=document.createElement("div"),c=Ln.getTagNameList(null!=(n=null==(t=this.tagResult[0])?void 0:t.result)?n:{},this.config.inputList);o.innerHTML=null!=(i=c.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" 、 "),"\n")}),""))?i:"",o.setAttribute("id","tagToolTag"),o.setAttribute("style","\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 5;\n      \n        padding: 0 20px;\n      \n        font-size: 15px;\n        color: white;\n        text-align: right;\n        line-height: 32px;\n        white-space: pre;\n      \n        background: rgba(102, 111, 255, 1);\n        opacity: 0.6;\n        clear: both;\n      "),null==(r=null==(a=this.canvas)?void 0:a.parentNode)||r.appendChild(o)}}},{key:"render",value:function(){this.renderTag(),Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this),this.emit("render")}},{key:"exportData",value:function(){var e=this.tagResult;return this.isImgError&&(e=[]),[e,this.basicImgInfo]}}]),n}(_i),Za=Object.defineProperty,za=Object.defineProperties,Fa=Object.getOwnPropertyDescriptors,Ua=Object.getOwnPropertySymbols,Ja=Object.prototype.hasOwnProperty,Wa=Object.prototype.propertyIsEnumerable,Xa=function(e,t,n){return t in e?Za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ga=function(e,t){for(var n in t||(t={}))Ja.call(t,n)&&Xa(e,n,t[n]);if(Ua){var i,a=Object(Se.a)(Ua(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Wa.call(t,n)&&Xa(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},qa=function(e,t){return za(e,Fa(t))};(Ia=Sa||(Sa={}))[Ia.Create=0]="Create",Ia[Ia.Active=1]="Active",Ia[Ia.None=2]="None";var Ka=16,Ya=0,Qa=20,_a=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i,a,r,o;return Object(Ve.a)(this,n),(o=t.call(this,e)).drawActivatedLine=function(e,t,n){var i=wt.a.cloneDeep(o.activeLine);if(i&&0!==i.length){var a,r=o.isActiveLineValid(),c=o.selectedID?o.lineList.find((function(e){return e.id===o.selectedID})):void 0;a=c?c.order:xr.getAllToolsMaxOrder(o.lineList,o.prevResultList)+1;var l=o.getLineColorByAttribute({attribute:o.defaultAttribute,valid:!!r});i.map((function(e){return Object.assign(e,o.coordUtils.getRenderCoord(e))})),o.updateActiveArea(),o.drawLine(i,e,l,!0,!0),o.drawLineNumber(i[0],a,l,"",o.defaultAttribute,r),e&&o.isCreate&&o.arc(e,3,l),o.cursor&&!o.selectedPoint&&!n&&!o.isShift&&o.arc(o.cursor,5,l)}},o.drawHoverPoint=function(e){if(!o.isMousedown&&e&&o.isLineSelected){var t,n=o.getPointList(o.activeLine),i=o.activeLine.find((function(t){return Ti.calcDistance(o.coordUtils.getRenderCoord(t),e)<=5}));!i&&o.activeLine&&(t=o.findNearestPoint(n,e)),o.hoverPointID=i?i.id:void 0,o.cursor=i||null==t?void 0:t.point}},o.lineList=[],o.activeLine=[],o.coordsInsideActiveArea=!1,o.hoverLineSegmentIndex=-1,o.isShift=!1,o.isReference=!1,o.drawCurveLine=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=arguments.length>5?arguments[5]:void 0,o=Dt(t,Ka);e.save(),e.lineCap="round",e.lineJoin="round",e.strokeStyle=n.color,i&&(e.lineWidth=n.lineWidth),a&&Ti.setReferenceCtx(e),t.forEach((function(t,n){var i=t.specialEdge,a=o.splice(0,17);e.save(),e.beginPath(),r===n&&(e.lineWidth=4),a.forEach((function(t,n){var a=t.x,r=t.y,o=n>0?"lineTo":"moveTo";i&&Ti.setSpecialEdgeStyle(e),e[o](a,r)})),e.stroke(),e.restore()})),e.restore()},o.drawLine=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=t?e.concat(t):e,c={color:n,lineWidth:a?1:o.lineStyle.lineWidth};o.isCurve?Ti.drawCurveLine(o.ctx,r,c,!i,o.isReference,a?o.hoverLineSegmentIndex:-1):o.drawStraightLine(r,c,a),i&&e.forEach((function(e){var t,i,a=e.id,r=a&&[o.hoverPointID,null==(t=o.selectedPoint)?void 0:t.id].includes(a)?5:3;o.arc(e,r,n),[o.hoverPointID,null==(i=o.selectedPoint)?void 0:i.id].includes(a)||o.arc(e,2,"white")}))},o.drawStraightLine=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(Be.a)(o).ctx;i&&(i.save(),i.lineCap="round",i.lineJoin="round",i.strokeStyle=t.color,i.lineWidth=t.lineWidth,o.isReference&&Ti.setReferenceCtx(i),e.forEach((function(t,a){if(i.beginPath(),a>0){var r=e[a-1];i.save(),(null==r?void 0:r.specialEdge)&&Ti.setSpecialEdgeStyle(i),n&&o.hoverLineSegmentIndex+1===a&&(i.lineWidth=4),i.moveTo(r.x,r.y),i.lineTo(t.x,t.y),i.stroke(),i.restore()}})),i.restore())},o.drawLines=function(){try{var e=wt.a.cloneDeep(o.attributeFilteredLines);if(o.isHidden)return;o.container.dispatchEvent(o.saveDataEvent),e.forEach((function(e){if(e.id!==o.selectedID&&e.pointList&&e.isVisible){e.pointList.map((function(e){return Object.assign(e,o.coordUtils.getRenderCoord(e))}));var t=e.order,n=e.label,i=t,a=e&&o.getLineColorByAttribute(e);o.drawLine(e.pointList,void 0,a,!1),o.drawLineNumber(e.pointList[0],i,a,n,e.attribute,e.valid),e.id!==o.textEditingID&&o.drawLineTextAttribute(e.pointList[1],a,null==e?void 0:e.textAttribute)}}))}catch(e){o.lineList=[],o.clearCanvas()}},o.render=function(e){!o.renderReady||(Object(Ze.a)((i=Object(Be.a)(o),Object(ze.a)(n.prototype)),"render",i).call(i),o.drawLines(),o.drawActivatedLine(e,void 0,!0),o.renderTextAttribute(),o.renderCursorLine(o.getLineColor(o.defaultAttribute)))},o.moveLineInPolygon=function(e,t){var n;if(!Array.isArray(o.activeLine))return!1;(null==(n=o.activeLine)?void 0:n.every((function(n){return o.isInBasicPolygon({x:n.x+e,y:n.y+t})})))&&(o.lineDragging=!0,o.moveActiveArea(e,t))},o.moveLineInRectRange=function(e,t,n,i){if(void 0!==o.activeArea){var a=o.activeArea,r=a.top,c=a.left,l=a.right,s=a.bottom,u=[c,l].map((function(t){return wt.a.isNumber(t)?t+e:0})),d=[r,s].map((function(e){return wt.a.isNumber(e)?e+t:0})),h=c>=0&&l&&Zr.isInRange(u,n),g=r>=0&&s&&Zr.isInRange(d,i),f=h?e:0,b=g?t:0;o.lineDragging=!0,o.moveActiveArea(f,b)}},o.onRightClick=function(e){if(o.cursor=void 0,o.isCreate){if(o.isLinePointsNotEnough())return;o.stopLineCreating(!0)}else o.setActiveArea(o.getCoordinate(e),!0),o.emit("contextmenu")},o.updateSelectedAttributeAfterHistoryChanged=function(){if(o.selectedID){var e=o.lineList.find((function(e){return e.id===o.selectedID})),t=null==e?void 0:e.attribute;"string"==typeof t&&(o.defaultAttribute=t,o.updateAttribute(t),o.render())}},o.onLeftClick=function(e){var t=o.getCoordinate(e),n=Object(Be.a)(o).lineDragging;if(o.lineDragging=!1,!o.isSpaceKey)if(o.isNone&&e.ctrlKey){var i=o.findHoverLine(t);i&&o.setInvalidLine(i.id)}else if(!o.isLinePointsExceed()){var a=o.getNextPoint(e,t);if(o.isCreate||o.isNone)o.setCreatStatusAndAddPoint(a);else if(o.isActive){if(n)return;if(o.isMouseCoordOutsideActiveArea())return o.setNoneStatus(!1),void o.setCreatStatusAndAddPoint(a);if(e.shiftKey)return void o.updateLineSegmentSpecial(t);if(o.coordsInsideActiveArea&&e.ctrlKey)return void o.setInvalidLine(o.selectedID);o.addLinePointToActiveLine()}}},o.onDblclick=function(){},o.onKeyUp=function(e){if(Object(Ze.a)((a=Object(Be.a)(o),Object(ze.a)(n.prototype)),"onKeyUp",a).call(a,e),o.isShift=!1,o.hoverLineSegmentIndex=-1,e.keyCode!==Ei.Esc){if(o.isActive){if(e.keyCode===Ei.Delete)return void o.deleteLine();if(e.keyCode===Ei.F)return void o.setInvalidLine(o.selectedID);if(e.keyCode===Ei.Space)return void o.continueToEdit()}o.keyboardEventWhileLineCreating(e)}else o.stopLineCreating(!1)},o.onRightDblClick=function(e){Object(Ze.a)((r=Object(Be.a)(o),Object(ze.a)(n.prototype)),"onRightDblClick",r).call(r,e);var t=o.getCoordinate(e);if(o.isActive){var i=o.findHoveredPoint(t);if(i)return void o.deleteSelectedLinePoint(i.id);o.deleteSelectedLine(t)}},o.setReference=function(e){o.isReference=e},o.pointsWithinRange=function(e){return!(o.lowerLimitPointNum&&e<o.lowerLimitPointNum||o.upperLimitPointNum&&e>o.upperLimitPointNum)},o.setLineList=function(e){var t=e.length!==o.lineListLen;o.lineList=e,t&&o.emit("updatePageNumber")},o.textChange=function(e){!1===o.config.textConfigurable||!o.selectedID||(o.updateSelectedTextAttribute(e),o.emit("selectedChange"))},o.status=2,o.isMousedown=!1,o.lineDragging=!1,o.isLineValid=!0,o.setConfig(e.config),o.prevAxis={x:0,y:0},o.textEditingID="",o.updateSelectedTextAttribute=o.updateSelectedTextAttribute.bind(Object(Be.a)(o)),o.getCurrentSelectedData=o.getCurrentSelectedData.bind(Object(Be.a)(o)),o.actionsHistory=new Di,o.dependToolConfig={lineType:Ye.Line},o}return Object(He.a)(n,[{key:"isLineSelected",get:function(){return this.selectedID&&this.activeLine}},{key:"selectedLinePoints",get:function(){return this.activeLine?this.getPointList(this.activeLine):[]}},{key:"isCreate",get:function(){return 0===this.status}},{key:"isActive",get:function(){return 1===this.status}},{key:"isNone",get:function(){return 2===this.status}},{key:"isCurve",get:function(){return this.config.lineType===Ye.Curve}},{key:"isMultipleColor",get:function(){return this.config.lineColor===Qe.MultiColor}},{key:"imageSize",get:function(){return this.rotate%180==0?this.basicImgInfo:{width:this.basicImgInfo.height,height:this.basicImgInfo.width}}},{key:"lineListLen",get:function(){return this.lineList.length}},{key:"edgeAdsorptionEnabled",get:function(){return this.edgeAdsorption&&!this.isCurve&&this.lineListLen>0}},{key:"attributeConfigurable",get:function(){return this.config.attributeConfigurable}},{key:"isTextConfigurable",get:function(){return this.config.textConfigurable}},{key:"isDependPolygon",get:function(){return this.dependToolName===De.Polygon}},{key:"isDependRect",get:function(){return this.dependToolName===De.Rect}},{key:"isCurrentAttributeLocked",get:function(){return this.attributeLockList.includes(this.defaultAttribute)}},{key:"attributeFilteredLines",get:function(){var e=this;return this.attributeLockList.length>0?this.lineList.filter((function(t){return e.attributeLockList.includes((null==t?void 0:t.attribute)||"")})):this.lineList}},{key:"enableOutOfTarget",get:function(){return this.config.enableOutOfTarget}},{key:"showOrder",get:function(){return this.config.showOrder}},{key:"edgeAdsorption",get:function(){return this.config.edgeAdsorption}},{key:"attributeList",get:function(){var e;return null==(e=this.config)?void 0:e.attributeList}},{key:"lowerLimitPointNum",get:function(){return this.config.lowerLimitPointNum}},{key:"upperLimitPointNum",get:function(){return this.config.upperLimitPointNum}},{key:"textCheckType",get:function(){return this.config.textCheckType}},{key:"customFormat",get:function(){return this.config.customFormat}},{key:"dataList",get:function(){return this.lineList}},{key:"hasActiveLine",get:function(){return this.activeLine&&this.activeLine.length>0}},{key:"viewPortLines",get:function(){var e=ci.getViewPort(this.canvas,this.currentPos,this.zoom);return this.isHidden?[]:this.attributeFilteredLines.filter((function(t){var n;return null==(n=null==t?void 0:t.pointList)?void 0:n.some((function(t){return ci.inViewPort(t,e)}))}))}},{key:"lineStyle",get:function(){return{lineWidth:this.style.width,color:this.getLineColor(this.defaultAttribute),opacity:this.style.opacity}}},{key:"selectedText",get:function(){var e,t,n=this;return null!=(t=null==(e=this.lineList.find((function(e){return e.id===n.selectedID})))?void 0:e.textAttribute)?t:""}},{key:"currentPageResult",get:function(){return this.lineList}},{key:"updateStatus",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e!==this.status){if(t){var n="";this.textCheckType===it.Order&&this.isTextConfigurable&&(n=Wn.getTextAttribute(this.lineList,this.textCheckType)),this.emit("updateText",n)}this.status=e,this.lineStatusChanged()}}},{key:"isInBasicPolygon",value:function(e){var t,n;return Mt(e,(null==(t=this.basicResult)?void 0:t.pointList)||[],null==(n=this.dependToolConfig)?void 0:n.lineType)}},{key:"getPolygonPointList",value:function(){if(!this.basicResult)return[];var e=this.basicResult.pointList;return this.dependToolConfig.lineType===Ye.Curve?Et(e.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!0,20):e}},{key:"getNextCoordByRenderCoord",value:function(e){return this.getNextCoordByAbsCoord(this.coordUtils.getAbsCoord(e))}},{key:"getNextCoordByAbsCoord",value:function(e){var t,n=null==(t=this.activeLine)?void 0:t.slice(-1)[0];return n?this.coordUtils.getNextCoordByDependTool(e,n):e}},{key:"pointInLine",value:function(e,t,n){var i=this;return!(e.filter((function(e){return e})).length<2)&&e.some((function(a,r){if(0===r)return!1;var o=i.coordUtils.getRenderCoord(e[r-1]),c=i.coordUtils.getRenderCoord(a);return Ti.isInLine(t,o,c,n)}))}},{key:"arc",value:function(e){var t,n,i,a,r,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,l=arguments.length>2?arguments[2]:void 0;if(this.ctx){var s=e.x,u=e.y;null==(t=this.ctx)||t.save(),null==(n=this.ctx)||n.beginPath(),this.ctx.fillStyle=l||this.lineStyle.color,null==(i=this.ctx)||i.arc(s,u,c,0,360),null==(a=this.ctx)||a.closePath(),null==(r=this.ctx)||r.fill(),null==(o=this.ctx)||o.restore()}}},{key:"renderActiveArea",value:function(){if(this.isActive&&this.activeArea&&this.ctx){var e=this.activeArea,t=e.top,n=e.left,i=e.right,a=e.bottom,r=this.coordUtils.getRenderCoord({x:n,y:t}),o=r.x,c=r.y;this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle="#B3B8FF",this.ctx.rect(o,c,(i-n)*this.zoom,(a-t)*this.zoom),this.ctx.stroke(),this.ctx.restore()}}},{key:"addLinePoint",value:function(e){var t,n,i,a;this.arc(e),null==(t=this.activeLine)||t.push(qa(Ga({},e),{id:gn()})),1===(null==(n=this.activeLine)?void 0:n.length)?null==(i=this.actionsHistory)||i.initRecord(this.activeLine):null==(a=this.actionsHistory)||a.pushHistory(this.activeLine),this.render()}},{key:"setCreatStatusAndAddPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.updateStatus(0,t),this.addLinePoint(e)}},{key:"isActiveLineValid",value:function(){var e,t=this;return this.selectedID?null==(e=this.lineList.find((function(e){return e.id===t.selectedID})))?void 0:e.valid:this.isLineValid}},{key:"nextOrder",value:function(){return 0===this.lineListLen?1:this.lineList.slice(-1)[0].order+1}},{key:"getLineColorByAttribute",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ai.getStrokeAndFill(this.getColor(e.attribute),e.valid,{isSelected:t}).stroke}},{key:"updateActiveArea",value:function(){this.activeArea=this.getActiveArea(),this.renderActiveArea()}},{key:"getActiveArea",value:function(){return this.hasActiveLine?Zr.calcViewportBoundaries(this.activeLine,this.isCurve,Ka,this.zoom):void 0}},{key:"drawLineNumber",value:function(e){var t,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=arguments.length>4?arguments[4]:void 0,l=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if((this.isShowOrder||this.attributeConfigurable)&&this.ctx){var s=this.isShowOrder?a.toString():"".concat(o);if(this.attributeConfigurable){var u=c?null!=(i=null==(n=null==(t=this.attributeList)?void 0:t.find((function(e){return e.value===c})))?void 0:n.key)?i:c:"";s=[s,"".concat(!l&&u?"无效":"").concat(u)].filter((function(e){return e})).join(" ")}this.drawText(e,s,r)}}},{key:"drawLineTextAttribute",value:function(e,t,n){if(e&&n)return this.drawText(e,n,t,200)}},{key:"drawText",value:function(e,t,n,i){var a,r;this.ctx&&(null==(a=this.ctx)||a.save(),this.ctx.font=ut,this.ctx.fillStyle=n,this.ctx.strokeStyle=n,i?ii.wrapText(this.canvas,t,e.x-Ya,e.y-Qa,i):this.ctx.fillText(t,e.x-Ya-10,e.y-Qa+10),null==(r=this.ctx)||r.restore())}},{key:"moveActiveArea",value:function(e,t){this.activeArea&&(this.activeArea=Object.assign(this.activeArea,{top:this.activeArea.top+t,bottom:this.activeArea.bottom+t,right:this.activeArea.right+e,left:this.activeArea.left+e})),this.activeLine&&(this.activeLine.map((function(n){return Object.assign(n,{x:n.x+e,y:n.y+t})})),this.updateLines())}},{key:"findHoveredPoint",value:function(e){var t=this;if(this.activeLine)return this.activeLine.find((function(n){var i=t.coordUtils.getRenderCoord(n);return Ti.calcDistance(i,e)<=5}))}},{key:"findHoverLine",value:function(e){var t=this;return wt.a.cloneDeep(this.lineList).reverse().find((function(n){var i=n.pointList,a=i?t.getPointList(i):[],r=t.getLineWidthScope();return a.some((function(n,i){if(0===i)return!1;var o=t.coordUtils.getRenderCoord(n),c=t.coordUtils.getRenderCoord(a[i-1]);return Ti.isInLine(e,o,c,r)}))}))}},{key:"getAdsorptionPoint",value:function(e){var t,n,i=this;return wt.a.cloneDeep(this.lineList).reverse().forEach((function(a){var r=a.pointList;if(a.id!==i.selectedID&&r&&!((null==r?void 0:r.length)<2)){var o=i.findNearestPoint(r,e);if(o){if(0===o.minDistance)return void(t=o.point);(void 0===n||o.minDistance<n)&&(t=o.point,n=o.minDistance)}}})),t}},{key:"findNearestPoint",value:function(e,t){for(var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,a=i,r=1;r<=e.length-1;r++){var o=this.coordUtils.getRenderCoord(e[r]),c=this.coordUtils.getRenderCoord(e[r-1]),l=Zr.getFootOfPerpendicular(t,o,c),s=l.length,u=l.footPoint,d=Ti.calcTwoPointDistance(o,t),h=Ti.calcTwoPointDistance(c,t);if(d<=2*i){n=o,i=0;break}if(h<=2*i){n=c,i=0;break}s<i&&(n=u,i=s)}return n?{point:n,minDistance:a}:void 0}},{key:"getPointList",value:function(e){return this.isCurve?Dt(e,Ka):e}},{key:"moveSelectedLine",value:function(e){var t=(e.x-this.prevAxis.x)/this.zoom,n=(e.y-this.prevAxis.y)/this.zoom;if(this.enableOutOfTarget)return this.lineDragging=!0,void this.moveActiveArea(t,n);if(this.isDependPolygon)this.moveLineInPolygon(t,n);else{var i=[0,this.imageSize.width],a=[0,this.imageSize.height];if(this.isDependRect){var r=this.basicResult,o=r.x,c=r.y;i=[o,o+r.width],a=[c,c+r.height]}this.moveLineInRectRange(t,n,i,a)}}},{key:"moveSelectPoint",value:function(e){if(this.selectedPoint){var t=e.x-this.prevAxis.x,n=e.y-this.prevAxis.y,i={x:(this.selectedPoint?this.selectedPoint.x:0)+t/this.zoom,y:(this.selectedPoint?this.selectedPoint.y:0)+n/this.zoom};Object.assign(this.selectedPoint,this.getNextCoordByAbsCoord(i)),this.updateLines(),this.render()}}},{key:"getCoordByConfig",value:function(e,t){var n,i=!!e.shiftKey,a=e.altKey;if((null==(n=this.activeLine)?void 0:n.length)>0&&i){var r=this.activeLine.slice(-1)[0];return Ti.getVHPoint(r,t,this.coordUtils.getAbsCoord(t),this.coordUtils.getRenderCoord(r))}return this.edgeAdsorptionEnabled&&!a?this.getAdsorptionPoint(t):t}},{key:"getNextPoint",value:function(e,t){var n=this.getCoordByConfig(e,t)||t;return this.enableOutOfTarget?n:this.getNextCoordByRenderCoord(n)}},{key:"lineHover",value:function(){this.render()}},{key:"mouseMoveHandler",value:function(e){var t=this.getCoordinate(e),n=1===e.which;if(this.isCreate)this.hasActiveLine&&this.renderNextPoint(e,t);else{if(this.isNone&&(this.lineHover(),this.edgeAdsorptionEnabled&&!e.altKey)){var i=this.getAdsorptionPoint(t);i&&this.arc(i)}if(this.isActive){if(this.isMousedown&&n){if(this.selectedPoint)return void this.moveSelectPoint(t);if(this.coordsInsideActiveArea)return this.moveSelectedLine(t),void this.drawActivatedLine(void 0,void 0,!0)}this.drawHoverPoint(t),this.render()}}}},{key:"onMouseMove",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.getCoordinate(e);this.mouseMoveHandler(e),this.prevAxis=t}}},{key:"setActiveAreaByPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.coordUtils.getRenderCoord(e),i=this.findHoverLine(n);if(i){var a=this.lineList.findIndex((function(e){return e.id===(null==i?void 0:i.id)})),r=Zr.calcViewportBoundaries((null==i?void 0:i.pointList)||[],this.isCurve,Ka,this.zoom),o=this.lineList[a];this.updateStatus(1),this.setActiveLine(o.pointList),this.setSelectedLineID(o.id),this.activeArea=r,this.updateLineAttributes(o)}else t&&this.setNoneStatus();this.render()}},{key:"setActiveArea",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.findHoverLine(e);if(n){var i=this.lineList.findIndex((function(e){return e.id===(null==n?void 0:n.id)})),a=Zr.calcViewportBoundaries((null==n?void 0:n.pointList)||[],this.isCurve,Ka,this.zoom),r=this.lineList[i];this.updateStatus(1),this.setActiveLine(r.pointList),this.setSelectedLineID(r.id),this.activeArea=a,this.updateLineAttributes(r)}else t&&this.setNoneStatus();this.render()}},{key:"setActiveLineByID",value:function(e){var t=this.lineList.find((function(t){return t.id===e}));if(t){var n=Zr.calcViewportBoundaries((null==t?void 0:t.pointList)||[],this.isCurve,Ka,this.zoom);this.updateStatus(1),this.setActiveLine(t.pointList),this.setSelectedLineID(t.id),this.activeArea=n,this.updateLineAttributes(t)}this.render()}},{key:"setActiveLine",value:function(e){this.activeLine=e?wt.a.cloneDeep(e):void 0}},{key:"historyChanged",value:function(e){var t=this,n="".concat(e,"Enabled");if(this.isCreate){if(this.actionsHistory&&this.actionsHistory[n]){var i=this.actionsHistory&&this.actionsHistory[e]();this.setActiveLine(i),this.render()}}else{if(this.history&&this.history[n]){var a=this.history[e](),r=null==a?void 0:a.find((function(e){return e.id===t.selectedID}));this.lineList=a,this.selectedID&&r?this.setActiveLine(null==r?void 0:r.pointList):this.setNoneStatus(),this.render()}this.emit("dataUpdated",this.dataList)}}},{key:"undo",value:function(){this.historyChanged("undo"),this.updateSelectedAttributeAfterHistoryChanged()}},{key:"redo",value:function(){this.historyChanged("redo"),this.updateSelectedAttributeAfterHistoryChanged()}},{key:"isCoordInsideTarget",value:function(e){if(this.isDependPolygon)return this.isInBasicPolygon(e);if(this.isDependRect){var t=this.basicResult,n=t.x,i=t.y,a=[n,n+t.width],r=[i,i+t.height];return Zr.isInRange(e.x,a)&&Zr.isInRange(e.y,r)}return Zr.isInRange(e.x,[0,this.imageSize.width])&&Zr.isInRange(e.y,[0,this.imageSize.height])}},{key:"getPointInsertIndex",value:function(e,t){var n=this;if(e&&this.activeLine){var i=this.getPointList(this.activeLine);return 2===this.activeLine.length?1:this.activeLine.findIndex((function(a,r){if(r>0){var o=n.activeLine?n.activeLine[r-1]:void 0,c=n.isCurve?i.slice(17*(r-1),17*r):[o,a];return n.pointInLine(c,e,t||n.getLineWidthScope())}return!1}))}return-1}},{key:"getLineWidthScope",value:function(){return this.lineStyle.lineWidth}},{key:"isMouseCoordOutsideActiveArea",value:function(){return!this.coordsInsideActiveArea&&!this.selectedPoint}},{key:"isLinePointsExceed",value:function(){return this.isCreate&&this.activeLine&&this.upperLimitPointNum&&~~this.upperLimitPointNum<=this.activeLine.length}},{key:"isLinePointsNotEnough",value:function(){var e;return this.activeLine&&(null==(e=this.activeLine)?void 0:e.length)<this.lowerLimitPointNum}},{key:"updateLineSegmentSpecial",value:function(e){var t=this.getPointInsertIndex(e,2)-1;if(t>-1){var n=this.activeLine[t];n.specialEdge=!n.specialEdge,this.hoverLineSegmentIndex=-1,this.render()}}},{key:"addLinePointToActiveLine",value:function(){var e,t=this.getPointInsertIndex(this.cursor),n=this.pointsWithinRange(this.activeLine.length+1);this.cursor&&t>-1&&n&&(this.activeLine.splice(t,0,qa(Ga({},this.coordUtils.getAbsCoord(this.cursor)),{id:gn()})),this.updateLines(),null==(e=this.history)||e.pushHistory(this.lineList),this.render(),this.cursor=void 0)}},{key:"onMouseDown",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var t=this.getCoordinate(e);this.isMousedown=!0,this.prevAxis=t,3!==e.which?(this.selectedPoint=this.findHoveredPoint(t),this.coordsInsideActiveArea=!(!this.isActive||!this.activeArea)&&Ti.inArea(this.activeArea,this.coordUtils.getAbsCoord(t)),this.lineDragging=!1):this.cursor=void 0}}},{key:"lineHasChanged",value:function(){var e=this,t=this.lineList.find((function(t){return t.id===e.selectedID}));return!!t&&JSON.stringify(t.pointList)!==JSON.stringify(this.activeLine)}},{key:"updateLines",value:function(){var e=this,t=this.lineList.find((function(t){return t.id===e.selectedID}));t&&(t.pointList=wt.a.cloneDeep(this.activeLine),this.emit("dataUpdated",this.lineList))}},{key:"onMouseUp",value:function(e){var t=this,i=function(){t.isMousedown=!1,t.hoverPointID=void 0,t.cursor=void 0,t.selectedPoint=void 0};this.hoverPointID=void 0,Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo||(1===e.which&&this.onLeftClick(e),3===e.which&&this.onRightClick(e)),i()}},{key:"isTextValid",value:function(e){return Wn.textAttributeValidate(this.textCheckType,this.customFormat,e)}},{key:"createLineData",value:function(){var e=gn(),t={pointList:wt.a.cloneDeep(this.activeLine),id:e,valid:this.isLineValid,order:xr.getAllToolsMaxOrder(this.lineList,this.prevResultList)+1,isVisible:!0};return t.attribute=this.defaultAttribute,t}},{key:"stopLineCreating",value:function(){var e,t,n,i,a,r=this,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],c=!!this.selectedID||!!this.isTextConfigurable;if(o)if(this.selectedID){var l=this.lineList.find((function(e){return e.id===r.selectedID}));a=this.selectedID,l&&(l.pointList=wt.a.cloneWith(this.activeLine),wt.a.isEqual(l.pointList,null==(e=this.history)?void 0:e.pushHistory(this.lineList))||null==(t=this.history)||t.pushHistory(this.lineList))}else if(this.isCreate&&this.activeLine&&this.activeLine.length>1){var s=this.createLineData();a=s.id,this.setLineList([].concat(Object(Ne.a)(this.lineList),[s])),null==(n=this.history)||n.pushHistory(this.lineList)}c?this.setActiveStatus(a):this.setNoneStatus(),null==(i=this.actionsHistory)||i.empty(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setActiveStatus",value:function(e){var t=e?this.lineList.find((function(t){return t.id===e})):void 0;if(t){var n=null==t?void 0:t.pointList;this.updateStatus(1),this.setActiveLine(n),this.setSelectedLineID(e)}else this.setNoneStatus()}},{key:"setNoneStatus",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.updateStatus(2),this.activeLine=[],this.setSelectedLineID(void 0),this.activeArea=void 0,this.isLineValid=!0,this.cursor=void 0}},{key:"setKeyDownStatus",value:function(e,t){this.isShift=null!=t?t:e.keyCode===Ei.Shift}},{key:"continueToEdit",value:function(){var e;this.updateStatus(0),this.cursor=void 0,null==(e=this.actionsHistory)||e.pushHistory(this.activeLine),this.render()}},{key:"setInvalidLineOnCreating",value:function(e){if((!this.selectedID||e.keyCode===Ei.Ctrl)&&this.isCreate){var t=!e.ctrlKey;this.selectedID?this.setInvalidLine(this.selectedID,t,!1):this.isLineValid=t}}},{key:"onKeyDown",value:function(e){var t;if(Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyDown",this).call(this,e),this.setKeyDownStatus(e),e.keyCode===Ei.Z&&!e.ctrlKey&&this.toggleIsHide(),e.keyCode===Ei.Shift&&this.render(),e.keyCode===Ei.Tab)return e.preventDefault(),void this.selectToNextLine(e);if(this.isCreate&&this.keyboardEventWhileLineCreating(e),this.config.attributeConfigurable){var i=Wn.getAttributeByKeycode(e.keyCode,null==(t=this.config)?void 0:t.attributeList);void 0!==i&&this.setDefaultAttribute(i)}}},{key:"selectToNextLine",value:function(e){var t=xr.getNextSelectedRectIDByEvent(this.viewPortLines.map((function(e){var t,n,i,a;return qa(Ga({},e),{x:null!=(n=null==(t=e.pointList[0])?void 0:t.x)?n:0,y:null!=(a=null==(i=e.pointList[0])?void 0:i.y)?a:0})})),e,this.selectedID);t&&this.setActiveLineByID(t.id)}},{key:"keyboardEventWhileLineCreating",value:function(e){!this.isCreate||(e.keyCode===Ei.Ctrl&&this.setInvalidLineOnCreating(e),[Ei.Shift,Ei.Alt].includes(e.keyCode)&&this.renderNextPoint(e,this.prevAxis))}},{key:"renderNextPoint",value:function(e,t){var n=this.coordUtils.getRenderCoord(this.getNextPoint(e,t));this.render(n)}},{key:"deleteSelectedLine",value:function(e){var t=Zr.calcViewportBoundaries(this.activeLine,this.isCurve,Ka,this.zoom);Ti.inArea(t,this.coordUtils.getAbsCoord(e))&&this.deleteLine()}},{key:"deleteSelectedLinePoint",value:function(e){var t;this.pointsWithinRange(this.activeLine.length-1)&&e&&(this.setActiveLine(this.activeLine.filter((function(t){return t.id!==e}))),this.updateLines(),null==(t=this.history)||t.pushHistory(this.lineList)),this.cursor=void 0,this.render()}},{key:"deleteLine",value:function(){var e,t=this;this.lineList=this.lineList.filter((function(e){return e.id!==t.selectedID})),null==(e=this.history)||e.pushHistory(this.lineList),this.setNoneStatus(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setInvalidLine",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.lineList.find((function(t){return t.id===e}));a&&(a.valid=void 0!==t?t:!a.valid,null==(n=this.history)||n.pushHistory(this.lineList),i&&this.render())}},{key:"empty",value:function(){var e,t;this.lineList=[],this.setNoneStatus(),this.selectedPoint=void 0,null==(e=this.actionsHistory)||e.empty(),null==(t=this.history)||t.init(),this.emit("dataUpdated",this.lineList),this.render()}},{key:"setAttribute",value:function(e){var t;this.attributeConfigurable&&(this.defaultAttribute=e,this.setLineAttribute("attribute",e),this.selectedID&&(null==(t=this.history)||t.pushHistory(this.lineList)))}},{key:"setTextAttribute",value:function(e){var t;this.isTextConfigurable&&(this.setLineAttribute("textAttribute",e),null==(t=this.history)||t.applyAttribute(this.selectedID,"textAttribute",e))}},{key:"setLineAttribute",value:function(e,t,n){var i=n||this.selectedID;if(i){var a=this.lineList.find((function(e){return e.id===i}));a&&(a[e]=t)}this.render()}},{key:"updateAttribute",value:function(e){this.emit("updateAttribute",e)}},{key:"updateLineAttributes",value:function(e){var t;if(this.attributeConfigurable&&e){var n=(null==e?void 0:e.attribute)||"";this.defaultAttribute=n,this.updateAttribute(n)}if(this.isTextConfigurable&&e){var i=(null==e?void 0:e.textAttribute)||"";this.updateTextAttribute(i)}null==(t=this.history)||t.updateHistory(this.lineList)}},{key:"lineStatusChanged",value:function(){this.emit("lineStatusChanged",{status:this.status,selectedLineID:this.selectedID})}},{key:"updateTextAttribute",value:function(e){var t=this;if(this.selectedID){var n=this.lineList.find((function(e){return e.id===t.selectedID}));n&&(n.textAttribute=e)}this.emit("updateText",e)}},{key:"saveData",value:function(){this.stopLineCreating(),this.setNoneStatus(),this.render()}},{key:"setTextEditingID",value:function(e){this.textEditingID=e,this.render()}},{key:"setSelectedLineID",value:function(e){var t,n;if(this.selectedID!==e){var i=this.selectedID;e!==i&&i&&(null==(t=this._textAttributeInstance)||t.changeSelected()),e||null==(n=this._textAttributeInstance)||n.clearTextAttribute(),this.selectedID=e,this.emit("selectedChange")}}},{key:"attributeLockListChange",value:function(e){this.attributeLockList=e,this.render()}},{key:"setResult",value:function(e){this.setNoneStatus(),this.setLineList(e),this.render()}},{key:"setConfig",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"setConfig",this).call(this,e)}},{key:"toggleIsHide",value:function(){this.setIsHidden(!this.isHidden),this.render()}},{key:"clearCanvas",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"clearCanvas",this).call(this)}},{key:"clearResult",value:function(){this.setResult([]),this.setSelectedLineID(void 0),this.render()}},{key:"exportData",value:function(){return[this.lineList,this.basicImgInfo]}},{key:"setDefaultAttribute",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.attributeConfigurable&&(this.defaultAttribute=t,this.setLineAttribute("attribute",t),this.selectedID&&(null==(e=this.history)||e.pushHistory(this.lineList)),this.emit("changeAttributeSidebar"))}},{key:"getCurrentSelectedData",value:function(){var e,t,n=this,i=this.isActiveLineValid(),a=this.defaultAttribute,r=this.getColor(a);return{color:i?null==r?void 0:r.valid.stroke:null==r?void 0:r.invalid.stroke,textAttribute:null!=(t=null==(e=this.lineList.find((function(e){return e.id===n.selectedID})))?void 0:e.textAttribute)?t:""}}},{key:"renderTextAttribute",value:function(){var e,t,n,i,a=this;if(this.ctx&&this.activeLine&&!((null==(e=this.activeLine)?void 0:e.length)<2)&&!this.isCreate){var r=this.isActiveLineValid(),o=this.defaultAttribute,c=this.activeLine[1],l=c.x,s=c.y,u=this.coordUtils.getRenderCoord({x:l,y:s}),d=this.getColor(o),h=r?null==d?void 0:d.valid.stroke:null==d?void 0:d.invalid.stroke,g=null!=(n=null==(t=this.lineList.find((function(e){return e.id===a.selectedID})))?void 0:t.textAttribute)?n:"";this._textAttributeInstance||(this._textAttributeInstance=new Aa({container:this.container,icon:this.getTextIconSvg(o),color:h,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributeInstance&&!(null==(i=this._textAttributeInstance)?void 0:i.isExit)&&this._textAttributeInstance.appendToContainer(),this._textAttributeInstance.update("".concat(g),{left:u.x,top:u.y,color:h}),this._textAttributeInstance.updateIcon(this.getTextIconSvg(o))}}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Wn.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributeInstance&&e&&this.selectedID){var t=e;!Wn.textAttributeValidate(this.config.textCheckType,this.customFormat,t)&&(this.emit("messageError",Wn.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setTextAttribute(t),this.emit("updateTextAttribute"),this.render()}}}]),n}(_i),$a=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getMarkerShowText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Wn.getAttributeShowText(e,t)}}]),e}(),er=Object.defineProperty,tr=Object.defineProperties,nr=Object.getOwnPropertyDescriptors,ir=Object.getOwnPropertySymbols,ar=Object.prototype.hasOwnProperty,rr=Object.prototype.propertyIsEnumerable,or=Math.pow,cr=function(e,t,n){return t in e?er(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},lr=function(e,t){for(var n in t||(t={}))ar.call(t,n)&&cr(e,n,t[n]);if(ir){var i,a=Object(Se.a)(ir(t));try{for(a.s();!(i=a.n()).done;){n=i.value;rr.call(t,n)&&cr(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},sr=function(e,t){return tr(e,nr(t))},ur=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).setMarkerIndex=function(e){i.markerIndex=e},i.setMarkerIndexAndSelect=function(e){if(i.config.markerList){i.markerIndex=e;var t=i.config.markerList[e].value,n=i.currentPageResult.find((function(e){return e.label===t}));n&&(i.setSelectedID(n.id),!0===i.config.attributeConfigurable&&i.setDefaultAttribute(n.attribute)),i.emit("markIndexChange")}},i.textChange=function(e){!0!==i.config.textConfigurable||!i.selectedID||(i.setPointList(Wn.textChange(e,i.selectedID,i.pointList)),i.emit("selectedChange"),i.render())},i.isMinDistance=function(e){var t=Yr.changePointByZoom(e,i.zoom);return i.pointList.some((function(e){var n=Yr.changePointByZoom(e,i.zoom);return Zr.getLineLength(n,t)<.2}))},i.config=xr.jsonParser(e.config),i.pointList=[],i.markerIndex=0,i.setStyle(e.style),i.createPoint=i.createPoint.bind(Object(Be.a)(i)),i.getCurrentSelectedData=i.getCurrentSelectedData.bind(Object(Be.a)(i)),i.updateSelectedTextAttribute=i.updateSelectedTextAttribute.bind(Object(Be.a)(i)),i.setSelectedID=i.setSelectedID.bind(Object(Be.a)(i)),i}return Object(He.a)(n,[{key:"dataList",get:function(){return this.pointList}},{key:"drawOutsideTarget",get:function(){var e;return null!=(e=this.config.drawOutsideTarget)?e:this.config.drawPointOut}},{key:"setNextMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pointList;if(this.hasMarkerConfig){var t=xr.getNextMarker(this.getCurrentPageResult(e),this.config.markerList);t&&this.setMarkerIndexAndSelect(t.index)}}},{key:"setResult",value:function(e){this.clearActiveStatus(),this.setPointList(e),this.setNextMarker(e),this.render()}},{key:"setPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.pointList.length;this.pointList=e,n!==e.length&&this.emit("updatePageNumber"),t&&this.emit("updateResult")}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.config=xr.jsonParser(e),!0===t&&this.clearResult()}},{key:"clearResult",value:function(){this.setPointList([]),this.setSelectedID(void 0),this.history.pushHistory([]),this.hoverID="",this.render()}},{key:"setDefaultAttribute",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.defaultAttribute;if(this.defaultAttribute=e,t!==e){this.changeStyle(e),this.emit("changeAttributeSidebar");var n=this.selectedID;if(n&&(this.pointList.forEach((function(t){t.id===n&&(t.attribute=e)})),this.history.pushHistory(this.pointList),this.render()),this._textAttributInstance){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(e))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}}},{key:"selectedText",get:function(){var e,t=this;return null==(e=this.pointList.find((function(e){return e.id===t.selectedID})))?void 0:e.textAttribute}},{key:"setStyle",value:function(e){var t;Object(Ze.a)(Object(ze.a)(n.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"setSelectedID",value:function(e){var t,n,i=this.selectedID;e!==i&&i&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(n=this._textAttributInstance)||n.clearTextAttribute(),this.selectedID=e,this.render(),this.emit("selectedChange")}},{key:"getTextIconSvg",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Wn.getTextIconSvg(t,null==(e=this.config)?void 0:e.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"clearActiveStatus",value:function(){this.hoverID=void 0,this.dragStatus=Jt.Wait,this.setSelectedID(void 0)}},{key:"setBasicResult",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"setBasicResult",this).call(this,e),this.setNextMarker(),this.clearActiveStatus()}},{key:"onMouseDown",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation)return 0!==e.button||this.hoverID?(this.hoverID===this.selectedID&&0===e.button&&(this.dragStatus=Jt.Start),this.render(),!0):(this.createPoint(e),void this.render())}},{key:"onMouseMove",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo||(this.hoverID=this.getHoverId(),(this.dragStatus===Jt.Start||this.dragStatus===Jt.Move)&&this.onDragMove(e),this.hoverID&&this.render())}},{key:"onMouseUp",value:function(e){if(Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;2===e.button&&this.rightMouseUp(),this.dragStatus===Jt.Move&&this.history.pushHistory(this.pointList),this.dragStatus=Jt.Wait,this.render()}},{key:"onDragMove",value:function(e){var t,n,i=this;if(this.imgInfo){this.dragStatus=Jt.Move;var a=this.getCoordinateUnderZoom(e),r=Yr.changeDrawOutsideTarget(a,{x:0,y:0},this.imgInfo,this.drawOutsideTarget,this.basicResult,this.zoom),o=this.drawOutsideTarget?Yr.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos):Yr.changePointByZoom(r,1/this.zoom);!1===this.drawOutsideTarget&&this.dependToolName===De.Polygon&&(null==(n=null==(t=this.basicResult)?void 0:t.pointList)?void 0:n.length)>0&&!Ir.isInPolygon(o,this.basicResult.pointList)||(this.pointList.forEach((function(e){e.id===i.selectedID&&(e.x=o.x,e.y=o.y)})),this.render())}}},{key:"onKeyDown",value:function(e){var t;if(xr.hotkeyFilter(e)&&!1!==Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyDown",this).call(this,e)){var i=e.keyCode;switch(i){case Ei.Delete:this.deletePoint();break;case Ei.Tab:this.onTabKeyDown(e);break;case Ei.Z:this.setIsHidden(!this.isHidden),this.render();break;default:if(this.config.attributeConfigurable){var a=Wn.getAttributeByKeycode(i,null==(t=this.config)?void 0:t.attributeList);void 0!==a&&this.setDefaultAttribute(a)}}}}},{key:"createPoint",value:function(e){var t,n,i,a;if(this.imgInfo){var r=this.config.upperLimit;if(r&&this.currentPageResult.length>=r)this.emit("messageInfo","".concat(Rn.getMessagesByLocale(bn.LowerLimitPoint,this.lang)));else{var o=xr.getSourceID(this.basicResult),c=this.getCoordinateUnderZoom(e),l=Yr.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos);if(this.config.edgeAdsorption&&this.referenceData&&[De.Polygon,De.Line].includes(null==(t=this.referenceData)?void 0:t.toolName)){var s=(null==(n=this.referenceData)?void 0:n.toolName)===De.Polygon,u=Ir.getClosestPoint(l,this.referenceData.result,null!=(a=null==(i=this.referenceData.config)?void 0:i.lineType)?a:Ye.Line,pt/this.zoom,{isClose:s}),d=u.dropFoot;d&&(l=d),u.hasClosed&&this.emit("messageSuccess","".concat(Rn.getMessagesByLocale(bn.SuccessfulEdgeAdsorption,this.lang)))}if(!1===this.drawOutsideTarget){if(this.dependToolName&&this.basicCanvas){var h=!1;switch(this.dependToolName){case De.Rect:h=!hn.isInRect(l,this.basicResult);break;case De.Polygon:h=!Ir.isInPolygon(l,this.basicResult.pointList)}if(h)return}if(c.x<0||c.y<0||c.x>this.imgInfo.width||c.y>this.imgInfo.height)return}if(!this.isMinDistance(l)){var g=sr(lr({},l),{isVisible:!0,attribute:this.defaultAttribute,valid:!e.ctrlKey,id:gn(8,62),sourceID:o,textAttribute:"",order:xr.getAllToolsMaxOrder(this.pointList,this.prevResultList)+1});if(this.config.textConfigurable){var f;f=Wn.getTextAttribute(this.pointList.filter((function(e){return xr.isSameSourceID(e.sourceID,o)})),this.config.textCheckType),g=sr(lr({},g),{textAttribute:f})}if(this.hasMarkerConfig){var b=xr.getNextMarker(this.currentPageResult,this.config.markerList,this.markerIndex);if(!b)return void this.emit("messageInfo",Rn.getMessagesByLocale(bn.MarkerFinish,this.lang));g=sr(lr({},g),{label:b.label}),this.markerIndex=b.index,this.emit("markIndexChange")}this.hoverID=g.id;var p=[].concat(Object(Ne.a)(this.pointList),[g]);this.setPointList(p),this.history.pushHistory(p),this.setSelectedID(g.id)}}}}},{key:"isInPoint",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.zoom;return(this.style.width+2)/n>=Math.sqrt(or(e.x-t.x,2)+or(e.y-t.y,2))}},{key:"getHoverId",value:function(){var e,t=this,n=Yr.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos),i=null==(e=this.pointList)?void 0:e.find((function(e){return t.isInPoint(n,e)}));return null==i?void 0:i.id}},{key:"rightMouseUp",value:function(){var e=this;if(this.selectedID===this.hoverID){var t=this.pointList.filter((function(t){return t.id!==e.selectedID}));return this.setPointList(t),this.history.pushHistory(t),this.setSelectedID(""),void(this.hoverID="")}var n=this.pointList.find((function(t){return t.id===e.hoverID}));if(this.setSelectedID(this.hoverID),this.setDefaultAttribute(null==n?void 0:n.attribute),(null==n?void 0:n.label)&&this.hasMarkerConfig){var i=xr.getCurrentMarkerIndex(n.label,this.config.markerList);i>=0&&(this.setMarkerIndex(i),this.emit("markIndexChange"))}}},{key:"onTabKeyDown",value:function(e){if(e.preventDefault(),this.dragStatus!==Jt.Move&&this.dragStatus!==Jt.Start){var t=Xt.ascend;e.shiftKey&&(t=Xt.descend);var n=xr.getRenderResultList(this.pointList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(Ne.a)(a);r&&(o=[].concat(Object(Ne.a)(o),[r]));var c=xr.getNextSelectedRectID(o,t,this.selectedID);c&&this.setSelectedID(c.id)}}},{key:"currentPageResult",get:function(){var e=xr.getRenderResultList(this.pointList,xr.getSourceID(this.basicResult),[]);return Object(G.a)(e,1)[0]}},{key:"getCurrentPageResult",value:function(e){var t=xr.getRenderResultList(e,xr.getSourceID(this.basicResult),[]);return Object(G.a)(t,1)[0]}},{key:"exportData",value:function(){return[this.pointList,this.basicImgInfo]}},{key:"deletePoint",value:function(){var e,t=this;this.selectedID&&(this.setPointList(this.pointList.filter((function(e){return e.id!==t.selectedID}))),this.history.pushHistory(this.pointList),null==(e=this._textAttributInstance)||e.clearTextAttribute(),this.emit("selectedChange"),this.render())}},{key:"undoAndRedo",value:function(e){var t,n,i=this;if(this.dragStatus!==Jt.Move&&this.dragStatus!==Jt.Start){var a=null==(n=(t=this.history)[e])?void 0:n.call(t);(null==a?void 0:a.some((function(e){return e.id===i.selectedID})))||this.setSelectedID(""),a&&(this.setPointList(a,!0),this.render())}}},{key:"undo",value:function(){this.undoAndRedo("undo")}},{key:"redo",value:function(){this.undoAndRedo("redo")}},{key:"getCurrentSelectedData",value:function(){var e,t=this;if(this.selectedID){var n=null==(e=this.pointList)?void 0:e.find((function(e){return e.id===t.selectedID})),i=this.getColor(null==n?void 0:n.attribute),a=(null==n?void 0:n.valid)?null==i?void 0:i.valid.stroke:null==i?void 0:i.invalid.stroke;return this.dragStatus=Jt.Wait,{width:200*this.zoom*.6,textAttribute:(null==n?void 0:n.textAttribute)||"",color:a}}}},{key:"updateSelectedTextAttribute",value:function(e){if(this._textAttributInstance&&e&&this.selectedID){var t=e;!1===Wn.textAttributeValidate(this.config.textCheckType,"",t)&&(this.emit("messageError",Wn.getErrorNotice(this.config.textCheckType,this.lang)),t=""),this.setPointList(Wn.textChange(t,this.selectedID,this.pointList)),this.emit("updateTextAttribute"),this.render()}}},{key:"renderTextAttribute",value:function(){var e,t,n=this,i=null==(e=this.pointList)?void 0:e.find((function(e){return e.id===n.selectedID}));if(this.ctx&&!0===this.config.textConfigurable&&i){var a=i.x,r=i.y,o=i.attribute,c=i.valid,l=200*this.zoom*.6,s=Yr.getOffsetCoordinate({x:a,y:r},this.currentPos,this.zoom),u=this.getColor(o),d=c?null==u?void 0:u.valid.stroke:null==u?void 0:u.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Aa({width:l,container:this.container,icon:this.getTextIconSvg(o),color:d,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedTextAttribute})),this._textAttributInstance&&!(null==(t=this._textAttributInstance)?void 0:t.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(i.textAttribute),{left:s.x,top:s.y+4,color:d,width:l})}}},{key:"renderPoint",value:function(e){var t;if(e.isVisible){var n=e.textAttribute,i=void 0===n?"":n,a=e.attribute,r=e.id===this.selectedID,o=this.getColor(a),c=Yr.changePointByZoom(e,this.zoom,this.currentPos),l=this.style,s=l.width,u=void 0===s?2:s,d=l.hiddenText,h=void 0!==d&&d,g=ai.getStrokeAndFill(o,e.valid,{isSelected:r||e.id===this.hoverID});ii.drawCircle(this.canvas,c,u,{startAngleDeg:0,endAngleDeg:360,thickness:1,color:g.stroke,fill:"transparent"});var f="";this.isShowOrder&&e.order&&(null==e?void 0:e.order)>0&&(f="".concat(e.order)),e.label&&this.hasMarkerConfig&&(f="".concat(xr.getAllToolsMaxOrder(this.pointList,this.prevResultList)+1,"_").concat($a.getMarkerShowText(e.label,this.config.markerList))),e.attribute&&(f="".concat(f,"  ").concat(Wn.getAttributeShowText(e.attribute,null==(t=this.config)?void 0:t.attributeList))),h||ii.drawText(this.canvas,{x:c.x+u/2,y:c.y-u-4},f,{textAlign:"center",color:g.stroke}),r?this.renderTextAttribute():h||ii.drawText(this.canvas,{x:c.x+u,y:c.y+u+24},i,lr({color:g.stroke},Qt))}}},{key:"renderPointList",value:function(){var e=this,t=xr.getRenderResultList(this.pointList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(G.a)(t,2),i=n[0],a=n[1];this.container.dispatchEvent(this.saveDataEvent),this.isHidden||i.forEach((function(t){e.renderPoint(t)})),a&&this.renderPoint(a)}},{key:"renderTop",value:function(){var e,t,n,i=this.getLineColor(this.defaultAttribute);if(this.renderCursorLine(i),this.config.edgeAdsorption&&this.referenceData){var a=Yr.getOriginCoordinateWithOffsetCoordinate(this.coord,this.zoom,this.currentPos),r=(null==(e=this.referenceData)?void 0:e.toolName)===De.Polygon,o=Ir.getClosestPoint(a,this.referenceData.result,null!=(n=null==(t=this.referenceData.config)?void 0:t.lineType)?n:Ye.Line,pt/this.zoom,{isClose:r}).dropFoot;o&&a!==o&&a!==o&&(a=o,ii.drawCircle(this.canvas,Yr.changePointByZoom(a,this.zoom,this.currentPos),5,{color:"white",fill:"white"}),ii.drawCircle(this.canvas,Yr.changePointByZoom(a,this.zoom,this.currentPos),3,{fill:i,color:i}))}}},{key:"render",value:function(){!this.ctx||!this.renderReady||(Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this),this.renderPointList(),this.renderTop())}}]),n}(_i),dr=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).getSingleResult=function(e){var t={};return i.config.configList.length>0&&i.config.configList.forEach((function(e){var n;t[e.key]=null!=(n=e.default)?n:""})),{value:t,id:gn(),sourceID:null!=e?e:xr.getSourceID()}},i.getInitResultList=function(e,t){return e>0?t.map((function(e){return i.getSingleResult(e.id)})):[i.getSingleResult()]},i.textList=[],i.setShowDefaultCursor(!0),i.setConfig(e.config),i.initTextDisplayContainer(),i}return Object(He.a)(n,[{key:"dataList",get:function(){return this.textList}},{key:"textValueContainerID",get:function(){return"textValueContainer"}},{key:"textValueContainer",get:function(){return document.getElementById(this.textValueContainerID)}},{key:"currentPageResult",get:function(){return this.textList}},{key:"setResult",value:function(e){var t,n=this;this.textList=e,this.toggleTextContainerVisible(!0);var i=null==(t=this.textList[0])?void 0:t.value;i&&Object.keys(i).forEach((function(e){n.renderText(e,i[e])})),this.emit("valueUpdated"),this.toggleTextContainerVisible(!!i)}},{key:"updateTextValue",value:function(e,t){this.textList[0].value[e]=t,this.renderText(e,t),this.emit("valueUpdated")}},{key:"renderText",value:function(e,t){var n=document.getElementById("textKey".concat(e));n&&(n.innerText=t)}},{key:"getTextDomID",value:function(e){return"textKey".concat(e)}},{key:"initTextDisplayContainer",value:function(){var e=this,t=document.createElement("div"),n={position:"absolute",right:"0",top:"0","z-index":"20","max-width":"20%","font-family":"SourceHanSansCN-Regular",background:"rgb(102, 230, 255)",color:"white","word-break":"break-all","line-height":"24px","white-space":"pre-wrap","max-height":"80%","overflow-y":"auto",opacity:"0.6"};t.setAttribute("style",Object.keys(n).reduce((function(e,t){return e+="".concat(t,": ").concat(n[t],";")}),"")),t.setAttribute("id",this.textValueContainerID),this.config.configList.forEach((function(n){var i=document.createElement("div"),a=document.createElement("div"),r=document.createElement("div");i.setAttribute("style","padding: 8px 16px"),a.innerText="".concat(n.key,":"),r.innerText="",r.setAttribute("id",e.getTextDomID(n.key)),i.appendChild(a),i.appendChild(r),t.appendChild(i)})),this.container.appendChild(t)}},{key:"exportData",value:function(){return[this.textList,this.basicImgInfo]}},{key:"destroyCanvas",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"destroyCanvas",this).call(this),this.textValueContainer&&this.container.removeChild(this.textValueContainer)}},{key:"onKeyDown",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyDown",this).call(this,e),e.keyCode===Ei.Z&&this.toggleTextContainerVisible()}},{key:"toggleTextContainerVisible",value:function(e){if(this.textValueContainer){var t=(void 0!==e?e:"block"!==this.textValueContainer.style.display)?"block":"none";this.textValueContainer.style.display=t}}}]),n}(_i),hr=Object.defineProperty,gr=Object.defineProperties,fr=Object.getOwnPropertyDescriptors,br=Object.getOwnPropertySymbols,pr=Object.prototype.hasOwnProperty,vr=Object.prototype.propertyIsEnumerable,mr=function(e,t,n){return t in e?hr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yr=function(e,t){for(var n in t||(t={}))pr.call(t,n)&&mr(e,n,t[n]);if(br){var i,a=Object(Se.a)(br(t));try{for(a.s();!(i=a.n()).done;){n=i.value;vr.call(t,n)&&mr(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},xr=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getStepInfo",value:function(e,t){return null==t?void 0:t.filter((function(t){return t.step===e}))[0]}},{key:"getCurrentStepInfo",value:function(e,t){var n=this.getStepInfo(e,t);return!n||n.type!==Nt.QUALITY_INSPECTION&&n.type!==Nt.MANUAL_CORRECTION?n:this.getCurrentStepInfo(n.dataSourceStep,t)}},{key:"getMaxOrder",value:function(e){var t=0;return e.forEach((function(e){e.order&&e.order>t&&(t=e.order)})),t}},{key:"getAllToolsMaxOrder",value:function(e,t){var n=0;if(e){var i,a=Object(Se.a)(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.order>n&&(n=r.order)}}catch(e){a.e(e)}finally{a.f()}}if(t){var o,c=Object(Se.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;if(l.toolName&&"tagTool"!==l.toolName){var s,u=Object(Se.a)(l.result);try{for(u.s();!(s=u.n()).done;){var d=s.value;d.order>n&&(n=d.order)}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){c.e(e)}finally{c.f()}}return n}},{key:"hotkeyFilter",value:function(e){var t=e.target||e.srcElement;if(!t)return!0;var n=t.tagName,i=t.type;if(!n||!i)return!0;var a=!0;return(t.isContentEditable||"TEXTAREA"===n||("INPUT"===n&&"radio"!==i||"TEXTAREA"===n)&&!t.readOnly)&&(a=!1),a}},{key:"getCurrentOperation",value:function(e){switch(e){case De.Rect:case De.RectTrack:return lo;case De.Tag:return Ba;case De.Polygon:return Ha;case Me.Check:return ca;case De.Line:return _a;case De.Point:return ur;case De.Text:return dr;default:throw new Error("not match tool")}}},{key:"getNextSelectedRectID",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xt.ascend,n=arguments.length>2?arguments[2]:void 0,i=1;t===Xt.descend&&(i=-1);var a=e.sort((function(e,t){return e.x-t.x==0?e.y-t.y:i*(e.x-t.x)})),r=a.findIndex((function(e){return e.id===n}));return a[(r+1)%a.length]}},{key:"getNextSelectedRectIDByEvent",value:function(e,t,n){var i=t.shiftKey?Xt.descend:Xt.ascend;return this.getNextSelectedRectID(e,i,n)}},{key:"getRenderResultList",value:function(e,t){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;return[e.filter((function(e){return r&&r===(null==e?void 0:e.id)?(n=e,!1):!(a.length>0&&!a.includes(null==e?void 0:e.attribute)||i.isDifferSourceID(null==e?void 0:e.sourceID,t))})),n]}},{key:"getSourceID",value:function(e){var t;return e&&null!=(t=null==e?void 0:e.id)?t:""}},{key:"findAllLine",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],i=Object(Ne.a)(e);i.length>=3&&!0===t&&i.push(yr({},i[0]));for(var a=0;a<i.length;a++)i[a+1]&&n.push({point1:i[a],point2:i[a+1],pointIndex:a});return n}},{key:"translateSourceID",value:function(e){return(void 0===e||0===e||"0"===e)&&(e=""),e}},{key:"isDifferSourceID",value:function(e,t){return e=this.translateSourceID(e),t=this.translateSourceID(t),"".concat(e)!="".concat(t)}},{key:"isSameSourceID",value:function(e,t){return e=this.translateSourceID(e),t=this.translateSourceID(t),"".concat(e)=="".concat(t)}},{key:"getNextMarker",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(0!==(null==t?void 0:t.length)){var i=t.map((function(e,t){return function(e,t){return gr(e,fr(t))}(yr({},e),{index:t})}));if("number"==typeof n&&n>0){var a=t[n];if(a&&e.every((function(e){return e.label!==a.value})))return{label:a.value,index:n};i=[].concat(Object(Ne.a)(i.slice(n,t.length)),Object(Ne.a)(i.slice(0,n)))}for(var r=function(t){if(!e.some((function(e){return e.label===i[t].value})))return{v:{label:i[t].value,index:i[t].index}}},o=0;o<i.length;o++){var c=r(o);if("object"==typeof c)return c.v}}}},{key:"getCurrentMarkerIndex",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).findIndex((function(t){return e===t.value}))}}]),e}();xr.jsonParser=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"==typeof e?JSON.parse(e):Object(en.a)(e)?e:t}catch(e){return t}};var Or=Object.defineProperty,wr=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Lr=Object.prototype.propertyIsEnumerable,Cr=function(e,t,n){return t in e?Or(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Sr=function(e,t){for(var n in t||(t={}))kr.call(t,n)&&Cr(e,n,t[n]);if(wr){var i,a=Object(Se.a)(wr(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Lr.call(t,n)&&Cr(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Ir=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getHoverPolygonID",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ye.Line,r="",o=1/0,c=Yr.axisArea(e,i);return t.forEach((function(e){e.pointList&&c.forEach((function(t){var i=n.calcPolygonSize(e.pointList);n.isInPolygon(t,e.pointList,a)&&i<o&&(r=e.id,o=i)}))})),r}},{key:"calcPolygonSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if((null==e?void 0:e.length)<=2)return 0;var t=e.length,n=e.reduce((function(e,n,i,a){var r=a[(i+1)%t];return e+n.x*r.y-r.x*n.y}),0);return Math.abs(n)/2}},{key:"isInPolygon",value:function(e,t){var n,i,a,r,o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line,l=0;t=Object(Ne.a)(t),c===Ye.Curve&&(t=this.createSmoothCurvePoints(t.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!0,20)),n=t,r=Object(G.a)(n,1)[0];var s=t.length;for(i=1;i<=s;i++)o=t[i%s],e.x>Math.min(r.x,o.x)&&e.x<=Math.max(r.x,o.x)&&e.y<=Math.max(r.y,o.y)&&r.x!==o.x&&(a=(e.x-r.x)*(o.y-r.y)/(o.x-r.x)+r.y,(r.y===o.y||e.y<=a)&&l++),r=o;return l%2!=0}},{key:"createSmoothCurvePointsFromPointList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;return this.createSmoothCurvePoints(e.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!1,t).map((function(t,n){var i,a=n/(bt+1),r=Math.floor(a),o=null!=(i=e[r])?i:{};return Sr(r===a?Sr({},o):{specialEdge:o.specialEdge},t)}))}},{key:"createSmoothCurvePoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:bt;if(e.length<4)return e;var a,r,o,c,l,s,u,d,h,g,f,b,p,v=[],m=e.slice(0);for(n?(m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.unshift(e[e.length-1]),m.unshift(e[e.length-2]),m.push(e[0]),m.push(e[1])):(m.unshift(e[1]),m.unshift(e[0]),m.push(e[e.length-2]),m.push(e[e.length-1])),p=2;p<m.length-4;p+=2)for(o=(m[p+2]-m[p-2])*t,c=(m[p+4]-m[p-0])*t,l=(m[p+3]-m[p-1])*t,s=(m[p+5]-m[p+1])*t,b=0;b<=i;b++)f=b/i,u=2*Math.pow(f,3)-3*Math.pow(f,2)+1,d=-2*Math.pow(f,3)+3*Math.pow(f,2),h=Math.pow(f,3)-2*Math.pow(f,2)+f,g=Math.pow(f,3)-Math.pow(f,2),a=u*m[p]+d*m[p+2]+h*o+g*c,r=u*m[p+1]+d*m[p+3]+h*l+g*s,v.push(a),v.push(r);for(var y=[],x=0;x<v.length-1;x+=2)y.push({x:v[x],y:v[x+1]});if(n)for(var O=0;O<i+1;O++){var w=y.shift();y.push(w)}return y}},{key:"getPolygonByID",value:function(e,t){return e.find((function(e){return e.id===t}))}},{key:"getPolygonByIDs",value:function(e,t){if(t&&(null==t?void 0:t.length)>0)return e.filter((function(e){return t.includes(e.id)}))}},{key:"getHoverEdgeIndex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line,i=Object(Ne.a)(t);n===Ye.Curve?i=this.createSmoothCurvePoints(t.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,!0,bt):n===Ye.Line&&i.push(i[0]);for(var a=-1,r=0;r<i.length-1;r++)Yr.isPointInsect(e,[i[r],i[r+1]])&&(a=r);return-1===a?-1:n===Ye.Curve?Math.floor(a/bt):a}},{key:"getClosestPoint",value:function(e,t){var n,i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3,o=arguments.length>4?arguments[4]:void 0,c=!1,l=null==(n=null==o?void 0:o.isClose)||n,s="",u=-1,d=1/0,h=e,g=!1;return t.forEach((function(t){if(!g&&t.pointList)switch(a){case Ye.Line:xr.findAllLine(t.pointList,l).forEach((function(n,i){if(!g){var a=Zr.getFootOfPerpendicular(e,n.point1,n.point2),o=a.length,l=a.footPoint,f=Zr.getLineLength(n.point1,e),b=Zr.getLineLength(n.point2,e);f<2*r&&(l=n.point1,o=f,g=!0),b<2*r&&(l=n.point2,o=b,g=!0),o<d&&o<r&&(s=t.id,u=i,d=o,h=l,c=!0)}}));break;case Ye.Curve:for(var n=i.createSmoothCurvePoints(t.pointList.reduce((function(e,t){return[].concat(Object(Ne.a)(e),[t.x,t.y])}),[]),.5,l,20),o=0;o<n.length-1;o++){var f=Zr.getFootOfPerpendicular(e,n[o],n[o+1]),b=f.length,p=f.footPoint;b<d&&b<r&&(s=t.id,u=Math.floor(o/21),d=b,h=p,c=!0)}}})),{dropFoot:h,closestEdgeIndex:u,closestPolygonID:s,hasClosed:c}}},{key:"isPointListInPolygon",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line;return e.every((function(e){return n.isInPolygon(e,t,i)}))}},{key:"isPointListOutSidePolygon",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ye.Line;return e.some((function(e){return!n.isInPolygon(e,t,i)}))}},{key:"getPolygonArea",value:function(e){for(var t=0,n=0,i=e.length;n<i;n++){t+=e[n].x*e[n===e.length-1?0:n+1].y*.5,t-=e[n===e.length-1?0:n+1].x*e[n].y*.5}return Math.abs(t)}},{key:"updatePolygonByRotate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,i=1;return e===Kt.Anticlockwise&&(i=-1),i*=t,Zr.rotateRectPointList(i,n)}},{key:"deletePolygonLastPoint",value:function(e,t,n,i){return n===i.length-1?e:[].concat(Object(Ne.a)(e),[{x:t[0],y:t[1]}])}},{key:"concatBeginAndEnd",value:function(e){return e.length<1?e:[].concat(Object(Ne.a)(e),[e[0]])}},{key:"segmentPolygonByPolygon",value:function(t,n){var i,a;try{var r=Object(Ht.polygon)([Object(Ne.a)(e.concatBeginAndEnd(t.map((function(e){return[e.x,e.y]}))))]);return n.forEach((function(t){var n=Object(Ht.polygon)([Object(Ne.a)(e.concatBeginAndEnd(t.pointList.map((function(e){return[e.x,e.y]}))))]),i=Object(Ht.difference)(r,n);i&&(r=i)})),(null!=(a=null==(i=null==r?void 0:r.geometry)?void 0:i.coordinates.map((function(t){var n;return"MultiPolygon"===(null==(n=null==r?void 0:r.geometry)?void 0:n.type)?t[0].reduce(e.deletePolygonLastPoint,[]):t.reduce(e.deletePolygonLastPoint,[])})))?a:[]).reduce((function(e,t){var n=t.length,i=t.filter((function(e,i){var a=(i+1)%n;return!Yr.getIsInScope(e,t[a],1)}));return i.length<3?e:[].concat(Object(Ne.a)(e),[i])}),[])}catch(r){}}},{key:"getPolygonPointList",value:function(e,t){var n=t.find((function(t){return t.id===e}));return n&&n.pointList&&n.pointList.length>0?n.pointList:[]}},{key:"getWrapPolygonIndex",value:function(t,n){return n.findIndex((function(n){return e.isPointListInPolygon(t,n.pointList)}))}},{key:"clipPolygonFromWrapPolygon",value:function(t,n){var i=e.isPolygonClosewise(n),a=e.isPolygonClosewise(t),r=e.getClosePointDistanceFromPolygon(t[0],n),o=n[r],c=[].concat(Object(Ne.a)(n.slice(0,r)),[o],Object(Ne.a)(t),[t[0]],Object(Ne.a)(n.slice(r,n.length)));return i===a&&(c=[].concat(Object(Ne.a)(n.slice(0,r)),[o,t[0]],Object(Ne.a)(t.reverse()),Object(Ne.a)(n.slice(r,n.length)))),c}},{key:"isPolygonClosewise",value:function(e){var t,n,i,a,r=e.length,o=0;if(r<3)return 0;for(t=0;t<r;t++)i=(t+2)%r,a=(e[n=(t+1)%r].x-e[t].x)*(e[i].y-e[n].y),(a-=(e[n].y-e[t].y)*(e[i].x-e[n].x))<0?o--:a>0&&o++;return o>0?1:o<0?-1:0}},{key:"getClosePointDistanceFromPolygon",value:function(e,t){var n=Number.MAX_SAFE_INTEGER,i=-1;return t.forEach((function(t,a){var r=Ti.calcDistance(e,t);r<n&&(n=r,i=a)})),i}},{key:"combinePolygonWithPolygon",value:function(t,n){var i,a;try{var r=Object(Ht.polygon)([Object(Ne.a)(e.concatBeginAndEnd(t.pointList.map((function(e){return[e.x,e.y]}))))]),o=Object(Ht.polygon)([Object(Ne.a)(e.concatBeginAndEnd(n.pointList.map((function(e){return[e.x,e.y]}))))]),c=Object(Ht.union)(r,o),l=[],s=t;if(1===(null==(a=null==(i=null==c?void 0:c.geometry)?void 0:i.coordinates)?void 0:a.length)){l.push(n.id);var u=null==c?void 0:c.geometry.coordinates.map((function(t){var n;return"MultiPolygon"===(null==(n=null==c?void 0:c.geometry)?void 0:n.type)?t[0].reduce(e.deletePolygonLastPoint,[]):t.reduce(e.deletePolygonLastPoint,[])}))[0];s.pointList=u}return{newPolygon:s,unionList:l}}catch(r){}}}]),e}(),Ar=Math.pow,Pr=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"add",value:function(e,t){return{x:e.x+t.x,y:e.y+t.y}}},{key:"getVector",value:function(e,t){return{x:t.x-e.x,y:t.y-e.y}}},{key:"len",value:function(e){return Math.sqrt(Ar(e.x,2)+Ar(e.y,2))}},{key:"dotProduct",value:function(e,t){return e.x*t.x+e.y+t.y}}]),e}(),jr=Object.defineProperty,Tr=Object.defineProperties,Er=Object.getOwnPropertyDescriptors,Dr=Object.getOwnPropertySymbols,Mr=Object.prototype.hasOwnProperty,Rr=Object.prototype.propertyIsEnumerable,Nr=function(e,t,n){return t in e?jr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Vr=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"tanAPlusB",value:function(e,t){return(e+t)/(1-e*t)}},{key:"sinAPlusB",value:function(e,t,n,i){return i*e+t*n}},{key:"cosAPlusB",value:function(e,t,n,i){return t*i-e*n}}]),e}(),Hr=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"hexify",value:function(e){var t=e.replace(/rgba?\(/,"").replace(/\)/,"").replace(/[\s+]/g,"").split(","),n=parseFloat(t[3]||1),i=Math.floor(n*parseInt(t[0],10)+255*(1-n)),a=Math.floor(n*parseInt(t[1],10)+255*(1-n)),r=Math.floor(n*parseInt(t[2],10)+255*(1-n));return"0X".concat("0".concat(i.toString(16)).slice(-2)).concat("0".concat(a.toString(16)).slice(-2)).concat("0".concat(r.toString(16)).slice(-2))}},{key:"getRotateVector",value:function(e,t){if(e.isVector2&&wt.a.isNumber(t)){var n=new Ot.Matrix3;return n.set(Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0,0,0,1),new Ot.Vector3(e.x,e.y,1).applyMatrix3(n)}}},{key:"getRotate",value:function(e){return e+90>=360?e+90-360:e+90}},{key:"getLineLength",value:function(e,t){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}},{key:"getTextArea",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:st,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ut,a=arguments.length>4?arguments[4]:void 0;if("string"!=typeof t)return{width:0,height:0};var r=e.getContext("2d");r.font=i;var o=0;void 0===a&&(a=e&&parseInt(window.getComputedStyle(e).lineHeight,10)||parseInt(window.getComputedStyle(document.body).lineHeight,10));for(var c=e&&parseInt(window.getComputedStyle(e).fontSize,10)||parseInt(window.getComputedStyle(document.body).fontSize,10)||0,l=t.split("\n"),s=0,u=0;u<l.length;u++){for(var d=l[u].split(""),h="",g=0;g<d.length;g++){var f=h+d[g],b=r.measureText(f).width;b>n&&g>0?(h=d[g],o+=a,s=n):(h=f,b>s&&(s=b))}u!==l.length-1&&(o+=a)}return{width:s,height:o+c,lineHeight:a,fontHeight:c}}},{key:"getLineCenterPoint",value:function(e){var t=Object(G.a)(e,2),n=t[0],i=t[1],a=Pr.getVector(n,i);return{x:n.x+a.x/2,y:n.y+a.y/2}}},{key:"getPerpendicularLine",value:function(e){if(2===e.length){var t=Object(G.a)(e,2),n=t[0],i=t[1];return[i,{x:i.x+i.y-n.y,y:i.y-(i.x-n.x)}]}}},{key:"getPerpendicularFootOfLine",value:function(e,t){if(2!==e.length)return e;var n=this.getPerpendicularLine(e);if(!n)return e;var i=Object(G.a)(n,2),a=i[0],r=i[1];return this.getFootOfPerpendicular(t,a,r).footPoint}},{key:"getQuadrangleFromTriangle",value:function(e){if(3!==e.length)return e;var t=Object(G.a)(e,3),n=t[0],i=t[1],a=t[2];return[n,i,a,{x:a.x+n.x-i.x,y:a.y+n.y-i.y}]}},{key:"getRectPerpendicularOffset",value:function(e,t,n){var i=Object(G.a)(n,2),a=i[0],r=i[1],o=this.getFootOfPerpendicular(e,a,r).footPoint,c=this.getFootOfPerpendicular(t,a,r).footPoint,l={x:o.x-c.x,y:o.y-c.y},s=Pr.add(t,l);return Pr.getVector(e,s)}},{key:"getArrayIndex",value:function(e,t){return e<0?t+e:e>=t?e-t:e}},{key:"getPointListFromPointOffset",value:function(e,t,n){var i=this.getArrayIndex(t-1,e.length),a=this.getArrayIndex(t+1,e.length),r=this.getArrayIndex(t-2,e.length),o=Object(Ne.a)(e);o[t]=Pr.add(o[t],n);var c=this.getFootOfPerpendicular(o[t],o[r],o[i]).footPoint,l=this.getFootOfPerpendicular(o[t],o[a],o[r]).footPoint;return o[i]=c,o[a]=l,o}},{key:"getRectCenterPoint",value:function(e){var t=Object(G.a)(e,3),n=t[0],i=t[2];return{x:(n.x+i.x)/2,y:(n.y+i.y)/2}}},{key:"rotateRectPointList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0,n=this.getRectCenterPoint(t),i=Math.PI,a=Math.sin(e*i/180),r=Math.cos(e*i/180);return t.map((function(e){var t=Pr.getVector(n,e),i=Pr.len(t),o=t.y/i,c=t.x/i;return{x:i*Vr.cosAPlusB(o,c,a,r)+n.x,y:i*Vr.sinAPlusB(o,c,a,r)+n.y}}))}},{key:"getRectangleByRightAngle",value:function(t,n){if(2!==n.length)return n;var i=e.getPerpendicularFootOfLine(n,t);return e.getQuadrangleFromTriangle([].concat(Object(Ne.a)(n),[i]))}},{key:"getRightTopPoints",value:function(e){var t,n;if(Array.isArray(e)&&e.length>0){t=e[0].x,n=e[0].y;for(var i=1;i<e.length;i++)e[i].x>t&&(t=e[i].x),e[i].y<n&&(n=e[i].y)}return{x:t,y:n}}},{key:"getAngelByVectors",value:function(e,t){var n=this.getLineLength({x:0,y:0},e),i=this.getLineLength({x:0,y:0},t),a=(e.x*t.x+e.y*t.y)/(n*i);return Math.acos(a)}},{key:"getRadiusFromQuadrangle",value:function(e){var t=Object(G.a)(e,3),n=t[1],i=t[2],a=i.y-n.y,r=n.x-i.x,o=a/this.getLineLength(n,i),c=Math.acos(o);return r>0?2*Math.PI-c:c}},{key:"getCollectionPointByAnnotationData",value:function(e){var t=[],n=new Set,i=e.filter((function(e){return"point"===e.type})).map((function(e){return e.annotation})),a=e.filter((function(e){return!!["polygon","line"].includes(e.type)})).map((function(e){var t=e.annotation;return"polygon"===e.type?function(e,t){return Tr(e,Er(t))}(function(e,t){for(var n in t||(t={}))Mr.call(t,n)&&Nr(e,n,t[n]);if(Dr){var i,a=Object(Se.a)(Dr(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Rr.call(t,n)&&Nr(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},t),{pointList:Ir.concatBeginAndEnd(t.pointList)}):t})),r=function(e,i){var a=Ir.getClosestPoint(e,i,Ye.Line,1,{isClose:!1}).dropFoot;if(a!==e){var r="".concat(a.x," + ").concat(a.y);n.has(r)||t.push(e),n.add(r)}};return i.forEach((function(e){r(e,a)})),a.forEach((function(e){var t;t=e.id,a.forEach((function(e,n){if(e.id!==t){var i=Object(Ne.a)(a);i.splice(n,1),e.pointList.forEach((function(e){r(e,i)}))}}))})),{connectionPoints:t}}}]),e}(),Br=Hr;Br.isInRange=function(e,t){var n=Math.min.apply(Math,Object(Ne.a)(t)),i=Math.max.apply(Math,Object(Ne.a)(t));return(Array.isArray(e)?e:[e]).every((function(e){return function(e){return e<=i&&e>=n}(e)}))},Br.withinRange=function(e,t){var n=Math.min.apply(Math,Object(Ne.a)(t)),i=Math.max.apply(Math,Object(Ne.a)(t));return e>i?i:e<n?n:e},Br.transerWord2Canvas=function(e,t){var n=t.width,i=t.height,a=e.x;return{x:n/2-e.y,y:i/2-a}},Br.transferCanvas2World=function(e,t){var n=t.width,i=t.height,a=e.x;return{x:i/2-e.y,y:-(a-n/2)}},Br.calcViewportBoundaries=function(e){if(!e)return{top:0,bottom:0,left:0,right:0};var t=20/(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),n=[],i=[],a=e;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(a=Dt(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:bt)),a.forEach((function(e){var t=e.x,a=e.y;n.push(t),i.push(a)}));var r=Math.min.apply(Math,n),o=Math.max.apply(Math,n),c=Math.min.apply(Math,i),l=Math.max.apply(Math,i),s=o-r,u=l-c;if(s<t){var d=(t-s)/2;r-=d,o+=d}if(u<t){var h=(t-u)/2;c-=h,l+=h}return{top:c,bottom:l,left:r,right:o}},Br.getFootOfPerpendicular=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a={x:0,y:0},r=t.x-n.x,o=t.y-n.y;if(Math.abs(r)<1e-8&&Math.abs(o)<1e-8)return a=t;var c=(e.x-t.x)*(t.x-n.x)+(e.y-t.y)*(t.y-n.y);c/=r*r+o*o,a.x=t.x+c*r,a.y=t.y+c*o;var l=Hr.getLineLength(e,a),s=Math.min(t.x,n.x),u=Math.max(t.x,n.x),d=Math.min(t.y,n.y),h=Math.max(t.y,n.y),g=!(Hr.isInRange(e.x,[s,u])||Hr.isInRange(e.y,[d,h])),f=e.x>u+2||e.x<s-2||e.y>h+2||e.y<d-2;return(i?g:f)?{footPoint:a,length:1/0}:{footPoint:a,length:l}},Br.getAngle=function(e,t){var n=e.x*t.x+e.y*t.y,i=e.x*t.y-e.y*t.x;return Math.atan2(i,n)};var Zr=Br,zr=Object.defineProperty,Fr=Object.defineProperties,Ur=Object.getOwnPropertyDescriptors,Jr=Object.getOwnPropertySymbols,Wr=Object.prototype.hasOwnProperty,Xr=Object.prototype.propertyIsEnumerable,Gr=function(e,t,n){return t in e?zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},qr=function(e,t){for(var n in t||(t={}))Wr.call(t,n)&&Gr(e,n,t[n]);if(Jr){var i,a=Object(Se.a)(Jr(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Xr.call(t,n)&&Gr(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Kr=function(e,t){return Fr(e,Ur(t))},Yr=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getOffsetCoordinate",value:function(e,t,n){return{x:e.x*n+t.x,y:e.y*n+t.y}}},{key:"changeDrawOutsideTarget",value:function(e,t,n,i,a,r){return"boolean"==typeof i&&!i&&(a&&r?(e.x-t.x>(a.x+a.width)*r&&(e.x=(a.x+a.width)*r+t.x),e.x-t.x<a.x*r&&(e.x=a.x*r+t.x),e.y-t.y>(a.y+a.height)*r&&(e.y=(a.y+a.height)*r+t.y),e.y-t.y<a.y*r&&(e.y=a.y*r+t.y)):(e.x-t.x>n.width&&(e.x=n.width+t.x),e.x-t.x<0&&(e.x=t.x),e.y-t.y>n.height&&(e.y=n.height+t.y),e.y-t.y<0&&(e.y=t.y))),e}},{key:"changeCoordinateByRotate",value:function(e,t,n){var i=n.width,a=n.height,r=e.x,o=e.y;switch(t%360){case 90:return{x:a-o,y:r};case 180:return{x:i-r,y:a-o};case 270:return{x:o,y:i-r};default:return e}}},{key:"getRotatePoint",value:function(e,t,n){return{x:Number(((t.x-e.x)*Math.cos(n)-(t.y-e.y)*Math.sin(n)+e.x).toFixed(6)),y:Number(((t.y-e.y)*Math.cos(n)+(t.x-e.x)*Math.sin(n)+e.y).toFixed(6))}}},{key:"changeRectByZoom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return Kr(qr({},e),{x:e.x*t+n.x,y:e.y*t+n.y,width:e.width*t,height:e.height*t})}},{key:"changePointByZoom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return Kr(qr({},e),{x:e.x*t+n.x,y:e.y*t+n.y})}},{key:"changePointListByZoom",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return e.map((function(e){return n.changePointByZoom(e,t,i)}))}},{key:"axisArea",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.x,i=e.y,a=[],r=n-t;r<n+t;r+=t/3)for(var o=i-t;o<i+t;o+=t/3)a.push({x:r,y:o});return a}},{key:"isPointInsect",value:function(e,t){for(var n=0,i=!1;n<t.length-1;){var a=Zr.getLineLength(e,t[n]),r=Zr.getLineLength(e,t[n+1]),o=Zr.getLineLength(t[n],t[n+1]);if(Math.abs(a+r-o)<=1){i=!0;break}n++}return i}},{key:"getOriginCoordinateWithOffsetCoordinate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0};return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}}},{key:"returnClosePointIndex",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=-1,a=0;a<t.length;a++){var r=t[a];this.getIsInScope(e,r,n)&&(i=a)}return i}},{key:"getIsInScope",value:function(e,t,n){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n}}]),e}();Yr.getAngleFromRect=function(e){return new Ot.Vector2(e[2].x-e[1].x,e[2].y-e[1].y).angle()/Math.PI*180};var Qr,_r=function(){function e(t){Object(Ve.a)(this,e),this.currentPos=t.currentPos,this.zoom=t.zoom,this.basicImgInfo=t.basicImgInfo,this.dependToolName=""}return Object(He.a)(e,[{key:"isDependPolygon",get:function(){return this.dependToolName===De.Polygon}},{key:"isDependRect",get:function(){return this.dependToolName===De.Rect}},{key:"isDependOriginalImage",get:function(){return""===this.dependToolName}},{key:"getAbsCoord",value:function(e){return{x:(e.x-this.currentPos.x)/this.zoom,y:(e.y-this.currentPos.y)/this.zoom}}},{key:"getRenderCoord",value:function(e){return{x:e.x*this.zoom+this.currentPos.x,y:e.y*this.zoom+this.currentPos.y}}},{key:"coordInsideRect",value:function(e,t){var n=t.x,i=t.y,a=t.width,r=t.height;return{x:Zr.withinRange(e.x,[n,n+a]),y:Zr.withinRange(e.y,[i,i+r])}}},{key:"getPolygonPointList",value:function(e,t){return e===Ye.Curve?Ir.createSmoothCurvePointsFromPointList(t):t}},{key:"getIntersection",value:function(e,t,n){var i=this.getRenderCoord(t),a={pointA:i,pointB:this.getRenderCoord(e)};return Ti.calcOptimalIntersection(n,a,i,3,this.zoom)}},{key:"coordInsidePolygon",value:function(e,t,n,i){var a=this,r=n.pointList,o=null==i?void 0:i.lineType;if(0===r.length)return e;var c=this.getPolygonPointList(o,r);if(Ir.isInPolygon(e,c))return e;var l=c.concat(c[0]).map((function(e){return a.getRenderCoord(e)})),s=this.getIntersection(e,t,l);return s?this.getAbsCoord(null==s?void 0:s.point):e}},{key:"coordInsideImage",value:function(e){return this.coordInsideRect(e,Kr(qr({},this.basicImgInfo),{x:0,y:0}))}},{key:"getNextCoordByDependTool",value:function(e,t){return this.isDependRect?this.coordInsideRect(e,this.basicResult):this.isDependPolygon?this.coordInsidePolygon(e,t,this.basicResult,this.dependToolConfig):this.isDependOriginalImage?this.coordInsideImage(e):void 0}},{key:"setDependInfo",value:function(e,t){this.dependToolName=null!=e?e:"",this.dependToolConfig=e?t:void 0}},{key:"setBasicImgInfo",value:function(e){this.basicImgInfo=e}},{key:"setBasicResult",value:function(e){this.basicResult=e}},{key:"setZoomAndCurrentPos",value:function(e,t){this.zoom=e,this.currentPos=t}},{key:"isCoordInsideTarget",value:function(e){if(this.isDependPolygon)return this.isInBasicPolygon(e);if(this.isDependRect){var t=this.basicResult,n=t.x,i=t.y,a=[n,n+t.width],r=[i,i+t.height];return Zr.isInRange(e.x,a)&&Zr.isInRange(e.y,r)}return Zr.isInRange(e.x,[0,this.basicImgInfo.width])&&Zr.isInRange(e.y,[0,this.basicImgInfo.height])}},{key:"isInBasicPolygon",value:function(e){var t,n;return Ir.isInPolygon(e,(null==(t=this.basicResult)?void 0:t.pointList)||[],null==(n=this.dependToolConfig)?void 0:n.lineType)}}]),e}(),$r=Object.defineProperty,eo=Object.defineProperties,to=Object.getOwnPropertyDescriptors,no=Object.getOwnPropertySymbols,io=Object.prototype.hasOwnProperty,ao=Object.prototype.propertyIsEnumerable,ro=function(e,t,n){return t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},oo=function(e,t){for(var n in t||(t={}))io.call(t,n)&&ro(e,n,t[n]);if(no){var i,a=Object(Se.a)(no(t));try{for(a.s();!(i=a.n()).done;){n=i.value;ao.call(t,n)&&ro(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},co=function(e,t){return eo(e,to(t))},lo=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).setMarkerIndex=function(e){i.markerIndex=e},i.setMarkerIndexAndSelect=function(e){if(i.config.markerList){i.markerIndex=e;var t=i.config.markerList[e].value,n=i.currentPageResult.find((function(e){return e.label===t}));n&&(i.setSelectedID(n.id),!0===i.config.attributeConfigurable&&i.setDefaultAttribute(n.attribute)),i.emit("markIndexChange")}},i.getHoverRectID=function(e){var t=i.getCoordinateUnderZoom(e),n=Object(Be.a)(i).currentShowList;if(n.length>0){if(i.selectedRectID){var a=Object(Be.a)(i).selectedRect;if(a&&hn.isInRect(t,a,6,i.zoom))return a.id}var r=n.filter((function(e){return hn.isInRect(t,e,6,i.zoom)}));if(0===r.length)return"";if(1===r.length)return r[0].id;if(r.length>1)return r.map((function(e){return{size:e.width*e.height,id:e.id}})).sort((function(e,t){return e.size-t.size}))[0].id}return""},i.textChange=function(e){!0!==i.config.textConfigurable||!i.selectedRectID||(i.setRectList(Wn.textChange(e,i.selectedRectID,i.rectList),!0),i.emit("selectedChange"),i.render())},i.drawOutSideTarget=e.drawOutSideTarget||!1,i.rectList=[],i.isFlow=!0,i.config=xr.jsonParser(e.config),i.hoverRectEdgeIndex=-1,i.hoverRectPointIndex=-1,i.markerIndex=0,i.setStyle(e.style),i.createNewDrawingRect=i.createNewDrawingRect.bind(Object(Be.a)(i)),i.getDrawingRectWithRectList=i.getDrawingRectWithRectList.bind(Object(Be.a)(i)),i.setSelectedIdAfterAddingDrawingRect=i.setSelectedIdAfterAddingDrawingRect.bind(Object(Be.a)(i)),i.getCurrentSelectedData=i.getCurrentSelectedData.bind(Object(Be.a)(i)),i.updateSelectedRectTextAttribute=i.updateSelectedRectTextAttribute.bind(Object(Be.a)(i)),i.setSelectedID=i.setSelectedID.bind(Object(Be.a)(i)),i}return Object(He.a)(n,[{key:"setResult",value:function(e){if(this.clearActiveStatus(),this.setRectList(e),this.hasMarkerConfig){var t=xr.getNextMarker(this.getCurrentPageResult(e),this.config.markerList);t&&this.setMarkerIndex(t.index)}this.render()}},{key:"destroy",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"destroy",this).call(this),this._textAttributInstance&&this._textAttributInstance.clearTextAttribute()}},{key:"setConfig",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.config=e,!0===t&&this.clearResult(!1)}},{key:"setRectList",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.rectList.length;this.rectList=e,n!==e.length&&this.emit("updatePageNumber"),t&&this.emit("updateResult")}},{key:"selectedRect",get:function(){var e=this;return this.rectList.find((function(t){return t.id===e.selectedRectID}))}},{key:"selectedID",get:function(){return this.selectedRectID}},{key:"selectedText",get:function(){var e;return null==(e=this.selectedRect)?void 0:e.textAttribute}},{key:"dataList",get:function(){return this.rectList}},{key:"currentShowList",get:function(){var e=[],t=xr.getRenderResultList(this.rectList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedID),n=Object(G.a)(t,2),i=n[0],a=n[1];return e=i,this.isHidden&&(e=[]),a&&e.push(a),e}},{key:"currentPageResult",get:function(){var e=xr.getRenderResultList(this.rectList,xr.getSourceID(this.basicResult),[]);return Object(G.a)(e,1)[0]}},{key:"getCurrentPageResult",value:function(e){var t=xr.getRenderResultList(e,xr.getSourceID(this.basicResult),[]);return Object(G.a)(t,1)[0]}},{key:"setSelectedID",value:function(e){this.setSelectedRectID(e)}},{key:"setSelectedRectID",value:function(e){var t,n,i=this.selectedRectID;e!==i&&i&&(null==(t=this._textAttributInstance)||t.changeSelected()),e||null==(n=this._textAttributInstance)||n.clearTextAttribute(),this.selectedRectID=e,this.render(),this.emit("selectedChange")}},{key:"setStyle",value:function(e){var t;Object(Ze.a)(Object(ze.a)(n.prototype),"setStyle",this).call(this,e),this._textAttributInstance&&!1===this.config.attributeConfigurable&&(null==(t=this._textAttributInstance)||t.updateIcon(this.getTextIconSvg()))}},{key:"updateSelectedRectTextAttribute",value:function(e){var t=this;if(this._textAttributInstance&&e){var n=e;!1===Wn.textAttributeValidate(this.config.textCheckType,"",n)&&(this.emit("messageError",Wn.getErrorNotice(this.config.textCheckType,this.lang)),n=""),this.setRectList(this.rectList.map((function(e){return e.id===t.selectedRectID?co(oo({},e),{textAttribute:n}):e})),!0),this.emit("updateTextAttribute"),this.render()}}},{key:"getHoverRectPointIndex",value:function(e){return this.selectedRect?Yr.returnClosePointIndex(this.getCoordinateUnderZoom(e),hn.getRectPointList(this.selectedRect,this.zoom),8):-1}},{key:"getHoverRectEdgeIndex",value:function(e){if(!this.selectedRect)return-1;for(var t=-1,n=this.selectedRect,i=hn.getRectEdgeList(n,this.zoom),a=this.getCoordinateUnderZoom(e),r=0;r<i.length;r++){var o=i[r];Zr.getFootOfPerpendicular(a,o.begin,o.end).length<16&&(t=r)}return t}},{key:"getTextIconSvg",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Wn.getTextIconSvg(e,this.config.attributeList,this.config.attributeConfigurable,this.baseIcon)}},{key:"onMouseDown",value:function(e){var t=this;if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&!0!==e.ctrlKey){var i=this.getCoordinateUnderZoom(e),a=this.getHoverRectID(e),r=this.currentShowList.find((function(e){return e.id===t.selectedRectID}));if(r&&2!==e.button&&(0!==e.button||!0!==this.isSpaceKey)){if(this.selectedRectID){if(this.getHoverRectPointIndex(e)>-1){var o=$e.Point;return this.dragInfo={dragStartCoord:i,dragTarget:o,startTime:+new Date,firstRect:r},void(this.dragStatus=Jt.Start)}if(this.getHoverRectEdgeIndex(e)>-1){var c=$e.Line;return this.dragInfo={dragStartCoord:i,dragTarget:c,startTime:+new Date,firstRect:r},void(this.dragStatus=Jt.Start)}}if(a===this.selectedRectID&&!this.drawingRect){var l=$e.Plane;this.dragInfo={dragStartCoord:i,dragTarget:l,firstRect:r,startTime:+new Date},this.dragStatus=Jt.Start}}}}},{key:"onDragMove",value:function(e){var t,n,i,a,r,o,c=this;if(this.dragInfo){this.dragStatus=Jt.Move;var l=hn.getRectUnderZoom(this.dragInfo.firstRect,this.zoom),s=l.x,u=l.y,d=l.width,h=l.height,g=e.x-this.dragInfo.dragStartCoord.x,f=e.y-this.dragInfo.dragStartCoord.y,b=this.rectList.filter((function(e){return e.id===c.selectedRectID}))[0];switch(this.dragInfo.dragTarget){case $e.Plane:b=co(oo({},b),{x:s+g,y:u+f,width:d,height:h});break;case $e.Point:var p=s,v=u,m=d,y=h;switch(this.hoverRectPointIndex){case 0:p=d-g<0?s+d:s+g,v=h-f<0?u+h:u+f,m=Math.abs(g-d),y=Math.abs(f-h);break;case 1:p=d+g>0?s:s+d+g,v=h-f<0?u+h:u+f,m=Math.abs(d+g),y=Math.abs(h-f);break;case 2:p=d+g>0?s:s+d+g,v=h+f>0?u:u+h+f,m=Math.abs(d+g),y=h+f>0?h+f:Math.abs(h+f);break;case 3:p=d-g<0?s+d:s+g,v=h+f>0?u:u+h+f,m=Math.abs(g-d),y=h+f>0?h+f:Math.abs(h+f);break;default:return}b=co(oo({},b),{x:p,y:v,width:m,height:y});break;case $e.Line:var x=s,O=u,w=d,k=h;switch(this.hoverRectEdgeIndex){case 0:O=h-f<0?u+h:u+f,k=Math.abs(f-h);break;case 1:x=d+g>0?s:s+d+g,w=Math.abs(d+g);break;case 2:O=h+f>0?u:u+h+f,k=h+f>0?h+f:Math.abs(h+f);break;case 3:x=d-g<0?s+d:s+g,w=Math.abs(g-d);break;default:return}b=co(oo({},b),{x:x,y:O,width:w,height:k});break;default:return}if(!1===this.config.drawOutsideTarget)if(this.basicResult){if((null==(n=null==(t=this.basicResult)?void 0:t.pointList)?void 0:n.length)>0&&hn.isRectNotInPolygon(b,Rt(this.basicResult.pointList,this.zoom)))return;var L=this.basicResult.x*this.zoom,C=this.basicResult.y*this.zoom,S=this.basicResult.width*this.zoom,I=this.basicResult.height*this.zoom;if(this.dragInfo.dragTarget!==$e.Plane&&(b.x<L-.01||b.y<C-.01||b.width>L+S-b.x+.01||b.height>C+I-b.y+.01))return;if(b.x<L&&(b.x=L),b.y<C&&(b.y=C),b.width>L+S-b.x)switch(this.dragInfo.dragTarget){case $e.Plane:b.x=L+S-d;break;case $e.Point:case $e.Line:g>0&&f>0&&(b.width=L+S-b.x);break;default:return}if(b.height>C+I-b.y&&this.dragInfo.dragTarget===$e.Plane)b.y=C+I-h}else if(b.x<0&&(b.x=0),b.y<0&&(b.y=0),this.imgInfo)if(this.dragInfo.dragTarget===$e.Plane)b.x+b.width>(null==(i=this.imgInfo)?void 0:i.width)&&(b.x=this.imgInfo.width-d),b.y+b.height>(null==(a=this.imgInfo)?void 0:a.height)&&(b.y=this.imgInfo.height-h);else if(b.x+b.width>(null==(r=this.imgInfo)?void 0:r.width)+.01||b.y+b.height>(null==(o=this.imgInfo)?void 0:o.height)+.01)return;this.setRectList(this.rectList.map((function(e){return e.id===b.id?hn.getRectUnderZoom(b,1/c.zoom):e}))),this.render()}}},{key:"onMouseMove",value:function(e){var t,i;if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e)&&!this.forbidMouseOperation&&this.imgInfo){var a=this.getCoordinateUnderZoom(e),r=Yr.changeDrawOutsideTarget(a,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(this.selectedRectID&&this.dragInfo)this.onDragMove(r);else{if(this.selectedRectID){var o=this.getHoverRectPointIndex(e);if(o!==this.hoverRectPointIndex)return this.hoverRectPointIndex=o,this.hoverRectEdgeIndex=-1,void this.render();if(-1===this.hoverRectPointIndex){var c=this.getHoverRectEdgeIndex(e);if(c!==this.hoverRectEdgeIndex)return this.hoverRectEdgeIndex=c,void this.render()}}var l=this.getHoverRectID(e),s=this.hoverRectID;if(this.hoverRectID=l,l!==s&&this.render(),this.drawingRect&&this.firstClickCoord){var u=this.firstClickCoord,d=u.x,h=u.y,g=this.drawingRect,f=g.width,b=g.height;if(f=Math.abs(d-r.x),b=Math.abs(h-r.y),r.x<d&&(d=r.x),r.y<h&&(h=r.y),!1===this.config.drawOutsideTarget){if((null==(i=null==(t=this.basicResult)?void 0:t.pointList)?void 0:i.length)>0&&hn.isRectNotInPolygon(co(oo({},this.drawingRect),{x:d,y:h,width:f,height:b}),Rt(this.basicResult.pointList,this.zoom)))return;r.x<0&&(f=Math.abs(this.firstClickCoord.x),d=0),r.y<0&&(b=Math.abs(this.firstClickCoord.y),h=0),this.imgInfo&&(d+f>this.imgInfo.width&&(f=Math.abs(this.imgInfo.width-d)),h+b>this.imgInfo.height&&(b=Math.abs(this.imgInfo.height-h)))}this.drawingRect=co(oo({},this.drawingRect),{x:d,y:h,width:f,height:b}),this.render()}}}}},{key:"setAttributeLockList",value:function(e){this.setSelectedRectID(void 0),Object(Ze.a)(Object(ze.a)(n.prototype),"setAttributeLockList",this).call(this,e)}},{key:"setBasicResult",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"setBasicResult",this).call(this,e),this.clearActiveStatus()}},{key:"setRectValidAndRender",value:function(e){!e||(this.setRectList(this.rectList.map((function(t){return t.id===e?co(oo({},t),{valid:!t.valid}):t})),!0),this.render(),this.emit("updateResult"))}},{key:"createNewDrawingRect",value:function(e,t){if(this.imgInfo){var n=this.getCoordinateUnderZoom(e),i=Yr.changeDrawOutsideTarget(n,{x:0,y:0},this.imgInfo,this.config.drawOutsideTarget,this.basicResult,this.zoom);if(this.setSelectedRectID(""),this.hoverRectID="",this.drawOutSideTarget&&(i.x<0&&(i.x=0),i.y<0&&(i.y=0)),this.drawingRect=co(oo({},i),{width:0,height:0,attribute:this.defaultAttribute,valid:!e.ctrlKey,isVisible:!0,id:gn(8,62),sourceID:t,textAttribute:""}),this.hasMarkerConfig){var a=xr.getNextMarker(this.currentPageResult,this.config.markerList,this.markerIndex);if(!a)return this.emit("messageInfo",Rn.getMessagesByLocale(bn.MarkerFinish,this.lang)),void(this.drawingRect=void 0);this.drawingRect&&(this.drawingRect=co(oo({},this.drawingRect),{label:a.label})),this.markerIndex=a.index,this.emit("markIndexChange")}if(this.config.textConfigurable){var r;r=Wn.getTextAttribute(this.rectList.filter((function(e){return xr.isSameSourceID(e.sourceID,t)})),this.config.textCheckType),this.drawingRect&&(this.drawingRect=co(oo({},this.drawingRect),{textAttribute:r}))}if(Object.assign(this.drawingRect,{order:xr.getAllToolsMaxOrder(this.rectList,this.prevResultList)+1}),this.firstClickCoord=oo({},i),this.firstCurrentPos=oo({},this.currentPos),this.dataInjectionAtCreation){var o=this.dataInjectionAtCreation(this.drawingRect);o&&Object.assign(this.drawingRect,o)}}}},{key:"addDrawingRectToRectList",value:function(){if(this.drawingRect){var e=this.drawingRect,t=e.width,n=e.height;if(t/=this.zoom,n/=this.zoom,Math.round(t)<this.config.minWidth||Math.round(n)<this.config.minHeight)return this.emit("messageInfo",Rn.getMessagesByLocale(bn.RectErrorSizeNotice,this.lang)),this.drawingRect=void 0,this.firstClickCoord=void 0,this.dragInfo=void 0,this.dragStatus=Jt.Wait,void this.render();var i=this.getDrawingRectWithRectList();this.setRectList(i,!0),this.history.pushHistory(this.rectList),this.setSelectedIdAfterAddingDrawingRect(),this.firstClickCoord=void 0,this.drawingRect=void 0,this.dragInfo=void 0,this.dragStatus=Jt.Wait}}},{key:"setSelectedIdAfterAddingDrawingRect",value:function(){!this.drawingRect||(this.config.textConfigurable?this.setSelectedRectID(this.drawingRect.id):this.setSelectedRectID())}},{key:"getDrawingRectWithRectList",value:function(){if(!this.drawingRect)return this.rectList;var e=this.drawingRect,t=e.x,n=e.y,i=e.width,a=e.height;return t/=this.zoom,n/=this.zoom,i/=this.zoom,a/=this.zoom,[].concat(Object(Ne.a)(this.rectList),[co(oo({},this.drawingRect),{x:t,y:n,width:i,height:a})])}},{key:"rightMouseUp",value:function(e){var t=this.getHoverRectID(e),n=this.rectList.find((function(e){return e.id===t})),i=this.selectedRectID;if(this.setSelectedRectID(void 0),n&&this.setDefaultAttribute(n.attribute),this.drawingRect)this.drawingRect=void 0,this.firstClickCoord=void 0;else if(i!==t&&this.dblClickListener.clearRightDblClick(),this.setSelectedRectID(t),this.hoverRectID="",(null==n?void 0:n.label)&&this.hasMarkerConfig){var a=xr.getCurrentMarkerIndex(n.label,this.config.markerList);a>=0&&(this.setMarkerIndex(a),this.emit("markIndexChange"))}this.render()}},{key:"shiftRightMouseUp",value:function(e){var t=this.getHoverRectID(e);this.emit("shiftRightMouseUp",t)}},{key:"onMouseUp",value:function(e){if(Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseUp",this).call(this,e)||this.forbidMouseOperation||!this.imgInfo)return!0;if(this.dragInfo&&this.dragStatus===Jt.Move)return this.dragInfo=void 0,this.dragStatus=Jt.Wait,this.history.pushHistory(this.rectList),void this.emit("updateResult");if(2!==e.button||!0!==e.shiftKey)if(2!==e.button){var t=xr.getSourceID(this.basicResult);this.drawingRect?this.addDrawingRectToRectList():!0===e.ctrlKey&&0===e.button&&this.hoverRectID?this.setRectValidAndRender(this.hoverRectID):(this.createNewDrawingRect(e,t),this.render())}else this.rightMouseUp(e);else this.shiftRightMouseUp(e)}},{key:"onRightDblClick",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"onRightDblClick",this).call(this,e);var t=this.getHoverRectID(e);this.selectedRectID&&this.selectedRectID===t&&this.deleteRect(t)}},{key:"onKeyDown",value:function(e){if(xr.hotkeyFilter(e)&&!1!==Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyDown",this).call(this,e)){var t=e.keyCode;switch(t){case Ei.Ctrl:this.drawingRect&&(this.drawingRect=co(oo({},this.drawingRect),{valid:!e.ctrlKey}),this.render());break;case Ei.F:this.selectedRectID&&this.setRectValidAndRender(this.selectedRectID);break;case Ei.Z:this.setIsHidden(!this.isHidden),this.render();break;case Ei.Delete:this.deleteRect(this.selectedRectID);break;case Ei.Tab:if(e.preventDefault(),this.drawingRect)return;var i=Xt.ascend;e.shiftKey&&(i=Xt.descend);var a=xr.getRenderResultList(this.rectList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedRectID),r=Object(G.a)(a,2),o=r[0],c=r[1],l=Object(Ne.a)(o);c&&(l=[].concat(Object(Ne.a)(l),[c]));var s=ci.getViewPort(this.canvas,this.currentPos,this.zoom);l=l.filter((function(e){return ci.inViewPort({x:e.x,y:e.y},s)}));var u=xr.getNextSelectedRectID(l,i,this.selectedRectID);u&&(this.setSelectedRectID(u.id),!0===this.config.attributeConfigurable&&this.setDefaultAttribute(u.attribute));break;default:if(this.config.attributeConfigurable){var d=Wn.getAttributeByKeycode(t,this.config.attributeList);void 0!==d&&this.setDefaultAttribute(d)}}return!0}}},{key:"onKeyUp",value:function(e){if(Object(Ze.a)(Object(ze.a)(n.prototype),"onKeyUp",this).call(this,e),e.keyCode===Ei.Ctrl)this.drawingRect&&(this.drawingRect=co(oo({},this.drawingRect),{valid:!0}),this.render())}},{key:"onWheel",value:function(e){var t,i,a=this.zoom;this.drawingRect&&this.firstClickCoord&&(t=hn.getRectUnderZoom(this.drawingRect,1/a),i=Yr.changePointByZoom(this.firstClickCoord,1/a)),Object(Ze.a)(Object(ze.a)(n.prototype),"onWheel",this).call(this,e,!1),t&&i&&(this.drawingRect=hn.getRectUnderZoom(t,this.zoom),this.firstClickCoord=Yr.changePointByZoom(i,this.zoom)),this.render()}},{key:"getCurrentSelectedData",value:function(){var e=this.selectedRect;if(e){var t=this.getColor(e.attribute),n=e.valid?null==t?void 0:t.valid.stroke:null==t?void 0:t.invalid.stroke;return{width:e.width*this.zoom*.6,textAttribute:e.textAttribute,color:n}}}},{key:"getRenderStyle",value:function(e){var t,n,i=this.getColor(e.attribute);return!1===e.valid?(t=null==i?void 0:i.invalid.stroke,n=null==i?void 0:i.invalid.fill):(t=null==i?void 0:i.valid.stroke,n=null==i?void 0:i.valid.fill),{strokeColor:t,fillColor:n,textColor:t,toolColor:i}}},{key:"renderTextAttribute",value:function(){var e,t=this.selectedRect;if(this.ctx&&!0===this.config.textConfigurable&&t){var n=t.x,i=t.y,a=t.width,r=t.height,o=t.attribute,c=t.valid,l=a*this.zoom*.6,s=Yr.getOffsetCoordinate({x:n,y:i+r},this.currentPos,this.zoom),u=this.getColor(o),d=c?null==u?void 0:u.valid.stroke:null==u?void 0:u.invalid.stroke;this._textAttributInstance||(this._textAttributInstance=new Aa({width:l,container:this.container,icon:this.getTextIconSvg(o),color:d,getCurrentSelectedData:this.getCurrentSelectedData,updateSelectedTextAttribute:this.updateSelectedRectTextAttribute})),this._textAttributInstance&&!(null==(e=this._textAttributInstance)?void 0:e.isExit)&&this._textAttributInstance.appendToContainer(),this._textAttributInstance.update("".concat(t.textAttribute),{left:s.x,top:s.y+4,color:d,width:l})}}},{key:"renderSelectedRect",value:function(e){var t=this,n=this.selectedRect;if(this.ctx&&e&&n){var i=this.ctx,a=10,r=hn.getRectPointList(n),o=r.length,c=this.getColor(e.attribute);r.forEach((function(n,l){var s,u;if(i.save(),i.moveTo(n.x,n.y),i.beginPath(),a=t.hoverRectPointIndex===l?12:6,!1===e.valid?(i.strokeStyle=null==c?void 0:c.invalid.stroke,i.fillStyle=null==c?void 0:c.invalid.stroke):(i.strokeStyle=null==c?void 0:c.valid.stroke,i.fillStyle=null==c?void 0:c.valid.stroke),i.arc(n.x*t.zoom+t.currentPos.x,n.y*t.zoom+t.currentPos.y,a,0,2*Math.PI),i.fill(),t.hoverRectEdgeIndex===l){i.beginPath(),i.lineWidth=10;var d=t.getColor(e.attribute),h=!1===e.valid?null==(s=null==d?void 0:d.invalid)?void 0:s.stroke:null==(u=null==d?void 0:d.valid)?void 0:u.stroke;i.strokeStyle=h,i.moveTo(r[l].x*t.zoom+t.currentPos.x,r[l].y*t.zoom+t.currentPos.y),i.lineTo(r[(l+1)%o].x*t.zoom+t.currentPos.x,r[(l+1)%o].y*t.zoom+t.currentPos.y),i.stroke()}i.restore()})),this.renderTextAttribute()}}},{key:"renderDrawingRect",value:function(e){var t,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoom,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.ctx&&e){var o=this.ctx,c=this.style.hiddenText,l=void 0!==c&&c;o.save();var s=this.getRenderStyle(e),u=s.strokeColor,d=s.fillColor,h=s.textColor;o.font="lighter 14px Arial";var g="";this.isShowOrder&&e.order&&(null==e?void 0:e.order)>0&&(g="".concat(e.order)),e.label&&this.hasMarkerConfig&&(g="".concat(xr.getAllToolsMaxOrder(this.rectList,this.prevResultList),"_").concat($a.getMarkerShowText(e.label,this.config.markerList))),e.attribute&&(g="".concat(g,"  ").concat(Wn.getAttributeShowText(e.attribute,null==(t=this.config)?void 0:t.attributeList)));var f=Yr.changeRectByZoom(e,r?a:this.zoom,this.currentPos);l||ii.drawText(this.canvas,{x:f.x,y:f.y-5},g,{color:u,textMaxWidth:300});var b=null!=(i=null==(n=this.style)?void 0:n.width)?i:2;(e.id===this.hoverRectID||e.id===this.selectedRectID)&&ii.drawRectWithFill(this.canvas,f,{color:d}),ii.drawRect(this.canvas,f,{color:u,thickness:b,hiddenText:!0}),o.restore();var p="".concat(Math.round(e.width)," * ").concat(Math.round(e.height));!0===r&&(p="".concat(Math.round(e.width/this.zoom)," * ").concat(Math.round(f.height/this.zoom)));var v=7*p.length;if(!l&&e.textAttribute&&e.id!==this.selectedRectID){var m=Math.max(20,f.width-v);ii.drawText(this.canvas,{x:f.x,y:f.y+f.height+20+0},e.textAttribute,{color:h,textMaxWidth:m})}}}},{key:"renderStaticRect",value:function(){var e,t=this;if((null==(e=this.rectList)?void 0:e.length)>0&&JSON.stringify(this.rectList)){var n=this.renderEnhance,i=void 0===n?{}:n,a=xr.getRenderResultList(this.rectList,xr.getSourceID(this.basicResult),this.attributeLockList,this.selectedRectID),r=Object(G.a)(a,2),o=r[0],c=r[1];this.isHidden||null==o||o.forEach((function(e){e.isVisible&&(t.renderDrawingRect(e),i.staticRender&&i.staticRender(t.canvas,Yr.changeRectByZoom(e,t.zoom,t.currentPos),t.getRenderStyle(e)))})),c&&(this.renderDrawingRect(c),this.renderSelectedRect(c),i.selectedRender&&i.selectedRender(this.canvas,Yr.changeRectByZoom(c,this.zoom,this.currentPos),this.getRenderStyle(c)))}}},{key:"renderCreatingRect",value:function(){if(this.drawingRect){var e=this.renderEnhance,t=void 0===e?{}:e;this.renderDrawingRect(this.drawingRect,1,!0),t.creatingRender&&t.creatingRender(this.canvas,Yr.changeRectByZoom(this.drawingRect,1,this.currentPos),this.getRenderStyle(this.drawingRect))}}},{key:"renderRect",value:function(){this.container.dispatchEvent(this.saveDataEvent),this.renderStaticRect(),this.renderCreatingRect()}},{key:"render",value:function(){!this.ctx||!this.renderReady||(Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this),this.renderRect(),this.renderCursorLine(this.getLineColor(this.defaultAttribute)))}},{key:"setDefaultAttribute",value:function(e){var t=this,n=this.defaultAttribute;if((this.defaultAttribute=null!=e?e:"",n!==e)&&(this.changeStyle(e),this.emit("changeAttributeSidebar"),this.selectedRect&&(this.setRectList(this.rectList.map((function(e){return e.id===t.selectedID?co(oo({},e),{attribute:t.defaultAttribute}):e})),!0),this.history.pushHistory(this.rectList),this.render()),this.drawingRect&&(this.drawingRect=co(oo({},this.drawingRect),{attribute:this.defaultAttribute}),this.render()),this._textAttributInstance)){if(this.attributeLockList.length>0&&!this.attributeLockList.includes(this.defaultAttribute))return void this._textAttributInstance.clearTextAttribute();this._textAttributInstance.updateIcon(this.getTextIconSvg(e))}}},{key:"setValid",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"setValid",this).call(this,e),this.emit("updateResult")}},{key:"clearActiveStatus",value:function(){this.drawingRect=void 0,this.firstClickCoord=void 0,this.dragInfo=void 0,this.dragStatus=Jt.Wait,this.setSelectedRectID(void 0)}},{key:"clearResult",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.rectList.filter((function(e){return!0===e.disableDelete}));t.length>0&&e&&this.emit("messageInfo",Rn.getMessagesByLocale(bn.ClearPartialData,this.lang)),this.setRectList(t,!0),this.setSelectedRectID(void 0)}},{key:"deleteRect",value:function(e){var t;if(e){var n=this.rectList.find((function(t){return t.id===e}));!0!==(null==n?void 0:n.disableDelete)?(this.setRectList(this.rectList.filter((function(t){return t.id!==e})),!0),this.history.pushHistory(this.rectList),this.setSelectedRectID(void 0),null==(t=this._textAttributInstance)||t.clearTextAttribute(),this.render()):this.emit("messageInfo",Rn.getMessagesByLocale(bn.DisableDelete,this.lang))}}},{key:"exportData",value:function(){return[this.rectList,this.basicImgInfo]}},{key:"undo",value:function(){var e=this.history.undo();e&&(e.length!==this.rectList.length&&this.setSelectedRectID(""),this.setRectList(e,!0),this.render())}},{key:"redo",value:function(){var e=this.history.redo();e&&(e.length!==this.rectList.length&&this.setSelectedRectID(""),this.setRectList(e,!0),this.render())}}]),n}(_i);Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,n(368),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(e){e[e.Upload=0]="Upload",e[e.UploadRetry=1]="UploadRetry",e[e.UploadFail=2]="UploadFail",e[e.Annotation=3]="Annotation",e[e.Terminated=4]="Terminated",e[e.Finish=5]="Finish",e[e.Publish=6]="Publish"}(Qr||(Qr={}));var so=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"load",value:function(e){return new Promise((function(t,n){var i;"undefined"!=typeof Image&&(i=new Image,e.startsWith("file")?i.src=encodeURI(e):i.src=e,i.onload=function(){t(i)},i.onerror=function(){n(i)})}))}}]),e}(),uo=n(357),ho=n(424),go=n(425),fo={makeShape:function(e){var t;if(e.length){var n=e;(t=new Ot.Shape).moveTo(n[0][0],n[0][1]);for(var i=1;i<n.length;i++)t.lineTo(n[i][0],n[i][1]);if(arguments.length>1)for(var a=1;a<arguments.length;a++){var r=arguments[a],o=new Ot.Path;o.moveTo(r[0][0],r[0][1]);for(var c=1;c<r.length;c++)o.lineTo(r[c][0],r[c][1]);t.holes.push(o)}return t}},makeExtrudeGeometry:function(e,t){var n={amount:t,bevelEnabled:arguments.length>2&&void 0!==arguments[2]&&arguments[2]};return new Ot.ExtrudeBufferGeometry(e,n)},makeShapeGeometry:function(e){var t=this.makeShape(e);return new Ot.ShapeGeometry(t)},makeMesh:function(e,t,n){var i;"lambert"===e?i=new Ot.MeshLambertMaterial({color:n}):"phong"===e&&(i=new Ot.MeshPhongMaterial({color:n}));var a=new Ot.Mesh(t,i);return a.castShadow=!0,a.receiveShadow=!0,a},getSvgTextMesh:function(e,t){return function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))}(this,null,Object(m.a)().mark((function i(){var a,r,o,c,l,s,u,d;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,n.e(11).then(n.bind(null,1125));case 2:return a=i.sent,r=a.default,o=new ho.a(r),c=new go.a(e,{font:o,size:1,height:.1}),l=new Ot.MeshBasicMaterial({color:t,transparent:!0,opacity:1,side:Ot.DoubleSide}),s=new Ot.Mesh(c,l),u=(new Ot.Box3).setFromObject(s),d=u.max.x-u.min.x,i.abrupt("return",(s.position.x=-d/2,s));case 11:case"end":return i.stop()}}),i)})))},getMeshLine:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=new Ot.Vector2(window.innerWidth,window.innerHeight),a=(new Ot.BufferGeometry).setFromPoints(e),r=new uo.MeshLine;r.setGeometry(a);var o=new uo.MeshLineMaterial({useMap:!1,color:new Ot.Color(t),opacity:1,resolution:i,sizeAttenuation:!1,lineWidth:n}),c=new Ot.Mesh(r,o);return c.raycast=uo.MeshLineRaycast,c}},bo=Object.defineProperty,po=Object.defineProperties,vo=Object.getOwnPropertyDescriptors,mo=Object.getOwnPropertySymbols,yo=Object.prototype.hasOwnProperty,xo=Object.prototype.propertyIsEnumerable,Oo=function(e,t,n){return t in e?bo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},wo=function(e){return new Promise((function(t,n){var i=document.createElement("img");i.crossOrigin="Anonymous",i.onerror=function(e){n(i)},i.src=e,i.onload=function(){t(i)}}))},ko=function(){function e(t){var n,i,a,r=this;Object(Ve.a)(this,e),this.setImgSrc=function(e){return function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))}(r,null,Object(m.a)().mark((function t(){var n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wo(e);case 2:!(n=t.sent)||this.setImgNode(n);case 4:case"end":return t.stop()}}),t,this)})))},this.isShowOrder=t.isShowOrder,this.tagConfigList=t.tagConfigList,this.attributeList=t.attributeList,this.container=t.container,this.size=t.size,this.toolName=t.toolName,this.imgNode=t.imgNode;var o=null!=(n=t.config)?n:pi(t.toolName),c=Object(Ne.a)(t.attributeList);("rectTool"===t.toolName||"pointTool"===t.toolName||"lineTool"===t.toolName||"polygonTool"===t.toolName)&&t.config&&"object"==typeof t.config&&Object.keys(t.config).indexOf("attributeList")>=0&&(c=[].concat(Object(Ne.a)(c),Object(Ne.a)(null==(i=t.config)?void 0:i.attributeList))),this.config=function(e,t){return po(e,vo(t))}(function(e,t){for(var n in t||(t={}))yo.call(t,n)&&Oo(e,n,t[n]);if(mo){var i,a=Object(Se.a)(mo(t));try{for(a.s();!(i=a.n()).done;)n=i.value,xo.call(t,n)&&Oo(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},o),{attributeList:c,tagConfigList:t.tagConfigList}),this.style=null!=(a=t.style)?a:vi,this.i18nLanguage="cn",this._initToolOperation()}return Object(He.a)(e,[{key:"setToolName",value:function(e,t){this.toolName=e;var n=t||pi(e);this.config=n,this._initToolOperation()}},{key:"setImgNode",value:function(e,t){!this.toolInstance||(this.imgNode=e,this.toolInstance.setImgNode(e,t))}},{key:"setSize",value:function(e){this.size=e}},{key:"setStyle",value:function(e){this.style=e}},{key:"_initToolOperation",value:function(){this.toolInstance&&this.toolInstance.destroy();var e=xr.getCurrentOperation(this.toolName);if(e){var t={container:this.container,size:this.size,config:this.config,drawOutSideTarget:!1,style:this.style};this.imgNode&&Object.assign(t,{imgNode:this.imgNode}),this.toolInstance=new e(t),this.setLang(this.i18nLanguage),this.toolInstance.init(),this.toolInstance.setIsShowOrder(this.isShowOrder)}}},{key:"setBasicInfo",value:function(e,t){this.dependToolName=e,this.basicResult=t,this.toolInstance.setDependName(e),this.toolInstance.setBasicResult(t),this.toolInstance.renderBasicCanvas()}},{key:"setPrevResultList",value:function(e){this.toolInstance.setPrevResultList(e)}},{key:"clearBasicResult",value:function(){this.setBasicInfo()}},{key:"forbidOperation",value:function(){this.toolInstance.setForbidOperation(!0)}},{key:"launchOperation",value:function(){this.toolInstance.setForbidOperation(!1)}},{key:"setLang",value:function(e){switch(this.i18nLanguage=e,e){case"cn":this.toolInstance.setLang(qt.Zh);break;case"en":this.toolInstance.setLang(qt.US)}}},{key:"setDataInjectionAtCreation",value:function(e){this.toolInstance.setDataInjectionAtCreation(e)}},{key:"setRenderEnhance",value:function(e){this.toolInstance.setRenderEnhance(e)}},{key:"setCustomRenderStyle",value:function(e){this.toolInstance.setCustomRenderStyle(e)}}]),e}(),Lo=Object.defineProperty,Co=Object.defineProperties,So=Object.getOwnPropertyDescriptors,Io=Object.getOwnPropertySymbols,Ao=Object.prototype.hasOwnProperty,Po=Object.prototype.propertyIsEnumerable,jo=function(e,t,n){return t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},To=function(e,t){for(var n in t||(t={}))Ao.call(t,n)&&jo(e,n,t[n]);if(Io){var i,a=Object(Se.a)(Io(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Po.call(t,n)&&jo(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Eo=function(e,t){return Co(e,So(t))},Do=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i,a,r;return Object(Ve.a)(this,n),(i=t.call(this,e)).selectedIDs=[],i.isShowArrow=!1,i.isArrowHover=!1,i.rotation=0,i.rightMouseUp=function(){},i.onKeyDown=function(){},i.onKeyUp=function(){},i.renderSingleSelectedPolygon=function(e){var t;if(i.selectedPolygons){var n=i.getColor(i.defaultAttribute),a=ai.getStrokeAndFill(n,e.valid,{isSelected:!0}),r=Yr.changePointListByZoom(e.pointList,i.zoom,i.currentPos);ii.drawSelectedPolygonWithFillAndLine(i.canvas,r,{fillColor:"transparent",strokeColor:a.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!0,lineType:null==(t=i.config)?void 0:t.lineType}),!0===e.isRect&&!0===i.showDirectionLine&&i.renderRectPolygonDirection(r)}},i.isPointCloud2DTool=!0,i.showDirectionLine=null==(a=e.showDirectionLine)||a,i.forbidAddNew=null!=(r=e.forbidAddNew)&&r,i}return Object(He.a)(n,[{key:"pixelRatio",get:function(){return 1}},{key:"getSelectedIDs",get:function(){return this.selectedIDs}},{key:"setIsShowArrow",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isShowArrow=e}},{key:"setSelectedIDs",value:function(e){this.selectedIDs=e,this.setSelectedID(1===this.selectedIDs.length?this.selectedIDs[0]:""),this.render()}},{key:"deleteSelectedID",value:function(){Object(Ze.a)(Object(ze.a)(n.prototype),"deleteSelectedID",this).call(this),this.selectedIDs=[],this.emit("deleteSelectedIDs")}},{key:"setArrowPointList",value:function(e){this.arrowPointList=e}},{key:"onMouseUp",value:function(e){Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseUp",this).call(this,e),this.setCustomCursor("none"),this.rotatePointList=void 0}},{key:"setCursorWhenMove",value:function(e){if(this.getHoverID(e)&&!this.rotatePointList&&this.selectedPolygon)if(this.hoverPointIndex>-1){var t=this.hoverPointIndex+1;3===this.hoverPointIndex&&(t=0);var n=this.hoverPointIndex-1;0===this.hoverPointIndex&&(n=3);var i=Pr.getVector(this.selectedPolygon.pointList[this.hoverPointIndex],this.selectedPolygon.pointList[t]),a=Pr.getVector(this.selectedPolygon.pointList[this.hoverPointIndex],this.selectedPolygon.pointList[n]),r=new Ot.Vector2(i.x+a.x,i.y+a.y),o=Math.abs(new Ot.Vector2(r.x,r.y).angle()/Math.PI*180);o>270&&o<360||o>90&&o<180?this.setCustomCursor("ne-resize"):this.setCustomCursor("nw-resize")}else 0===this.hoverEdgeIndex||2===this.hoverEdgeIndex?this.setCustomCursor("e-resize"):1===this.hoverEdgeIndex||3===this.hoverEdgeIndex?this.setCustomCursor("s-resize"):1===e.buttons?this.setCustomCursor("grab"):this.setCustomCursor("pointer");else this.isArrowHover||this.rotatePointList?1===e.buttons?this.setCustomCursor("grab"):this.setCustomCursor("pointer"):this.setCustomCursor("none")}},{key:"onMouseMove",value:function(e){if(e.preventDefault(),this.setCursorWhenMove(e),Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseMove",this).call(this,e),!this.forbidMouseOperation&&this.imgInfo&&this.arrowPointList){var t=this.getCoordinateUnderZoom(e),i={x:t.x/this.zoom,y:t.y/this.zoom};this.isArrowHover=Yr.isPointInsect(i,this.arrowPointList),this.isArrowHover&&this.renderPolygon(),(this.isArrowHover&&this.firstClickPoint||this.rotatePointList)&&this.getVirtualPolygon(e),this.isApproachBund(e)&&this.isUncheckedApproachBoundary&&this.onMouseUp(e)}}},{key:"getVirtualPolygon",value:function(e){var t;if(this.firstClickPoint){var n=null==(t=this.selectedPolygon)?void 0:t.pointList,i={x:(n[0].x+n[2].x)/2,y:(n[0].y+n[2].y)/2},a=Yr.changePointListByZoom([i],this.zoom,this.currentPos),r=this.getCoordinate(e),o={x:this.firstClickPoint.x-a[0].x,y:this.firstClickPoint.y-a[0].y},c={x:r.x-a[0].x,y:r.y-a[0].y},l=Zr.getAngle(o,c);this.rotatePointList=n.map((function(e){return Yr.getRotatePoint(i,e,l)})),this.rotation=l}}},{key:"onMouseDown",value:function(e){if(!Object(Ze.a)(Object(ze.a)(n.prototype),"onMouseDown",this).call(this,e)&&!this.forbidMouseOperation&&!0!==e.ctrlKey)return this.isArrowHover&&(this.firstClickPoint=this.getCoordinate(e)),!0}},{key:"onWheel",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.imgNode&&this.coord){e.preventDefault(),e.stopPropagation();var n=e.deltaY||e.wheelDelta,i=0;n>0&&this.zoom>Yi.min&&(i=-1),n<0&&this.zoom<Yi.max&&(i=1),this.wheelChangePos(this.getGetCenterCoordinate(),i),t&&this.render(),this.renderBasicCanvas()}}},{key:"selectedPolygons",get:function(){return Ir.getPolygonByIDs(this.polygonList,this.selectedIDs)}},{key:"getLineColor",value:function(){return"rgba(0, 255, 255, 0.5)"}},{key:"addDrawingPointToTopviewPolygonList",value:function(e,t,n){var i=this.config.lowerLimitPointNum,a=void 0===i?3:i;if(a<3&&(a=3),this.drawingPointList.length<a)return this.drawingPointList=[],void(this.editPolygonID="");var r=xr.getSourceID(this.basicResult),o=Object(Ne.a)(this.polygonList),c=n||gn(8,62),l={id:c,sourceID:r,valid:!this.isCtrl,textAttribute:"",pointList:this.drawingPointList,attribute:this.defaultAttribute,order:xr.getMaxOrder(o.filter((function(e){return xr.isSameSourceID(e.sourceID,r)})))+1,isVisible:!0,angle:e};this.pattern===dt.Rect&&!0===t&&(l=Eo(To({},l),{isRect:!0})),o.push(l);var s=l;this.setSelectedIdAfterAddingDrawing(c),this.setPolygonList(o),this.isCtrl=!1,this.drawingPointList=[],this.history.pushHistory(o),s&&this.emit("polygonCreated",s,this.zoom,this.currentPos)}},{key:"leftMouseUp",value:function(){if(this.firstClickPoint=void 0,this.rotatePointList&&this.rotation&&this.selectedPolygon){for(var e=Object(Ne.a)(this.polygonList),t=[],n=Eo(To({},this.selectedPolygon),{angle:this.rotation/Math.PI*180+this.selectedPolygon.angle}),i=0;i<e.length;i++)e[i].id===this.selectedID?t.push(n):t.push(e[i]);this.polygonList=t,this.emit("polygonUpdate",n,this.zoom,this.currentPos),this.rotation=0}}},{key:"renderArrow",value:function(e,t){var n,i,a={x:(e[2].x+e[3].x)/2,y:(e[2].y+e[3].y)/2},r=(e[2].x-e[1].x)/5,o=(e[2].y-e[1].y)/5,c={x:a.x+1.3*r,y:a.y+1.3*o},l={x:a.x+r,y:a.y+o},s=new Ot.Vector2(l.x-a.x,l.y-a.y).multiplyScalar(.4),u=Zr.getRotateVector(s,.5*Math.PI);if(null==u?void 0:u.isVector3){var d=[a,l,{x:l.x+u.x,y:l.y+u.y},c,{x:l.x-u.x,y:l.y-u.y},l];this.setArrowPointList(d);ii.drawPolygonWithFill(this.canvas,Yr.changePointListByZoom(d,this.zoom,this.currentPos),{color:t,lineType:null==(n=this.config)?void 0:n.lineType}),ii.drawLineWithPointList(this.canvas,Yr.changePointListByZoom(d,this.zoom,this.currentPos),{color:t,thickness:5,lineType:null==(i=this.config)?void 0:i.lineType,lineCap:"butt"})}}},{key:"onDragMove",value:function(e){var t,i,a=this;Object(Ze.a)(Object(ze.a)(n.prototype),"onDragMove",this).call(this,e),Array.isArray(null==(t=this.selectedPolygon)?void 0:t.pointList)&&(null==(i=this.selectedPolygon)||i.pointList.forEach((function(t){var n=a.currentPos.x+t.x*a.zoom,i=a.currentPos.y+t.y*a.zoom;(n<=0||n>=a.container.clientWidth)&&a.onMouseUp(e),(i<=0||i>=a.container.clientHeight)&&a.onMouseUp(e)})),this.isApproachBund(e)&&this.isUncheckedApproachBoundary&&this.onMouseUp(e))}},{key:"renderPolygon",value:function(){var e,t,n,i=this.selectedPolygon;if(i){var a=this.getColor(this.defaultAttribute),r=ai.getStrokeAndFill(a,i.valid,{isSelected:!0});if(this.rotatePointList&&this.rotation&&(ii.drawSelectedPolygonWithFillAndLine(this.canvas,Yr.changePointListByZoom(this.rotatePointList,this.zoom,this.currentPos),{fillColor:"transparent",strokeColor:"red",pointColor:"white",thickness:2,lineCap:"round",isClose:!0,lineType:null==(e=this.config)?void 0:e.lineType}),this.renderArrow(this.rotatePointList,"red")),this.selectedID&&i&&ii.drawSelectedPolygonWithFillAndLine(this.canvas,Yr.changePointListByZoom(i.pointList,this.zoom,this.currentPos),{fillColor:"transparent",strokeColor:r.stroke,pointColor:"white",thickness:2,lineCap:"round",isClose:!0,lineType:null==(t=this.config)?void 0:t.lineType}),this.hoverPointIndex>-1&&this.selectedID){var o=ai.getStrokeAndFill(a,i.valid,{isSelected:!0}),c=null==i?void 0:i.pointList[this.hoverPointIndex];if(c){var l=Yr.changePointByZoom(c,this.zoom,this.currentPos),s=l.x,u=l.y;ii.drawCircleWithFill(this.canvas,{x:s,y:u},5,{color:o.fill})}}if(this.hoverEdgeIndex>-1&&this.selectedID){var d=ai.getStrokeAndFill(a,i.valid,{isSelected:!0});ii.drawLineWithPointList(this.canvas,Yr.changePointListByZoom(i.pointList,this.zoom,this.currentPos),{color:d.stroke,thickness:10,hoverEdgeIndex:this.hoverEdgeIndex,lineType:null==(n=this.config)?void 0:n.lineType})}this.isShowArrow&&i.isRect&&this.renderArrow(i.pointList,r.stroke)}}},{key:"renderSelectedPolygon",value:function(){var e,t=this;null==(e=this.selectedPolygons)||e.forEach((function(e){t.renderSingleSelectedPolygon(e)}))}},{key:"renderRectPolygonDirection",value:function(e){e.length<2||ii.drawLine(this.canvas,e[0],e[1],{color:"red",thickness:3})}},{key:"currentPolygonListByPattern",get:function(){var e=this;return this.polygonList.filter((function(t){return e.pattern===dt.Rect?!0===t.isRect:e.pattern!==dt.Normal||!0!==t.isRect}))}},{key:"getHoverID",value:function(e){var t,n=this,i=this.getCoordinateUnderZoom(e),a=this.currentPolygonListByPattern.map((function(e){return Eo(To({},e),{pointList:Yr.changePointListByZoom(e.pointList,n.zoom)})}));return Ir.getHoverPolygonID(i,a,10,null==(t=this.config)?void 0:t.lineType)}},{key:"switchToNextPolygon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt.ascend;if(!(this.drawingPointList.length>0)){var t=this.currentPolygonListByPattern.map((function(e){var t,n,i,a;return Eo(To({},e),{x:null!=(n=null==(t=e.pointList[0])?void 0:t.x)?n:0,y:null!=(a=null==(i=e.pointList[0])?void 0:i.y)?a:0})})),n=xr.getNextSelectedRectID(t,e,this.selectedID);return n?(this.setSelectedIDs([n.id]),this.render(),[n.id]):void 0}}},{key:"setSelectedIdAfterAddingDrawing",value:function(e){0!==this.drawingPointList.length&&this.setSelectedID(e)}},{key:"setSelectedID",value:function(e){this.selectedID=e,this.render()}},{key:"addPointInDrawing",value:function(e){this.forbidAddNew||Object(Ze.a)(Object(ze.a)(n.prototype),"addPointInDrawing",this).call(this,e)}},{key:"setCanvasSize",value:function(e){var t,n,i=this.pixelRatio;this.size=e,null==(t=this.ctx)||t.scale(i,i),null==(n=this.basicCtx)||n.scale(i,i),this.initImgPos(),this.renderBasicCanvas(),this.render()}},{key:"setPolygonValidAndRender",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Object(Ze.a)(Object(ze.a)(n.prototype),"setPolygonValidAndRender",this).call(this,e):this.emit("validUpdate",e)}}]),n}(Ha),Mo=function(){function e(t){Object(Ve.a)(this,e),this.container=t.container}return Object(He.a)(e,[{key:"createCanvas",value:function(e,t){if(e&&"string"!=typeof e)return this.container.appendChild(e),e.style.position="absolute",e.style.left="0",e.style.top="0",e;var n=document.createElement("canvas");return n.id=e,t&&t.size&&(n.width=t.size.width,n.height=t.size.height),this.container.appendChild(n),n}},{key:"destroyCanvas",value:function(e){var t=document.getElementById(e);return t&&this.container.removeChild(t),t}}]),e}(),Ro=n(299),No=n(426);function Vo(e,t,n){var i=void 0===t?null:t,a=function(e,t){var n=atob(e);if(t){for(var i=new Uint8Array(n.length),a=0,r=n.length;a<r;++a)i[a]=n.charCodeAt(a);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(e,void 0!==n&&n),r=a.indexOf("\n",10)+1,o=a.substring(r)+(i?"//# sourceMappingURL="+i:""),c=new Blob([o],{type:"application/javascript"});return URL.createObjectURL(c)}var Ho=n(428);function Bo(e,t,n){return Object(Ho.a)()?Object(No.a)(e,t,n):function(e,t,n){var i;return function(a){return i=i||Vo(e,t,n),new Worker(i,a)}}(e,t,n)}var Zo,zo,Fo=Bo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24oZil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGMoaSxzLGw9MCl7bGV0IHg9MCx1LG8sdCxlO3M9Wy4uLnNdLGw9PT0xJiYocz1jcmVhdGVTbW9vdGhDdXJ2ZVBvaW50cyhzLnJlZHVjZSgoYSxuKT0+Wy4uLmEsbi54LG4ueV0sW10pLC41LCEwLFNFR01FTlRfTlVNQkVSKSksW3RdPXM7Y29uc3Qgcj1zLmxlbmd0aDtmb3IodT0xO3U8PXI7dSsrKWU9c1t1JXJdLGkueD5NYXRoLm1pbih0LngsZS54KSYmaS54PD1NYXRoLm1heCh0LngsZS54KSYmaS55PD1NYXRoLm1heCh0LnksZS55KSYmdC54IT09ZS54JiYobz0oaS54LXQueCkqKGUueS10LnkpLyhlLngtdC54KSt0LnksKHQueT09PWUueXx8aS55PD1vKSYmeCsrKSx0PWU7cmV0dXJuIHglMiE9MH1yZXR1cm4gb25tZXNzYWdlPWZ1bmN0aW9uKHMpe2NvbnN0e3pNaW46bCx6TWF4OngscG9seWdvblBvaW50TGlzdDp1LHBvc2l0aW9uOm8sY29sb3I6dH09cy5kYXRhLGU9W10scj1bXTtsZXQgYT0wO2ZvcihsZXQgbj0wO248by5sZW5ndGg7bis9Myl7Y29uc3QgaD1vW25dLE09b1tuKzFdLHk9b1tuKzJdO2Moe3g6aCx5Ok19LHUpJiZ5Pj1sJiZ5PD14JiYoZS5wdXNoKGgpLGUucHVzaChNKSxlLnB1c2goeSksci5wdXNoKHRbbl0pLHIucHVzaCh0W24rMV0pLHIucHVzaCh0W24rMl0pLGErKyl9dGhpcy5wb3N0TWVzc2FnZSh7cG9zaXRpb246ZSxjb2xvcjpyLG51bTphfSl9LGYuaXNJblBvbHlnb249YyxPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksZn0oe30pOwoK",null,!1),Uo=Object.defineProperty,Jo=function(e,t,n){return function(e,t,n){t in e?Uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n),n},Wo={type:"change"},Xo={type:"start"},Go={type:"end"},qo=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e,i){var a;Object(Ve.a)(this,n),a=t.call(this),Jo(Object(Be.a)(a),"listenToKeyEvents",(function(e){e.addEventListener("keydown",onKeyDown),a._domElementKeyEvents=e})),document,a.object=e,a.domElement=i,a.domElement.style.touchAction="none",a.enabled=!0,a.target=new Ot.Vector3,a.minDistance=0,a.maxDistance=1/0,a.minZoom=0,a.maxZoom=1/0,a.minPolarAngle=0,a.maxPolarAngle=Math.PI,a.minAzimuthAngle=-1/0,a.maxAzimuthAngle=1/0,a.enableDamping=!1,a.dampingFactor=.05,a.enableZoom=!0,a.zoomSpeed=1,a.enableRotate=!0,a.rotateSpeed=1,a.enablePan=!0,a.panSpeed=1,a.screenSpacePanning=!0,a.keyPanSpeed=7,a.autoRotate=!1,a.autoRotateSpeed=2,a.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},a.mouseButtons={LEFT:Ot.MOUSE.ROTATE,MIDDLE:Ot.MOUSE.DOLLY,RIGHT:Ot.MOUSE.PAN},a.touches={ONE:Ot.TOUCH.ROTATE,TWO:Ot.TOUCH.DOLLY_PAN},a.target0=a.target.clone(),a.position0=a.object.position.clone(),a.zoom0=a.object.zoom,a._domElementKeyEvents=null,a.getPolarAngle=function(){return s.phi},a.getAzimuthalAngle=function(){return s.theta},a.getDistance=function(){return this.object.position.distanceTo(this.target)},a.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},a.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(Wo),r.update(),c=o.NONE},a.update=function(){var t=new Ot.Vector3,n=(new Ot.Quaternion).setFromUnitVectors(e.up,new Ot.Vector3(0,1,0)),i=n.clone().invert(),a=new Ot.Vector3,f=new Ot.Quaternion,b=2*Math.PI;return function(){var e=r.object.position;t.copy(e).sub(r.target),t.applyQuaternion(n),s.setFromVector3(t),r.autoRotate&&c===o.NONE&&S(2*Math.PI/60/60*r.autoRotateSpeed),r.enableDamping?(s.theta+=u.theta*r.dampingFactor,s.phi+=u.phi*r.dampingFactor):(s.theta+=u.theta,s.phi+=u.phi);var p=r.minAzimuthAngle,v=r.maxAzimuthAngle;return isFinite(p)&&isFinite(v)&&(p<-Math.PI?p+=b:p>Math.PI&&(p-=b),v<-Math.PI?v+=b:v>Math.PI&&(v-=b),s.theta=p<=v?Math.max(p,Math.min(v,s.theta)):s.theta>(p+v)/2?Math.max(p,s.theta):Math.min(v,s.theta)),s.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=d,s.radius=Math.max(r.minDistance,Math.min(r.maxDistance,s.radius)),!0===r.enableDamping?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),t.setFromSpherical(s),t.applyQuaternion(i),e.copy(r.target).add(t),r.object.lookAt(r.target),!0===r.enableDamping?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),d=1,!!(g||a.distanceToSquared(r.object.position)>l||8*(1-f.dot(r.object.quaternion))>l)&&(r.dispatchEvent(Wo),a.copy(r.object.position),f.copy(r.object.quaternion),g=!1,!0)}}(),a.dispose=function(){r.domElement.removeEventListener("contextmenu",W),r.domElement.removeEventListener("pointerdown",B),r.domElement.removeEventListener("pointercancel",F),r.domElement.removeEventListener("wheel",U),r.domElement.removeEventListener("pointermove",Z),r.domElement.removeEventListener("pointerup",z),null!==r._domElementKeyEvents&&r._domElementKeyEvents.removeEventListener("keydown",J)};var r=Object(Be.a)(a),o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=o.NONE,l=1e-6,s=new Ot.Spherical,u=new Ot.Spherical,d=1,h=new Ot.Vector3,g=!1,f=new Ot.Vector2,b=new Ot.Vector2,p=new Ot.Vector2,v=new Ot.Vector2,m=new Ot.Vector2,y=new Ot.Vector2,x=new Ot.Vector2,O=new Ot.Vector2,w=new Ot.Vector2,k=[],L={};function C(){return Math.pow(.95,r.zoomSpeed)}function S(e){u.theta-=e}function I(e){u.phi-=e}var A=function(){var e=new Ot.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),P=function(){var e=new Ot.Vector3;return function(t,n){!0===r.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(r.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),j=function(){var e=new Ot.Vector3;return function(t,n){var i=r.domElement;if(r.object.isPerspectiveCamera){var a=r.object.position;e.copy(a).sub(r.target);var o=e.length();o*=Math.tan(r.object.fov/2*Math.PI/180),A(2*t*o/i.clientHeight,r.object.matrix),P(2*n*o/i.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(A(t*(r.object.right-r.object.left)/r.object.zoom/i.clientWidth,r.object.matrix),P(n*(r.object.top-r.object.bottom)/r.object.zoom/i.clientHeight,r.object.matrix)):r.enablePan=!1}}();function T(e){r.object.isPerspectiveCamera?d/=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom*e)),r.object.updateProjectionMatrix(),g=!0):r.enableZoom=!1}function E(e){r.object.isPerspectiveCamera?d*=e:r.object.isOrthographicCamera?(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/e)),r.object.updateProjectionMatrix(),g=!0):r.enableZoom=!1}function D(){if(1===k.length)f.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);f.set(e,t)}}function M(){if(1===k.length)v.set(k[0].pageX,k[0].pageY);else{var e=.5*(k[0].pageX+k[1].pageX),t=.5*(k[0].pageY+k[1].pageY);v.set(e,t)}}function R(){var e=k[0].pageX-k[1].pageX,t=k[0].pageY-k[1].pageY,n=Math.sqrt(e*e+t*t);x.set(0,n)}function N(e){if(1==k.length)b.set(e.pageX,e.pageY);else{var t=q(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);b.set(n,i)}p.subVectors(b,f).multiplyScalar(r.rotateSpeed);var a=r.domElement;S(2*Math.PI*p.x/a.clientHeight),I(2*Math.PI*p.y/a.clientHeight),f.copy(b)}function V(e){if(1===k.length)m.set(e.pageX,e.pageY);else{var t=q(e),n=.5*(e.pageX+t.x),i=.5*(e.pageY+t.y);m.set(n,i)}y.subVectors(m,v).multiplyScalar(r.panSpeed),j(y.x,y.y),v.copy(m)}function H(e){var t=q(e),n=e.pageX-t.x,i=e.pageY-t.y,a=Math.sqrt(n*n+i*i);O.set(0,a),w.set(0,Math.pow(O.y/x.y,r.zoomSpeed)),T(w.y),x.copy(O)}function B(e){!1!==r.enabled&&(0===k.length&&(r.domElement.setPointerCapture(e.pointerId),r.domElement.addEventListener("pointermove",Z),r.domElement.addEventListener("pointerup",z)),function(e){k.push(e)}(e),"touch"===e.pointerType?function(e){switch(G(e),k.length){case 1:switch(r.touches.ONE){case Ot.TOUCH.ROTATE:if(!1===r.enableRotate)return;D(),c=o.TOUCH_ROTATE;break;case Ot.TOUCH.PAN:if(!1===r.enablePan)return;M(),c=o.TOUCH_PAN;break;default:c=o.NONE}break;case 2:switch(r.touches.TWO){case Ot.TOUCH.DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;r.enableZoom&&R(),r.enablePan&&M(),c=o.TOUCH_DOLLY_PAN;break;case Ot.TOUCH.DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;r.enableZoom&&R(),r.enableRotate&&D(),c=o.TOUCH_DOLLY_ROTATE;break;default:c=o.NONE}break;default:c=o.NONE}c!==o.NONE&&r.dispatchEvent(Xo)}(e):function(e){var t;switch(e.button){case 2:t=r.mouseButtons.LEFT;break;case 1:t=r.mouseButtons.MIDDLE;break;case 0:t=r.mouseButtons.RIGHT;break;default:t=-1}switch(t){case Ot.MOUSE.DOLLY:if(!1===r.enableZoom)return;(function(e){x.set(e.clientX,e.clientY)})(e),c=o.DOLLY;break;case Ot.MOUSE.ROTATE:if(!1===r.enablePan)return;(function(e){v.set(e.clientX,e.clientY)})(e),c=o.PAN;break;case Ot.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===r.enableRotate)return;(function(e){f.set(e.clientX,e.clientY)})(e),c=o.ROTATE}else if(!1===r.enablePan)return;break;default:c=o.NONE}c!==o.NONE&&r.dispatchEvent(Xo)}(e))}function Z(e){!1!==r.enabled&&("touch"===e.pointerType?function(e){switch(G(e),c){case o.TOUCH_ROTATE:if(!1===r.enableRotate)return;N(e),r.update();break;case o.TOUCH_PAN:if(!1===r.enablePan)return;V(e),r.update();break;case o.TOUCH_DOLLY_PAN:if(!1===r.enableZoom&&!1===r.enablePan)return;(function(e){r.enableZoom&&H(e),r.enablePan&&V(e)})(e),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===r.enableZoom&&!1===r.enableRotate)return;(function(e){r.enableZoom&&H(e),r.enableRotate&&N(e)})(e),r.update();break;default:c=o.NONE}}(e):function(e){if(!1!==r.enabled)if(e.ctrlKey||e.metaKey||e.shiftKey)switch(c){case o.ROTATE:if(!1===r.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),p.subVectors(b,f).multiplyScalar(r.rotateSpeed);var t=r.domElement;S(2*Math.PI*p.x/t.clientHeight),I(2*Math.PI*p.y/t.clientHeight),f.copy(b),r.update()}(e);break;case o.DOLLY:if(!1===r.enableZoom)return;!function(e){O.set(e.clientX,e.clientY),w.subVectors(O,x),w.y>0?T(C()):w.y<0&&E(C()),x.copy(O),r.update()}(e)}else if(c===o.PAN){if(!1===r.enablePan)return;!function(e){m.set(e.clientX,e.clientY),y.subVectors(m,v).multiplyScalar(r.panSpeed),j(y.x,y.y),v.copy(m),r.update()}(e)}}(e))}function z(e){X(e),0===k.length&&(r.domElement.releasePointerCapture(e.pointerId),r.domElement.removeEventListener("pointermove",Z),r.domElement.removeEventListener("pointerup",z)),r.dispatchEvent(Go),c=o.NONE}function F(e){X(e)}function U(e){!1===r.enabled||!1===r.enableZoom||c!==o.NONE||(e.preventDefault(),r.dispatchEvent(Xo),function(e){e.deltaY<0?E(C()):e.deltaY>0&&T(C()),r.update()}(e),r.dispatchEvent(Go))}function J(e){!1===r.enabled||!1===r.enablePan||function(e){var t=!1;switch(e.code){case r.keys.UP:j(0,r.keyPanSpeed),t=!0;break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),t=!0;break;case r.keys.LEFT:j(r.keyPanSpeed,0),t=!0;break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),r.update())}(e)}function W(e){!1!==r.enabled&&e.preventDefault()}function X(e){delete L[e.pointerId];for(var t=0;t<k.length;t++)if(k[t].pointerId==e.pointerId)return void k.splice(t,1)}function G(e){var t=L[e.pointerId];void 0===t&&(t=new Ot.Vector2,L[e.pointerId]=t),t.set(e.pageX,e.pageY)}function q(e){var t=e.pointerId===k[0].pointerId?k[1]:k[0];return L[t.pointerId]}return r.domElement.addEventListener("contextmenu",W),r.domElement.addEventListener("pointerdown",B),r.domElement.addEventListener("pointercancel",F),r.domElement.addEventListener("wheel",U,{passive:!1}),a.update(),a}return Object(He.a)(n)}(Ot.EventDispatcher),Ko=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).littleEndian=!0,i}return Object(He.a)(n,[{key:"load",value:function(e,t,n,i){var a=this,r=new Ot.FileLoader(a.manager);r.setPath(a.path),r.setResponseType("arraybuffer"),r.setRequestHeader(a.requestHeader),r.setWithCredentials(a.withCredentials),r.load(e,(function(n){try{t(a.parse(n))}catch(t){i&&i(t),a.manager.itemError(e)}}),n,i)}},{key:"parse",value:function(e){var t=Ot.LoaderUtils.decodeText(new Uint8Array(e)),n=function(e){var t={},n=e.search(/[\n\r]data\s(\S*)\s/i),i=/[\n\r]data\s(\S*)\s/i.exec(e.slice(n-1));if(t.data=i[1],t.headerLen=i[0].length+n,t.str=e.slice(0,t.headerLen),t.str=t.str.replace(/#.*/gi,""),t.version=/version (.*)/i.exec(t.str),t.fields=/fields (.*)/i.exec(t.str),t.size=/size (.*)/i.exec(t.str),t.type=/type (.*)/i.exec(t.str),t.count=/count (.*)/i.exec(t.str),t.width=/width (.*)/i.exec(t.str),t.height=/height (.*)/i.exec(t.str),t.viewpoint=/viewpoint (.*)/i.exec(t.str),t.points=/points (.*)/i.exec(t.str),null!==t.version&&(t.version=parseFloat(t.version[1])),t.fields=null!==t.fields?t.fields[1].split(" "):[],null!==t.type&&(t.type=t.type[1].split(" ")),null!==t.width&&(t.width=parseInt(t.width[1])),null!==t.height&&(t.height=parseInt(t.height[1])),null!==t.viewpoint&&(t.viewpoint=t.viewpoint[1]),null!==t.points&&(t.points=parseInt(t.points[1],10)),null===t.points&&(t.points=t.width*t.height),null!==t.size&&(t.size=t.size[1].split(" ").map((function(e){return parseInt(e,10)}))),null!==t.count)t.count=t.count[1].split(" ").map((function(e){return parseInt(e,10)}));else{t.count=[];for(var a=0,r=t.fields.length;a<r;a++)t.count.push(1)}t.offset={};for(var o=0,c=0,l=t.fields.length;c<l;c++)"ascii"===t.data?t.offset[t.fields[c]]=c:(t.offset[t.fields[c]]=o,o+=t.size[c]*t.count[c]);return t.rowSize=o,t}(t),i=[],a=[],r=[],o=[];if("ascii"===n.data)for(var c=n.offset,l=t.slice(n.headerLen).split("\n"),s=0,u=l.length;s<u;s++)if(""!==l[s]){var d=l[s].split(" ");if(void 0!==c.x&&(i.push(parseFloat(d[c.x])),i.push(parseFloat(d[c.y])),i.push(parseFloat(d[c.z]))),void 0!==c.intensity&&a.push(parseFloat(d[c.intensity])),this.genColorByCoord){var h=this.genColorByCoord(parseFloat(d[c.x]),parseFloat(d[c.y]),parseFloat(d[c.z])).map((function(e){return e/255}));o.push.apply(o,Object(Ne.a)(h))}void 0!==c.normal_x&&(r.push(parseFloat(d[c.normal_x])),r.push(parseFloat(d[c.normal_y])),r.push(parseFloat(d[c.normal_z])))}if("binary_compressed"===n.data)for(var g=new Uint32Array(e.slice(n.headerLen,n.headerLen+8)),f=g[0],b=g[1],p=function(e,t){var n,i,a,r=e.length,o=new Uint8Array(t),c=0,l=0;do{if((n=e[c++])<32){if(l+ ++n>t)throw new Error("Output buffer is not large enough");if(c+n>r)throw new Error("Invalid compressed data");do{o[l++]=e[c++]}while(--n)}else{if(i=n>>5,a=l-((31&n)<<8)-1,c>=r)throw new Error("Invalid compressed data");if(7===i&&(i+=e[c++],c>=r))throw new Error("Invalid compressed data");if(a-=e[c++],l+i+2>t)throw new Error("Output buffer is not large enough");if(a<0)throw new Error("Invalid compressed data");if(a>=l)throw new Error("Invalid compressed data");do{o[l++]=o[a++]}while(2+--i)}}while(c<r);return o}(new Uint8Array(e,n.headerLen+8,f),b),v=new DataView(p.buffer),m=n.offset,y=0;y<n.points;y++){if(void 0!==m.x&&(i.push(v.getFloat32(n.points*m.x+n.size[0]*y,this.littleEndian)),i.push(v.getFloat32(n.points*m.y+n.size[1]*y,this.littleEndian)),i.push(v.getFloat32(n.points*m.z+n.size[2]*y,this.littleEndian))),void 0!==m.normal_x&&(r.push(v.getFloat32(n.points*m.normal_x+n.size[4]*y,this.littleEndian)),r.push(v.getFloat32(n.points*m.normal_y+n.size[5]*y,this.littleEndian)),r.push(v.getFloat32(n.points*m.normal_z+n.size[6]*y,this.littleEndian))),void 0!==m.intensity){var x=n.fields.indexOf("intensity");a.push(v.getFloat32(n.points*m.intensity+n.size[x]*y,this.littleEndian))}if(this.genColorByCoord){var O=this.genColorByCoord(v.getFloat32(n.points*m.x+n.size[0]*y,this.littleEndian),v.getFloat32(n.points*m.y+n.size[0]*y,this.littleEndian),v.getFloat32(n.points*m.z+n.size[0]*y,this.littleEndian)).map((function(e){return e/255}));o.push.apply(o,Object(Ne.a)(O))}}if("binary"===n.data)for(var w=new DataView(e,n.headerLen),k=n.offset,L=0,C=0;L<n.points;L++,C+=n.rowSize)if(void 0!==k.x&&(i.push(w.getFloat32(C+k.x,this.littleEndian)),i.push(w.getFloat32(C+k.y,this.littleEndian)),i.push(w.getFloat32(C+k.z,this.littleEndian))),void 0!==k.intensity&&a.push(w.getFloat32(C+k.intensity,this.littleEndian)),void 0!==k.normal_x&&(r.push(w.getFloat32(C+k.normal_x,this.littleEndian)),r.push(w.getFloat32(C+k.normal_y,this.littleEndian)),r.push(w.getFloat32(C+k.normal_z,this.littleEndian))),this.genColorByCoord){var S=this.genColorByCoord(w.getFloat32(C+k.x,this.littleEndian),w.getFloat32(C+k.y,this.littleEndian),w.getFloat32(C+k.z,this.littleEndian)).map((function(e){return e/255}));o.push.apply(o,Object(Ne.a)(S))}var I=new Ot.BufferGeometry;i.length>0&&I.setAttribute("position",new Ot.Float32BufferAttribute(i,3)),i.length>0&&I.setAttribute("intensity",new Ot.Float32BufferAttribute(a,1)),r.length>0&&I.setAttribute("normal",new Ot.Float32BufferAttribute(r,3)),o.length>0&&I.setAttribute("color",new Ot.Float32BufferAttribute(o,3)),I.computeBoundingSphere();var A=new Ot.PointsMaterial({size:.01});return o.length>0?A.vertexColors=!0:A.color.setHex(16777215),new Ot.Points(I,A)}},{key:"genColorByCoord",value:function(e,t,n){return n<=0?[128,128,128]:n<5?[255,0,0]:n<10?[0,255,0]:[0,0,255]}}]),n}(Ot.Loader),Yo=function(){function e(){var t=this;Object(Ve.a)(this,e),this.MAX_SIZE=50,this.cacheList=[],this.loadPCDFile=function(e){return new Promise((function(n,i){var a,r=null==(a=t.pointsMap.get(e))?void 0:a.clone();if(r)n(r);else{if(t.cacheList.length>t.MAX_SIZE){var o=t.cacheList.shift();o&&t.pointsMap.delete(o.src)}t.cacheList.push({src:e}),t.pcdLoader.load(e,(function(i){t.pointsMap.set(e,i.clone()),n(i)}),(function(){}),(function(e){i(e)}))}}))},this.pcdLoader=new Ko,this.pointsMap=new Map}return Object(He.a)(e,[{key:"setInstance",value:function(t,n){e.instance&&this.pointsMap.set(t,n)}}],[{key:"getInstance",value:function(){return null==this.instance&&(this.instance=new e),this.instance}}]),e}(),Qo=Object.defineProperty,_o=Object.defineProperties,$o=Object.getOwnPropertyDescriptors,ec=Object.getOwnPropertySymbols,tc=Object.prototype.hasOwnProperty,nc=Object.prototype.propertyIsEnumerable,ic=function(e,t,n){return t in e?Qo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ac=function(e,t){for(var n in t||(t={}))tc.call(t,n)&&ic(e,n,t[n]);if(ec){var i,a=Object(Se.a)(ec(t));try{for(a.s();!(i=a.n()).done;){n=i.value;nc.call(t,n)&&ic(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},rc=function(e,t){return _o(e,$o(t))},oc=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},cc=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i,a=e.container,r=e.noAppend,o=e.isOrthographicCamera,c=e.orthographicParams,l=e.backgroundColor,s=void 0===l?"black":l;return Object(Ve.a)(this,n),(i=t.call(this)).zAxisLimit=mt,i.initCameraPosition=i.DEFAULT_INIT_CAMERA_POSITION,i.pointCloudObjectName="pointCloud",i.isOrthographicCamera=!1,i.pointsUuid="",i.rangeObjectName="range",i.showDirection=!0,i.pointSize=yt,i.radiuses=[xt],i.angle=0,i.AddBoxToSense=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215,a=null!=(t=e.id)?t:gn();i.removeObjectByName(a);var r=e.center,o=e.width,c=e.height,l=e.depth,s=e.rotation,u=new Ot.Group,d=new Ot.BoxGeometry(o,c,l),h=new Ot.MeshBasicMaterial({color:"blue"}),g=new Ot.Mesh(d,h),f=new Ot.BoxHelper(g,n),b=i.generateBoxArrow(e);u.add(f),u.add(b),u.position.set(r.x,r.y,r.z),u.rotation.set(0,0,s),u.name=a,i.scene.add(u)},i.overridePointShader=function(e){e.vertexShader="\n    attribute float sizes;\n    attribute float visibility;\n    varying float vVisible;\n  ".concat(e.vertexShader).replace("gl_PointSize = size;","gl_PointSize = size;\n      vVisible = visibility;\n    "),e.fragmentShader="\n    varying float vVisible;\n  ".concat(e.fragmentShader).replace("#include <clipping_planes_fragment>","\n      if (vVisible < 0.5) discard;\n    #include <clipping_planes_fragment>")},i.loadPCDFile=function(e){return oc(Object(Be.a)(i),null,Object(m.a)().mark((function t(){var n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.clearPointCloud(),t.next=3,this.cacheInstance.loadPCDFile(e);case 3:(n=t.sent).name=this.pointCloudObjectName,this.renderPointCloud(n);case 5:case"end":return t.stop()}}),t,this)})))},i.loadPCDFileByBox=function(e,t,n){return oc(Object(Be.a)(i),null,Object(m.a)().mark((function i(){var a,r,o=this;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(e){return oc(o,null,Object(m.a)().mark((function i(){var a,r,o,c,l,s,u,d,h;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=(a=null!=n?n:{}).width,o=void 0===r?0:r,c=a.height,l=void 0===c?0:c,s=a.depth,u=void 0===s?0:s,i.next=9,this.filterPointsByBox(rc(ac({},t),{width:t.width+o,height:t.height+l,depth:t.depth+u}),e);case 9:if(d=i.sent){i.next=13;break}return i.abrupt("return");case 13:return h=new Ot.Points(d.geometry,e.material),i.abrupt("return",(h.name=this.pointCloudObjectName,h));case 15:case"end":return i.stop()}}),i,this)})))},i.next=3,this.cacheInstance.loadPCDFile(e);case 3:return r=i.sent,i.next=6,a(r);case 6:return i.abrupt("return",i.sent);case 7:case"end":return i.stop()}}),i,this)})))},i.generateBoxArrow=function(e){var t=e.width,n=new Ot.Vector3(1,0,0),a=new Ot.Vector3(t/2,0,0),r=new Ot.ArrowHelper(n,a,2,16776960);return r.visible=i.showDirection,r},i.generateBoxTrackID=function(e){if(e.trackID){var t=new Ot.Texture(i.getTextCanvas(e.trackID.toString()));t.needsUpdate=!0;var n=new Ot.SpriteMaterial({map:t,depthWrite:!1}),a=new Ot.Sprite(n);return a.scale.set(5,5,5),a.position.set(-e.width/2,0,e.depth/2+.5),a}},i.applyZAxisPoints=function(e){i.zAxisLimit=e,i.filterZAxisPoints(),i.render()},i.applySizePoints=function(e){var t=i.scene.children.find((function(e){return e.uuid===i.pointsUuid}));i.pointSize=e,i.renderPointCloud(t)},i.clearCircle=function(){if(Array.isArray(i.scene.children)){var e,t=Object(Se.a)(i.scene.children);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.name.startsWith("noticeCircle")&&n.removeFromParent()}}catch(e){t.e(e)}finally{t.f()}}},i.applyCircle=function(e){var t=i.scene.children.find((function(e){return e.uuid===i.pointsUuid}));i.radiuses=e,i.clearCircle(),i.renderPointCloud(t)},i.updatePointSize=function(e){var t=i.scene.getObjectByName(i.pointCloudObjectName);if(t){var n=t.material.size;t.material.size=e?Math.min(1.2*n,10):Math.max(n/1.2,1),i.render()}},i.shaderForPoints=function(e){var t=new Ot.ShaderMaterial({vertexShader:"\n\n        attribute vec3 customColor;\n        varying vec3 color;\n        void main(){\n          color = customColor;\n          gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);\n        }\n      ",fragmentShader:"\n        varying vec3 color;\n        void main(){\n          gl_FragColor = vec4(color, 1.0);\n        }\n      "}),n=new Ot.Color;n.setRGB(255,255,255);var i=e.getAttribute("position").count,a=new Uint8Array(3*i),r=new Ot.BufferAttribute(a,3,!0);e.setAttribute("customColor",r);for(var o=0;o<i;o++)r.setXYZ(o,n.r,n.g,n.b);return new Ot.Mesh(e,t)},i.container=a,i.renderer=new Ot.WebGLRenderer({antialias:!0}),i.backgroundColor=s,o&&c?(i.isOrthographicCamera=!0,i.camera=new Ot.OrthographicCamera(c.left,c.right,c.top,c.bottom,c.near,c.far)):i.camera=new Ot.PerspectiveCamera(30,i.containerWidth/i.containerHeight,1,1e4),i.initCamera(),i.scene=new Ot.Scene,i.controls=new qo(i.camera,i.renderer.domElement),i.pcdLoader=new Ko,i.axesHelper=new Ot.AxesHelper(1e3),i.scene.add(i.camera),r||a.appendChild(i.renderer.domElement),i.init(),i.cacheInstance=Yo.getInstance(),i}return Object(He.a)(n,[{key:"DEFAULT_INIT_CAMERA_POSITION",get:function(){return new Ot.Vector3(-1,0,10)}},{key:"containerWidth",get:function(){return this.container.clientWidth}},{key:"containerHeight",get:function(){return this.container.clientHeight}},{key:"setInitCameraPosition",value:function(e){this.initCameraPosition=e}},{key:"setSelectedPointCloud",value:function(e){this.selectedPointCloud=e}},{key:"initOrthographicCamera",value:function(e){if("OrthographicCamera"===this.camera.type){var t=e.left,n=e.right,i=e.top,a=e.bottom,r=e.near,o=e.far;this.camera.left=t,this.camera.right=n,this.camera.top=i,this.camera.bottom=a,this.camera.near=r,this.camera.far=o,this.camera.updateProjectionMatrix()}}},{key:"setAngle",value:function(e){this.angle=e}},{key:"initPerspectiveCamera",value:function(){"PerspectiveCamera"===this.camera.type&&(this.camera.fov=30,this.camera.aspect=this.containerWidth/this.containerHeight,this.camera.near=1,this.camera.far=1e4,this.camera.updateProjectionMatrix())}},{key:"initCamera",value:function(){var e=this.camera;if(this.isOrthographicCamera){var t=this.initCameraPosition,n=t.x,i=t.y,a=t.z;e.position.set(n,i,a)}else e.position.set(-1,0,500);e.up.set(0,0,1)}},{key:"initLight",value:function(){this.scene.add(new Ot.AmbientLight(5263440));var e=new Ot.SpotLight(16777215,1.5);e.position.set(0,500,2e3),e.angle=Math.PI/9,e.castShadow=!0,e.shadow.camera.near=1e3,e.shadow.camera.far=4e3,e.shadow.mapSize.width=1024,e.shadow.mapSize.height=1024,this.scene.add(e)}},{key:"initControls",value:function(){var e=this;this.controls.addEventListener("change",(function(){e.render()})),this.setDefaultControls()}},{key:"setDefaultControls",value:function(){var e=this,t=this.controls;t.target=Object(Ro.a)(Ot.Vector3,[0,0,0]),t.addEventListener("change",(function(){e.render()})),t.maxPolarAngle=Math.PI/2,t.update()}},{key:"initRenderer",value:function(){var e=this.renderer;e.setPixelRatio(window.devicePixelRatio),e.setSize(this.containerWidth,this.containerHeight)}},{key:"init",value:function(){this.scene.background=new Ot.Color(this.backgroundColor),this.initControls(),this.initRenderer()}},{key:"removeObjectByName",value:function(e){var t=this.scene.getObjectByName(e);t&&t.removeFromParent()}},{key:"transferKitti2Matrix",value:function(e,t,n){var i=Oa.transferMatrix34FromKitti2Three(e),a=Oa.transferMatrix33FromKitti2Three(t),r=Oa.transferMatrix34FromKitti2Three(n),o=this.createThreeMatrix4(i),c=this.createThreeMatrix4(a),l=this.createThreeMatrix4(r);return{composeMatrix4:l.clone().premultiply(c).premultiply(o),PM:o,RM:c,TM:l}}},{key:"pointCloudLidar2image",value:function(e,t){var n=this,i=va.getAllViewData(e),a=t.P,r=t.R,o=t.T,c=this.transferKitti2Matrix(a,r,o).composeMatrix4;return i.map((function(t){return{type:t.type,pointList:t.pointList.map((function(t){return n.rotatePoint(t,e.center,e.rotation)})).map((function(e){return n.lidar2image(e,c)})).filter((function(e){return void 0!==e}))}})).filter((function(e){return 0!==e.pointList.length}))}},{key:"lidar2image",value:function(e,t){var n=new Ot.Vector4(e.x,e.y,e.z).applyMatrix4(t);if(!(n.z<0)){var i=1/n.z,a=(new Ot.Matrix4).set(i,0,0,0,0,i,0,0,0,0,i,0,0,0,0,1);return n.applyMatrix4(a)}}},{key:"generateBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16777215;this.AddBoxToSense(e,t),this.render()}},{key:"generateBoxes",value:function(e){var t=this;e.forEach((function(e){t.generateBox(e)})),this.render()}},{key:"getOrthographicCamera",value:function(e){var t=e.center,n=e.width,i=e.height;return{left:t.x-n/2-10,right:t.x-n/2+10,top:t.y+i/2+10,bottom:t.y-i/2-10,near:100,far:-100,zoom:5}}},{key:"updateCameraByBox",value:function(e,t){var n=e.center,i=e.width,a=e.height,r=e.depth,o=e.rotation,c=this.getCameraVector(n,o,{width:i,height:a,depth:r},t);return this.updateCamera(c,n),c}},{key:"updateOrthoCamera",value:function(e,t){var n=this.updateCameraByBox(e,t);return this.camera.zoom=1,this.camera.updateProjectionMatrix(),{cameraPositionVector:n}}},{key:"updateTopCamera",value:function(){this.setInitCameraPosition(this.DEFAULT_INIT_CAMERA_POSITION),this.camera.zoom=1,this.initCamera(),this.setDefaultControls(),this.camera.updateProjectionMatrix(),this.render()}},{key:"updateCamera",value:function(e,t){this.camera.position.set(e.x,e.y,e.z),this.controls.target=new Ot.Vector3(t.x,t.y,t.z),this.controls.update()}},{key:"resetCamera",value:function(){this.updateCamera({x:-1,y:0,z:500},{x:0,y:0,z:0})}},{key:"createThreeMatrix4",value:function(e){var t;return(t=new Ot.Matrix4).set.apply(t,Object(Ne.a)(e))}},{key:"rotatePoint",value:function(e,t,n){var i,a=new Ot.Vector3(e.x,e.y,null!=(i=null==e?void 0:e.z)?i:1),r=(new Ot.Matrix4).makeRotationZ(n),o=(new Ot.Matrix4).makeTranslation(t.x,t.y,t.z),c=(new Ot.Matrix4).makeTranslation(-t.x,-t.y,-t.z);return a.clone().applyMatrix4(c).applyMatrix4(r).applyMatrix4(o)}},{key:"getCuboidFromPointCloudBox",value:function(e){var t=this,n=e.center,i=e.width,a=e.height,r=e.depth,o=e.rotation,c=[{x:n.x+i/2,y:n.y-a/2},{x:n.x+i/2,y:n.y+a/2},{x:n.x-i/2,y:n.y+a/2},{x:n.x-i/2,y:n.y-a/2}].map((function(e){var i=t.rotatePoint(e,n,o);return{x:i.x,y:i.y}}));return{polygonPointList:c,zMax:n.z+r/2,zMin:n.z-r/2}}},{key:"filterPointsByBox",value:function(e,t){if(!t){var n=this.scene.getObjectByName(this.pointCloudObjectName);if(!n)return Promise.resolve(void 0);t=n}if(window.Worker){var i=this.getCuboidFromPointCloudBox(e),a=i.zMin,r=i.zMax,o=i.polygonPointList,c=t.geometry.attributes.position.array,l={boxParams:e,zMin:a,zMax:r,polygonPointList:o,color:t.geometry.attributes.color.array,position:c};return new Promise((function(e){var t=new Fo;t.postMessage(l),t.onmessage=function(n){var i=n.data,a=i.color,r=i.position,o=i.num,c=new Ot.BufferGeometry;c.setAttribute("position",new Ot.Float32BufferAttribute(r,3)),c.setAttribute("color",new Ot.Float32BufferAttribute(a,3)),c.computeBoundingSphere(),t.terminate(),e({geometry:c,num:o})}}))}return Promise.resolve(void 0)}},{key:"getCameraVector",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ma.Front,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,r=pa.frontViewMatrix4(a);switch(i){case ma.Front:break;case ma.Back:r=pa.backViewMatrix4(a);break;case ma.Left:r=pa.leftViewMatrix4(a);break;case ma.Right:r=pa.rightViewMatrix4(a);break;case ma.Top:r=pa.topViewMatrix4(a);break;case ma.LFT:r=pa.leftFrontTopViewMatrix4(a,n);break;case ma.RBT:r=pa.rightBackTopViewMatrix4(a,n)}var o=this.createThreeMatrix4(r),c=(new Ot.Matrix4).makeTranslation(-e.x,-e.y,-e.z),l=(new Ot.Matrix4).makeTranslation(e.x,e.y,e.z),s=(new Ot.Matrix4).makeRotationZ(t);return new Ot.Vector3(e.x,e.y,e.z).clone().applyMatrix4(o).applyMatrix4(c).applyMatrix4(s).applyMatrix4(l)}},{key:"createRange",value:function(e){this.removeObjectByName(this.rangeObjectName+e);var t=new Ot.EllipseCurve(0,0,e,e,0,2*Math.PI,!1,0).getPoints(50),n=(new Ot.BufferGeometry).setFromPoints(t),i=new Ot.LineBasicMaterial({color:16711680}),a=new Ot.Line(n,i);return a.name=this.rangeObjectName+e,a}},{key:"rotatePointCloud",value:function(e,t){var n=(new Ot.Matrix4).makeTranslation(-e.x,-e.y,-e.z),i=(new Ot.Matrix4).makeTranslation(e.x,e.y,e.z),a=(new Ot.Matrix4).makeRotationZ(t/180*Math.PI),r=(new Ot.Matrix4).multiply(i).multiply(a).multiply(n),o=this.scene.getObjectByName("pointCloud");null==o||o.applyMatrix4(r)}},{key:"renderPointCloud",value:function(e){e.name=this.pointCloudObjectName;var t=new Ot.PointsMaterial({vertexColors:!0,size:this.pointSize});if(t.onBeforeCompile=this.overridePointShader,Array.isArray(this.radiuses)){var n,i=Object(Se.a)(this.radiuses);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=this.createRange(a);r.name="noticeCircle".concat(a),this.scene.add(r)}}catch(e){i.e(e)}finally{i.f()}}this.pointsUuid=e.uuid,e.material=t,this.filterZAxisPoints(e),this.removeObjectByName(this.pointCloudObjectName),this.scene.add(e),this.render()}},{key:"clearPointCloud",value:function(){this.removeObjectByName("selectedPointCloud"),this.removeObjectByName(this.pointCloudObjectName)}},{key:"clearPointCloudAndRender",value:function(){this.clearPointCloud(),this.render()}},{key:"setShowDirection",value:function(e){this.showDirection=e,this.scene.children.forEach((function(t){"Group"===t.type&&t.children.forEach((function(t){"ArrowHelper"===t.type&&(t.visible=e)}))})),this.render()}},{key:"getTextCanvas",value:function(e){var t=document.createElement("canvas"),n=t.getContext("2d");return n&&(n.font="".concat(50,'px " bold'),n.fillStyle="white",n.textAlign="center",n.textBaseline="middle",n.fillText(e,t.width/2,t.height/2)),t}},{key:"getSensesPointZAxisInPolygon",value:function(e,t){var n=this,i=this.scene.children.find((function(e){return e.uuid===n.pointsUuid})),a=0,r=0,o=0,c=0;if(i&&(null==i?void 0:i.geometry))for(var l=null==i?void 0:i.geometry.attributes.position.array,s=0;s<l.length;s+=3){var u=l[s],d=l[s+1],h=l[s+2];Mt({x:u,y:d},e)&&h&&(r=Math.max(h,r),a=Math.min(h,a),c++,t&&h>=t[0]&&h<=t[1]&&o++)}return{maxZ:r,minZ:a,count:o,zCount:c}}},{key:"getBasicCoordinate2Canvas",value:function(e){var t=this.containerWidth/2,n=this.containerHeight/2;return{x:e.x*t+t,y:e.y*n+n,z:e.z}}},{key:"basicCoordinate2CanvasMatrix4",get:function(){var e=this.containerWidth/2,t=this.containerHeight/2;return(new Ot.Matrix4).set(e,0,0,e,0,t,0,t,0,0,1,0,0,0,0,1)}},{key:"getCanvas2BasicCoordinate",value:function(e){var t=this.containerWidth/2,n=this.containerHeight/2;return new Ot.Vector3(e.x/t-t/2,-(e.y/n-n/2),1)}},{key:"getPolygonSidePoints",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.height,o=e.width,c=e.depth;return[{x:n+o/2,y:i+r/2,z:a-c/2},{x:n+o/2,y:i+r/2,z:a+c/2},{x:n-o/2,y:i+r/2,z:a+c/2},{x:n-o/2,y:i+r/2,z:a-c/2}]}},{key:"getPolygonBackPoints",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.height,o=e.width,c=e.depth;return[{x:n-o/2,y:i+r/2,z:a+c/2},{x:n-o/2,y:i+r/2,z:a-c/2},{x:n-o/2,y:i-r/2,z:a-c/2},{x:n-o/2,y:i-r/2,z:a+c/2}]}},{key:"getPolygonTopPoints",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.height,o=e.width,c=e.depth;return[{x:n+o/2,y:i+r/2,z:a+c/2},{x:n+o/2,y:i-r/2,z:a+c/2},{x:n-o/2,y:i-r/2,z:a+c/2},{x:n-o/2,y:i+r/2,z:a+c/2}]}},{key:"getModelTransformationMatrix",value:function(e){var t=e.center,n=t.x,i=t.y,a=t.z,r=e.rotation,o=(new Ot.Matrix4).makeTranslation(-n,-i,-a),c=(new Ot.Matrix4).makeTranslation(n,i,a),l=(new Ot.Matrix4).makeRotationZ(r);return(new Ot.Matrix4).multiply(c).multiply(l).multiply(o)}},{key:"getBoxSidePolygon2DCoordinate",value:function(e){return this.getBoxPolygon2DCoordinate(e,ma.Left)}},{key:"getBoxBackPolygon2DCoordinate",value:function(e){return this.getBoxPolygon2DCoordinate(e,ma.Back)}},{key:"boxParams2ViewPolygon",value:function(e,t){switch(t){case ma.Left:return this.getPolygonSidePoints(e);case ma.Back:return this.getPolygonBackPoints(e);default:return this.getPolygonTopPoints(e)}}},{key:"getBoxPolygon2DCoordinate",value:function(e,t){var n=this,i=this.boxParams2ViewPolygon(e,t),a=e.width,r=e.height,o=e.depth,c=(new Ot.Matrix4).premultiply(this.camera.matrixWorldInverse).premultiply(this.camera.projectionMatrix),l=(new Ot.Matrix4).premultiply(this.getModelTransformationMatrix(e)).premultiply(c).premultiply(this.basicCoordinate2CanvasMatrix4);this.sideMatrix=l;var s=i.map((function(e){return new Ot.Vector3(e.x,e.y,e.z)})).map((function(e){return e.applyMatrix4(n.sideMatrix)})),u=this.containerWidth/a,d=this.containerWidth/r,h=this.containerHeight/o;return{polygon2d:s,zoom:"LEFT"===t?Math.min(u,h)/1.4:Math.min(h,d)/1.3}}},{key:"getBoxTopPolygon2DCoordinate",value:function(e){var t=this,n=e.width,i=e.height,a=this.getPolygonTopPoints(e).map((function(e){return new Ot.Vector3(e.x,e.y,e.z)})).map((function(n){return n.applyMatrix4(t.getModelTransformationMatrix(e))})).map((function(e){return{x:e.y,y:e.x}})).map((function(e){return{x:-(e.x-t.containerWidth/2),y:-(e.y-t.containerHeight/2)}})),r=this.containerWidth/n,o=this.containerHeight/i;return{polygon2d:a,zoom:Math.min(r,o)/1.5}}},{key:"getBoxTopPolygon2DCoordinateFromBox",value:function(e,t){var n=e.width,i=e.height,a=this.containerWidth/n,r=this.containerHeight/i;return{polygon2d:e.rect.map((function(e){return Zr.transerWord2Canvas(e,t)})),zoom:Math.min(a,r)/1.2}}},{key:"getNewBoxBySideUpdate",value:function(e,t,n,i){var a=(new Ot.Matrix4).makeRotationZ(i.rotation),r=new Ot.Vector3(-e.x,0,0).applyMatrix4(a),o=i;return o.center={x:o.center.x+r.x,y:o.center.y+r.y,z:o.center.z-e.z},{newBoxParams:o=rc(ac({},o),{width:o.width+t,height:o.height,depth:o.depth+n})}}},{key:"getNewBoxByBackUpdate",value:function(e,t,n,i){var a=(new Ot.Matrix4).makeRotationZ(i.rotation),r=new Ot.Vector3(0,-e.x,0).applyMatrix4(a),o=i;return o.center={x:o.center.x+r.x,y:o.center.y+r.y,z:o.center.z-e.z},{newBoxParams:o=rc(ac({},o),{width:o.width,height:o.height+t,depth:o.depth+n})}}},{key:"getNewBoxBySideUpdateByPoints",value:function(e,t,n,i){var a,r=null==(a=this.sideMatrix)?void 0:a.invert();if(this.sideMatrix&&r){this.camera.zoom=1,this.camera.updateProjectionMatrix();var o=e.map((function(e){return new Ot.Vector3(e.x,e.y,e.z)})).map((function(e){return e.applyMatrix4(r)})),c=Object(G.a)(o,4),l=c[0],s=c[1],u=c[2],d=c[3],h=Math.max(Math.abs(l.x-u.x),Math.abs(l.x-s.x)),g=s.add(d).applyMatrix3((new Ot.Matrix3).set(.5,0,0,0,.5,0,0,0,.5)).clone().applyMatrix3((new Ot.Matrix3).set(-1,0,0,0,-1,0,0,0,-1)).add(new Ot.Vector3(i.center.x,i.center.y,i.center.z));return{newBoxParams:rc(ac({},i),{center:{x:i.center.x-g.x,y:i.center.y-g.y,z:i.center.z-n},width:h,height:i.height,depth:i.depth+t,rotation:i.rotation})}}}},{key:"filterZAxisPoints",value:function(e){var t=this,n=e||this.scene.children.find((function(e){return e.uuid===t.pointsUuid}));if(n){for(var i=n.geometry.attributes.position,a=[],r=i.count,o=0;o<r;o++){var c=i.getZ(o);a.push(c<this.zAxisLimit[0]||c>this.zAxisLimit[1]?0:1)}n.geometry.setAttribute("visibility",new Ot.Float32BufferAttribute(a,1)),n.geometry.attributes.visibility.needsUpdate=!0}}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}}]),n}(Bi),lc=function(e){var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");return n?(n.fillStyle="black",n.fillRect(0,0,e.width,e.height),t.toDataURL()):""},sc=function(){function e(t){var n=this,i=t.size,a=t.container,r=t.pcdPath,o=t.polygonOperationProps,c=t.config;Object(Ve.a)(this,e),this.updatePolygonList=function(e,t){var i={width:n.pointCloud2dOperation.container.clientWidth,height:n.pointCloud2dOperation.container.clientHeight},a=e.map((function(e){var t,a=n.pointCloudInstance.getBoxTopPolygon2DCoordinateFromBox(e,i).polygon2d,r=Yr.getAngleFromRect(a),o=Zr.rotateRectPointList(-r,a);return{id:e.id,sourceID:"",pointList:o,isRect:!0,angle:r,valid:null==(t=e.valid)||t,attribute:e.attribute,order:e.order}}));t&&(a=a.concat(t)),n.pointCloud2dOperation.setResult(a)};var l=this.getDefaultOrthographic(i),s=lc(i);this.size=i;var u=new Image;u.src=s;var d=new Mo({container:a}),h=new cc({container:a,noAppend:!0,isOrthographicCamera:!0,orthographicParams:l});r&&h.loadPCDFile(r),d.createCanvas(h.renderer.domElement);var g={container:a,size:i,config:c,imgNode:u,isAppend:!1,isShowOrder:!1};o&&Object.assign(g,o);var f=new Do(g);r&&f.setIsShowArrow(!0),f.eventBinding(),f.setPattern(dt.Rect),f.setIsEnableDrag(!1),f.setIsUncheckedApproachBoundary(!0),d.createCanvas(f.canvas,{size:i}),this.pointCloud2dOperation=f,this.pointCloudInstance=h,this.canvasScheduler=d}return Object(He.a)(e,[{key:"getDefaultOrthographic",value:function(e){return{left:-e.width/2,right:e.width/2,top:e.height/2,bottom:-e.height/2,near:100,far:-100}}},{key:"initSize",value:function(e){var t=this;this.pointCloudInstance.updateTopCamera(),this.pointCloudInstance.setDefaultControls(),this.pointCloudInstance.initRenderer(),this.pointCloudInstance.initOrthographicCamera(this.getDefaultOrthographic(e)),this.pointCloudInstance.render();var n=lc(e),i=new Image;i.src=n,i.onload=function(){t.pointCloud2dOperation.setImgNode(i),t.pointCloud2dOperation.setCanvasSize(e),t.pointCloud2dOperation.initImgPos()}}},{key:"addPolygonListOnTopView",value:function(e){var t=va.getBoxParamsFromResultList(e),n=va.getPolygonListFromResultList(e);this.updatePolygonList(t,n)}},{key:"updateData",value:function(e,t){!this.pointCloud2dOperation||!this.pointCloudInstance||(this.pointCloudInstance.loadPCDFile(e),this.addPolygonListOnTopView(t))}},{key:"initAllPosition",value:function(){this.pointCloudInstance.updateTopCamera(),this.pointCloud2dOperation.initPosition()}},{key:"clearAllData",value:function(){this.pointCloudInstance.clearPointCloudAndRender(),this.pointCloud2dOperation.clearResult()}}]),e}(),uc=Bo("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwp2YXIgd29ya2VyX2NvZGU9ZnVuY3Rpb24obCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGMobyxuLHM9MCl7bGV0IGY9MCxpLHUsZSx0O249Wy4uLm5dLHM9PT0xJiYobj1jcmVhdGVTbW9vdGhDdXJ2ZVBvaW50cyhuLnJlZHVjZSgoYSxyKT0+Wy4uLmEsci54LHIueV0sW10pLC41LCEwLFNFR01FTlRfTlVNQkVSKSksW2VdPW47Y29uc3QgeD1uLmxlbmd0aDtmb3IoaT0xO2k8PXg7aSsrKXQ9bltpJXhdLG8ueD5NYXRoLm1pbihlLngsdC54KSYmby54PD1NYXRoLm1heChlLngsdC54KSYmby55PD1NYXRoLm1heChlLnksdC55KSYmZS54IT09dC54JiYodT0oby54LWUueCkqKHQueS1lLnkpLyh0LngtZS54KStlLnksKGUueT09PXQueXx8by55PD11KSYmZisrKSxlPXQ7cmV0dXJuIGYlMiE9MH1yZXR1cm4gb25tZXNzYWdlPWZ1bmN0aW9uKG4pe2NvbnN0e3JlY3RMaXN0OnMscG9zaXRpb246Zixjb2xvcjppfT1uLmRhdGE7bGV0IHU9MDtmb3IobGV0IGU9MDtlPGYubGVuZ3RoO2UrPTMpe2NvbnN0IHQ9ZltlXSx4PWZbZSsxXSxhPWZbZSsyXTtmb3IobGV0IHI9MDtyPHMubGVuZ3RoO3IrKyl7Y29uc3QgbT1jKHt4OnQseTp4fSxzW3JdLnJlY3QpLFt5LE0sZF09c1tyXS5pbkNvbG9yQXJyO20mJmE+PXNbcl0uekluZm8ubWluWiYmYTw9c1tyXS56SW5mby5tYXhaJiZzW3JdLmlzVmlzaWJsZSYmKHUrKyxpW2VdPXksaVtlKzFdPU0saVtlKzJdPWQpfX1wb3N0TWVzc2FnZSh7cG9pbnRzOmYsY29sb3I6aSxudW06dX0pfSxsLmlzSW5Qb2x5Z29uPWMsT2JqZWN0LmRlZmluZVByb3BlcnR5KGwsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGx9KHt9KTsKCg==",null,!1),dc=Object.defineProperty,hc=Object.defineProperties,gc=Object.getOwnPropertyDescriptors,fc=Object.getOwnPropertySymbols,bc=Object.prototype.hasOwnProperty,pc=Object.prototype.propertyIsEnumerable,vc=function(e,t,n){return t in e?dc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},mc=function(e,t){for(var n in t||(t={}))bc.call(t,n)&&vc(e,n,t[n]);if(fc){var i,a=Object(Se.a)(fc(t));try{for(a.s();!(i=a.n()).done;){n=i.value;pc.call(t,n)&&vc(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},yc=function(e,t){return hc(e,gc(t))},xc=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},Oc=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).backgroundColorOp=0,i.addBoxInSense=function(e,t,n){var a=Object(Be.a)(i).boxList,r=i.getBoxFormmat(e,t),o=i.getOrder(a,r);r=yc(mc({},r),{order:o,isVisible:!0,attribute:n}),i.setTransparencyByName("".concat(i.selectedId,"box"),0);var c=i.addBoxInfoIntoBoxList(a,r);return i.setBoxList(c),i.setSelectedId(r.id),i.emit("savePcResult",c),r},i.addAttributeAndOrderWithRender=function(e,t,n){if(i.showSetting.isShowAttribute||i.showSetting.isShowOrder||i.showSetting.isShowAttributeText){var a="";i.showSetting.isShowOrder&&(a+=e.order),i.showSetting.isShowAttribute&&(a=i.showSetting.isShowOrder?"".concat(e.order," - ").concat(t):t),i.showSetting.isShowAttributeText&&(a="".concat(a," \n ").concat(e.textAttribute)),fo.getSvgTextMesh(a,n).then((function(t){var n=mc({},t.position),a=(new Ot.Matrix4).makeRotationZ(-e.rotation),r=(new Ot.Matrix4).makeTranslation(e.center.x+n.x,e.center.y+n.y,0),o=(new Ot.Matrix4).makeTranslation(-n.x,-n.y,e.zInfo.maxZ+2),c=(new Ot.Matrix4).multiply(o).multiply(r);t.applyMatrix4(a),t.applyMatrix4(c),t.name="".concat(e.id,"attribute"),i.removeObjectByName(t.name),i.scene.add(t),i.render()}))}},i.doUpateboxInScene=function(e,t,n,a,r){var o,c=new Ot.Color(i.getColor(n).valid.stroke).getHex(),l=.3,s=Object(Be.a)(i).boxList,u=i.getBoxFormmat(e,t,a),d=i.getOrder(s,u);u.attribute=n,u.textAttribute=r,u.order=d,a&&(i.clearBoxInSceneById(a),o=i.boxList.filter((function(e){return e.id===a}))),Array.isArray(o)&&o.length>0?u.isVisible=o[0].isVisible:u.isVisible=!0;var h=i.addBoxInfoIntoBoxList(s,u);if(i.setBoxList(h),e.length>0){var g=e.map((function(e){return{0:e.x,1:e.y}}));i.selectedId===a?i.setTransparencyByName("".concat(i.selectedId,"box"),0):l=0;var f=i.createBox(g,t,c,l);if(f.name="".concat(u.id,"box"),i.scene.add(f),i.showSetting.isShowDirection){var b=i.getBoxArrowByRectAndZinfo(e,t,c);b.name="".concat(u.id,"boxArrow"),i.scene.add(b)}i.addAttributeAndOrderWithRender(u,n,c)}return h},i.updatePointCloudByAttributes=function(e,t){return xc(Object(Be.a)(i),null,Object(m.a)().mark((function n(){var i,a,r=this;return Object(m.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=function(e){return xc(r,null,Object(m.a)().mark((function n(){var i,a;return Object(m.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.highlightOriginPointCloudByBoxes(t,e);case 2:if(i=n.sent){n.next=6;break}return n.abrupt("return");case 6:this.clearPointCloud(),(a=new Ot.Points(i.geometry,e.material)).name=this.pointCloudObjectName,this.pointsUuid=a.uuid,this.renderPointCloud(a);case 9:case"end":return n.stop()}}),n,this)})))},n.next=3,this.cacheInstance.loadPCDFile(e);case 3:a=n.sent,i(a);case 5:case"end":return n.stop()}}),n,this)})))},e.BoxList&&e.BoxList.length>0?i.boxList=e.BoxList:i.boxList=[],i.style={strokeColor:Pn[4],fillColor:Pn[4],strokeWidth:2*(null==window?void 0:window.devicePixelRatio),opacity:1},i.showSetting={isShowOrder:!1,isShowAttribute:!1,isShowAttributeText:!1,isShowDirection:!1},i.color=16776960,i.config=e.config,i.attribute=e.attribute,i.initPointCloudOperation(),i}return Object(He.a)(n,[{key:"setSelectedId",value:function(e){this.selectedId=e}},{key:"setDefaultTextAttributes",value:function(e){this.textAttribute=e}},{key:"setDefaultAttribute",value:function(e){this.attribute=e;var t=new Ot.Color(this.getColor(e).valid.stroke).getHex();this.color=t}},{key:"setStyle",value:function(e){this.style=e}},{key:"setBoxList",value:function(e){this.boxList=e}},{key:"setShowSettings",value:function(e){this.showSetting=e}},{key:"setAllAttributes",value:function(e){this.allAttributes=e}},{key:"initPointCloudOperation",value:function(){this.initGroundMesh(),this.initLight(),this.initBoxEventReturn=this.initBoxEvent(),this.initKeyPressHandler()}},{key:"setConfig",value:function(e){this.config=xr.jsonParser(e)}},{key:"getColor",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.config;if(!0===(null==n?void 0:n.attributeConfigurable)&&this.style.attributeColor&&this.allAttributes){var i=Wn.getAttributeIndex(t,null!=(e=this.allAttributes)?e:[])+1;return this.style.attributeColor[i]}var a=this.style,r=a.color,o=a.toolColor;return o?o[r]:vi.toolColor[1]}},{key:"updateOneBoxList",value:function(e){if(Array.isArray(this.boxList))if(0===this.boxList.length)this.boxList=[e];else{var t=this.boxList.map((function(t){return t.id===e.id?e:t}));this.boxList=t}}},{key:"deleteBox",value:function(e){if(Array.isArray(this.boxList)&&this.boxList.length>0){var t=this.boxList.reduce((function(t,n){return n.id!==e&&t.push(n),t}),[]);this.boxList=t}}},{key:"initGroundMesh",value:function(){var e=new Ot.PlaneGeometry(this.containerWidth,this.containerHeight),t=new Ot.MeshBasicMaterial({color:this.backgroundColorOp,wireframe:!0,transparent:!0,opacity:0,depthTest:!1}),n=new Ot.Mesh(e,t);n.name="ground",this.scene.add(n)}},{key:"clearBoxList",value:function(){if(this.boxList&&this.boxList.length>0)for(var e=0;e<this.boxList.length;e++)this.removeObjectByName("".concat(this.boxList[e].id,"boxArrow")),this.removeObjectByName("".concat(this.boxList[e].id,"box")),this.removeObjectByName("".concat(this.boxList[e].id,"attribute"))}},{key:"clearBoxInSceneById",value:function(e){e&&(this.removeObjectByName("".concat(e,"boxArrow")),this.removeObjectByName("".concat(e,"box")),this.removeObjectByName("".concat(e,"attribute")))}},{key:"getBoxArrowByRectAndZinfo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,i=new Ot.Object3D,a=(t.maxZ+t.minZ)/2,r=new Ot.Vector3((e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2,a),o=new Ot.Vector3(.2*(e[2].x-e[1].x),.2*(e[2].y-e[1].y),0),c=new Ot.Vector3(.3*(e[0].x-e[1].x),.3*(e[0].y-e[1].y),0),l=[new Ot.Vector3(r.x+c.x,r.y+c.y,0),new Ot.Vector3(r.x-c.x,r.y-c.y,0),new Ot.Vector3(r.x+.3*o.x,r.y+.3*o.y,0)],s=[r,{x:r.x+o.x,y:r.y+o.y,z:r.z+o.z}],u=l.map((function(e){return{0:e.x,1:e.y}})),d=fo.makeShapeGeometry([].concat(Object(Ne.a)(u),[u[0]])),h=new Ot.MeshBasicMaterial({color:n}),g=new Ot.Mesh(d,h);g.translateX(o.x),g.translateY(o.y),g.position.z=r.z;var f=fo.getMeshLine(s,n,10);return i.add(f),i.add(g),i}},{key:"setTransparencyByName",value:function(e,t){var n=this.scene.getObjectByName(e);n&&(n.children[0].material.opacity=t)}},{key:"createBox",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16777215,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=new Ot.Object3D,r=t.maxZ-t.minZ,o=(t.maxZ+t.minZ)/2,c=fo.makeShape([].concat(Object(Ne.a)(e),[e[0]])),l=fo.makeExtrudeGeometry(c,r,!1),s=new Ot.MeshBasicMaterial({color:n,transparent:!0,opacity:i}),u=new Ot.EdgesGeometry(l,1),d=new Ot.LineBasicMaterial({color:n}),h=new Ot.LineSegments(u,d);h.translateZ(o-r/2);var g=new Ot.Mesh(l,s);return g.translateZ(o-r/2),a.add(g),a.add(h),a}},{key:"getBoxFormmat",value:function(e,t,n){var i=n||gn(8,62),a=Zr.getLineLength(e[0],e[1]),r=Zr.getLineLength(e[1],e[2]),o=Zr.getRadiusFromQuadrangle(e);return{textAttribute:this.textAttribute,attribute:this.attribute,center:{x:(e[0].x+e[2].x)/2,y:(e[0].y+e[2].y)/2,z:(t.maxZ+t.minZ)/2},id:i,rotation:o,valid:!0,width:r,height:a,depth:t.maxZ-t.minZ,zInfo:t,rect:e,order:1,isVisible:!0}}},{key:"setSelectIdEmptyWhenExistInArr",value:function(e){if(wt.a.isArray(e)){var t,n=Object(Se.a)(e);try{for(n.s();!(t=n.n()).done;){t.value===this.selectedId&&this.setSelectedId("")}}catch(e){n.e(e)}finally{n.f()}}}},{key:"getOrder",value:function(e,t){var n=0;if(!(Array.isArray(e)&&e.length>0))return t.order;for(var i=0;i<e.length;i++){if(e[i].id===t.id){n=e[i].order;break}e[i].order>=n&&(n=e[i].order+1)}return n}},{key:"addBoxInfoIntoBoxList",value:function(e,t){var n=!1,i=[];if(Array.isArray(e)&&e.length>0)for(var a=0;a<e.length;a++)e[a].id!==t.id?i.push(e[a]):(i.push(t),n=!0);return n||i.push(t),i}},{key:"getWebglPositionFromEvent",value:function(e,t,n,i){var a={x:0,y:0},r=new Ot.Raycaster,o=e.getBoundingClientRect(),c=e.offsetWidth,l=e.offsetHeight;a.x=(i.clientX-o.left)/c*2-1,a.y=-(i.clientY-o.top)/l*2+1,r.setFromCamera(a,t);var s=n.getObjectByName("ground");return r.intersectObject(s)[0].point}},{key:"getObjectByClick",value:function(e,t,n,i){var a,r,o,c=this;if(0!==this.boxList.length){var l={x:0,y:0},s=new Ot.Raycaster,u=e.getBoundingClientRect(),d=e.offsetWidth,h=e.offsetHeight;l.x=(i.clientX-u.left)/d*2-1,l.y=-(i.clientY-u.top)/h*2+1,s.setFromCamera(l,t);var g=[];if(this.boxList&&this.boxList.length>0)for(var f=0;f<this.boxList.length;f++){var b=this.scene.getObjectByName("".concat(this.boxList[f].id,"box"));b&&(g=[].concat(Object(Ne.a)(g),[b]))}var p=s.intersectObjects(g);this.selectedId&&this.setTransparencyByName("".concat(this.selectedId,"box"),0),(null==(a=p[0].object.parent)?void 0:a.name)&&(this.setSelectedId(null==(o=p[0].object.parent)?void 0:o.name.substring(0,(null==(r=p[0].object.parent)?void 0:r.name.length)-3)),this.boxList.forEach((function(e){var t,n;e.id===(null==(n=p[0].object.parent)?void 0:n.name.substring(0,(null==(t=p[0].object.parent)?void 0:t.name.length)-3))&&c.setDefaultAttribute(e.attribute)})),this.setTransparencyByName("".concat(this.selectedId,"box"),.3),this.emit("updateSelectedBox",this.selectedId))}}},{key:"getFooterRect",value:function(e,t){var n=Zr.getRectangleByRightAngle({x:t.x,y:t.y},[{x:e[0].x,y:e[0].y},{x:e[e.length-1].x,y:e[e.length-1].y}]);return{sharpRect:n.map((function(e){return{0:e.x,1:e.y}})),rect:n}}},{key:"initBoxEvent",value:function(){var e=this,t=[],n="",i="",a=[];function r(){t=[],a=[],e.removeObjectByName(i),e.removeObjectByName(n),e.container.removeEventListener("pointermove",o),e.container.removeEventListener("keydown",c)}function o(a){var r=e.getWebglPositionFromEvent(e.container,e.camera,e.scene,a);if(1===t.length){var o=[].concat(Object(Ne.a)(t),[r]);if(n||(n="".concat((new Date).getTime(),"firstLine")),e.scene.getObjectByName(n)){var c=e.scene.getObjectByName(n);e.scene.remove(c)}var l=fo.getMeshLine(o,e.color,10);l.name=n,e.scene.add(l)}if(2===t.length){if(i||(i="".concat((new Date).getTime(),"secondLine")),e.scene.getObjectByName(i)){var s=e.scene.getObjectByName(i);e.scene.remove(s)}var u=e.getFooterRect(t,r).sharpRect,d={x:u[2][0],y:u[2][1],z:0},h=[t[1],d],g=fo.getMeshLine(h,e.color,10);g.name=i,e.scene.add(g)}e.render()}function c(e){e.stopPropagation(),e.keyCode===Ei.Esc&&r()}return this.container.addEventListener("mousedown",(function(n){if(e.attribute&&!n.ctrlKey&&!n.shiftKey){if(e.container.addEventListener("keydown",c),n.button===Ot.MOUSE.LEFT){e.container.addEventListener("pointermove",o);var i=e.getWebglPositionFromEvent(e.container,e.camera,e.scene,n);if(t=[].concat(Object(Ne.a)(t),[i]),a=[].concat(Object(Ne.a)(a),[{x:n.clientX,y:n.clientY}]),3===t.length){var l=e.getFooterRect(t.slice(0,2),i).rect,s=e.getFooterRect(a.slice(0,2),a[2]),u=e.getSensesPointZAxisInPolygon(l);if(u.zCount>0){var d=e.addBoxInSense(l,u,e.attribute);e.emit("boxAdded",l,s.rect,d.attribute,d.id,d.order,d.textAttribute)}r()}}else n.button===Ot.MOUSE.RIGHT&&(t.length>0&&t.length<3?r():e.getObjectByClick(e.container,e.camera,e.scene,n));e.render()}})),{cancelLabel:c}}},{key:"deleteSelectBox",value:function(){var e=this;if(this.selectedId&&Array.isArray(this.boxList)&&this.boxList.length>0){var t=this.boxList.reduce((function(t,n){return n.id!==e.selectedId&&t.push(n),t}),[]);this.emit("savePcResult",t),setTimeout((function(){e.emit("deleteBoxes",[e.selectedId])}),50)}}},{key:"initKeyPressHandler",value:function(){var e=this;document.addEventListener("keydown",(function(t){var n;switch(t.stopPropagation(),t.keyCode){case Ei.Delete:e.deleteSelectBox();break;case Ei.Esc:null==(n=e.initBoxEventReturn)||n.cancelLabel(t),e.render()}}))}},{key:"highlightOriginPointCloudByBoxes",value:function(e,t){if(!t){var n=this.scene.getObjectByName(this.pointCloudObjectName);if(!n)return Promise.resolve(void 0);t=n}if(window.Worker){var i,a=[],r=t.geometry.attributes.position.array,o=t.geometry.attributes.color.array;if(Array.isArray(e)&&e.length>0)for(var c=0;c<e.length;c++){var l=new Ot.Color(this.getColor(e[c].attribute).valid.stroke),s=[l.r,l.g,l.b];a.push(yc(mc({},e[c]),{inColorArr:s}))}return i={color:o,position:r,rectList:a},new Promise((function(e){var t=new uc;t.postMessage(i),t.onmessage=function(n){var i=n.data,a=i.color,r=i.points,o=i.num,c=new Ot.BufferGeometry;c.setAttribute("position",new Ot.Float32BufferAttribute(r,3)),c.setAttribute("color",new Ot.Float32BufferAttribute(a,3)),c.computeBoundingSphere(),t.terminate(),e({geometry:c,num:o})}}))}return Promise.resolve(void 0)}},{key:"textLookAtCamera",value:function(){var e=this.boxList;if(Array.isArray(e)&&e.length>0)for(var t=0;t<e.length;t++){var n=this.scene.getObjectByName("".concat(e[t].id,"attribute"));n&&(n.lookAt(this.camera.position),n.up.set(0,0,1))}}},{key:"render",value:function(){this.textLookAtCamera(),Object(Ze.a)(Object(ze.a)(n.prototype),"render",this).call(this)}}]),n}(cc),wc=xr,kc=n(25),Lc={UPDATE_TOOL_INSTANCE:"@@UPDATE_TOOL_INSTANCE",UPDATE_IMG_LIST:"@@UPDATE_IMG_LIST",UPDATE_ATTRIBUTE_LIST:"@@UPDATA_ATTRIBUTE_LIST",UPDATE_TOOLS_CONFIG:"@@UPDATE_TOOLS_CONFIG",UPDATE_TAG_LIST:"@@UPDATE_TAG_LIST",UPDATE_CURRENT_TOOLNAME:"@@UPDATE_CURRENT_TOOLNAME",UPDATE_ANNOTATION_CONFIG:"@@UPDATE_ANNOTATION_CONFIG",LOAD_FILE_DATA:"@@LOAD_FILE_DATA",SUBMIT_FILE_DATA:"@@SUBMIT_FILE_DATA",SET_TASK_CONFIG:"@@SET_TASK_CONFIG",INIT_TOOL:"@@INIT_TOOL",SET_TOOL:"@@SET_TOOL",UPDATE_ON_SUBMIT:"@@UPDATE_ON_SUBMIT",UPDATE_ON_SAVE:"@@UPDATE_ON_SAVE",UPDATE_ON_PAGE_CHANGE:"@@UPDATE_ON_PAGE_CHANGE",UPDATE_ON_STEP_CHANGE:"@@UPDATE_ON_STEP_CHANGE",UPDATE_TEXT_CONFIG:"@@UPDATE_TEXT_CONFIG",UPDATE_ROTATE:"@@UPDATE_ROTATE",UPDATE_GET_FILE_DATA:"@@UPDATE_GET_FILE_DATA",UPDATE_PAGE_SIZE:"@@UPDATE_PAGE_SIZE",UPDATE_LOAD_FILE_LIST:"@@UPDATE_LOAD_FILE_LIST",GET_FILE_DATA:"@@GET_FILE_DATA",SET_FILE_DATA:"@@SET_FILE_DATA",COPY_BACKWARD_RESULT:"@@COPY_BACKWARD_RESULT",SET_STEP:"@@SET_STEP",SUBMIT_RESULT:"@@SUBMIT_RESULT",SAVE_RESULT:"@@SAVE_RESULT",SAVE_LABELRESULT:"@@SAVE_LABELRESULT",SAVE_LABEL_FILE_DATA:"@@SUBMIT_LABEL_FILE_DATA",SET_BASIC_INDEX:"@@SET_BASIC_INDEX",CALC_STEP_PROGRESS:"@@CALC_STEP_PROGRESS",SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED:"@@SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED",UPDATE_IS_SHOW_ORDER:"@@UPDATE_IS_SHOW_ORDER",UPDATE_IS_SHOW_ATTRIBUTE_TEXT:"@@UPDATE_IS_SHOW_ATTRIBUTE_TEXT",UPDATE_IS_SHOW_ATTRIBUTE:"@@UPDATE_IS_SHOW_ATTRIBUTE",UPDATE_IS_SHOW_DIRECTION:"@@UPDATE_IS_SHOW_DIRECTION",SET_LOADING:"@@SET_LOADING"},Cc={UPDATE_IMG_ATTRIBUTE:"@@UPDATE_IMG_ATTRIBUTE",INIT_IMG_ATTRIBUTE:"@@INIT_IMG_ATTRIBUTE"},Sc={INIT_TOOL_STYLE_CONFIG:"@@INIT_TOOL_STYLE_CONFIG",UPDATE_TOOL_STYLE_CONFIG:"@@UPDATE_TOOL_STYLE_CONFIG",UPDATE_COLLAPSE_STATUS:"@@UPDATE_COLLAPSE_STATUS",UPDATE_RESULT_COLLAPSE_STATUS:"@@UPDATE_RESULT_COLLAPSE_STATUS"},Ic=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"==typeof e?JSON.parse(e):wt.a.isObject(e)?e:t}catch(e){return t}},Ac=function(e){if(Array.isArray(e))return e.join(" ");if(wt.a.isObject(e)){var t=[];return Object.keys(e).forEach((function(n){e[n]&&t.push(n)})),t.join(" ")}return""};!function(e){e[e.AnyString=0]="AnyString",e[e.Order=1]="Order",e[e.EnglishOnly=2]="EnglishOnly",e[e.NumberOnly=3]="NumberOnly",e[e.CustomFormat=4]="CustomFormat"}(Zo||(Zo={})),function(e){e.PointCloud="pointCloudTool",e.Rect="rectTool",e.Tag="tagTool",e.Point="pointTool",e.PointMarker="pointMarkerTool",e.Segmentation="segmentationTool",e.Filter="filterTool",e.Text="textTool",e.Polygon="polygonTool",e.Line="lineTool",e.LineMarker="lineMarkerTool",e.Empty="emptyTool",e.FolderTag="folderTagTool",e.RectTrack="rectTrackTool",e.Face="faceTool",e.ClientAttribute="clientAttributeTool",e.OCRRelation="OCRRelationTool"}(zo||(zo={}));var Pc,jc,Tc=Object.defineProperty,Ec=Object.defineProperties,Dc=Object.getOwnPropertyDescriptors,Mc=Object.getOwnPropertySymbols,Rc=Object.prototype.hasOwnProperty,Nc=Object.prototype.propertyIsEnumerable,Vc=function(e,t,n){return t in e?Tc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Hc=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"copyResultChange",value:function(e,t,n){try{var i=Ic(e),a=Ic(n),r="step_".concat(t);if(i[r]){var o=i[r];if(o.result)return o.result=o.result.map((function(e){return function(e,t){return Ec(e,Dc(t))}(function(e,t){for(var n in t||(t={}))Rc.call(t,n)&&Vc(e,n,t[n]);if(Mc){var i,a=Object(Se.a)(Mc(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Nc.call(t,n)&&Vc(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},e),{id:gn(8,62)})})),a[r]=o,JSON.stringify(a)}return e}catch(i){return e}}},{key:"isResultSourceMatchedDependence",value:function(e,t){var n=null==e?void 0:e.map((function(e){return e.sourceID})).sort(),i=null==t?void 0:t.map((function(e){return e.id})).sort();return wt.a.isEqual(n,i)}},{key:"deltaUpdateBasicResultList",value:function(e,t){var n=null==e?void 0:e.map((function(e){return e.sourceID})).sort();return t.filter((function(e){return!n.includes(e.id)}))}},{key:"getInitialResultList",value:function(e,t,n,i,a){var r=null!=e?e:[];switch(n.tool){case zo.Tag:case zo.Text:}return r}},{key:"dataCorrection",value:function(e,t,n,i){var a,r;try{var o=i[0].tool,c=Ic(e),l=Ic(t),s=null==(a=c[o])?void 0:a.result,u=null==(r=l[o])?void 0:r.result;if(!u||u&&0===u.length||wt.a.isEqual(s.sort(this.idCmp),u.sort(this.idCmp)))return e;var d=this.findDeletedIds(s,u);if(0===d.length)return e;var h=n,g=this.getStepKeys(c).sort();return this.deleteRes(c,h,d,g),JSON.stringify(c)}catch(o){return e}}},{key:"idCmp",value:function(e,t){var n=e.id,i=t.id;return n<i?-1:n>i?1:0}},{key:"findDeletedIds",value:function(e,t){return this.findDeletedItems(t,e).map((function(e){return e.id}))}},{key:"findDeletedItems",value:function(e,t){var n=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||n.push(e)})),n}},{key:"getStepKeys",value:function(e){return Object.keys(e).map((function(e){return parseInt(e.replace("step_",""),10)})).filter((function(e){return!isNaN(e)}))}},{key:"deleteRes",value:function(e,t,n,i){var a=this;i.forEach((function(r){if(r>t){var o=e["step_".concat(r)];if([zo.FolderTag,zo.Segmentation].includes(o.tool))return;if(o.dataSourceStep===t){var c=[];o.result=o.result.filter((function(e){return!n.includes(e.sourceID)||(c.push(e.id),!1)})),a.deleteRes(e,r,c,i)}else o.result=o.result.filter((function(e){return!n.includes(e.sourceID)}))}}))}}]),e}();!function(e){e[e.Check=0]="Check",e[e.ANNOTATION=1]="ANNOTATION",e[e.QUALITY_INSPECTION=2]="QUALITY_INSPECTION",e[e.PRE_ANNOTATION=3]="PRE_ANNOTATION",e[e.MANUAL_CORRECTION=4]="MANUAL_CORRECTION"}(Pc||(Pc={})),function(e){e[e.Backward=1]="Backward",e[e.Forward=2]="Forward",e[e.Jump=3]="Jump",e[e.Quit=4]="Quit",e[e.Export=5]="Export",e[e.StepChanged=6]="StepChanged",e[e.Save=7]="Save"}(jc||(jc={}));var Bc="lab",Zc="".concat(Bc,"-component"),zc=i.EVideoToolName,Fc=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getCurrentStepInfo",value:function(e,t){var n=this.getStepInfo(e,t);return[Pc.QUALITY_INSPECTION,Pc.MANUAL_CORRECTION].includes(null==n?void 0:n.type)?this.getStepInfo(n.dataSourceStep,t):n}},{key:"getStepInfo",value:function(e,t){return null==t?void 0:t.filter((function(t){return t.step===e}))[0]}},{key:"currentToolIsVideo",value:function(t,n){var i=e.getCurrentStepInfo(t,n);return Object.values(zc).includes(null==i?void 0:i.tool)}}]),e}(),Uc=Object.defineProperty,Jc=Object.defineProperties,Wc=Object.getOwnPropertyDescriptors,Xc=Object.getOwnPropertySymbols,Gc=Object.prototype.hasOwnProperty,qc=Object.prototype.propertyIsEnumerable,Kc=function(e,t,n){return t in e?Uc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Yc=function(e,t){for(var n in t||(t={}))Gc.call(t,n)&&Kc(e,n,t[n]);if(Xc){var i,a=Object(Se.a)(Xc(t));try{for(a.s();!(i=a.n()).done;){n=i.value;qc.call(t,n)&&Kc(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Qc=function(e,t){return Jc(e,Wc(t))},_c=n(449),$c=i.EVideoToolName,el=i.EPointCloudName,tl=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"isVideoTool",value:function(e){return!!e&&Object.values($c).includes(e)}},{key:"isPointCloudTool",value:function(e){return!!e&&Object.values(el).includes(e)}}]),e}(),nl=Object.defineProperty,il=Object.defineProperties,al=Object.getOwnPropertyDescriptors,rl=Object.getOwnPropertySymbols,ol=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable,ll=function(e,t,n){return t in e?nl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},sl=function(e,t){for(var n in t||(t={}))ol.call(t,n)&&ll(e,n,t[n]);if(rl){var i,a=Object(Se.a)(rl(t));try{for(a.s();!(i=a.n()).done;){n=i.value;cl.call(t,n)&&ll(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},ul=function(e,t){return il(e,al(t))},dl=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},hl=function(e,t){return e.find((function(e){return e.step===t}))},gl={isShowOrder:!1,isShowAttributeText:!1,isShowAttribute:!1,isShowDirection:!1,currentToolName:"",annotationEngine:null,toolInstance:null,imgList:[],tagConfigList:[],attributeList:[],toolsBasicConfig:[],textConfig:[],config:"{}",imgIndex:0,basicIndex:0,imgPageSize:1,step:1,stepList:[],imgNode:{},basicResultList:[],resultList:[],stepProgress:0,loading:!1,triggerEventAfterIndexChanged:!1};"undefined"!=typeof Image&&(gl.imgNode=new Image);var fl=function(e){var t=e.imgList,n=e.imgPageSize;return Math.ceil(t.length/n)},bl=function(e,t){return e.reduce((function(e,n){if(n){var i=n.result;if(Ic(i)["step_".concat(t)])return e+1}return e}),0)/e.length},pl=function(e,t){return function(n,i){return dl(void 0,null,Object(m.a)().mark((function a(){var r,o,c,l;return Object(m.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r=i().annotation,o=r.stepList,c=r.step,l=Fc.currentToolIsVideo(c,o),ql(n,!0),n(vl(e)),!l){a.next=4;break}return n(ml(e)),a.abrupt("return");case 4:n(yl(e,t));case 5:case"end":return a.stop()}}),a)})))}},vl=function(e){return function(t,n){return dl(void 0,null,Object(m.a)().mark((function i(){var a,r,o,c;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=n().annotation,r=a.getFileData,o=a.imgList,!r){i.next=6;break}return i.next=4,r(o[e],e);case 4:c=i.sent,t({type:Lc.SET_FILE_DATA,payload:{fileData:c,index:e}});case 6:case"end":return i.stop()}}),i)})))}},ml=function(e){return function(t){ql(t,!1),t({type:Lc.LOAD_FILE_DATA,payload:{nextIndex:e}})}},yl=function(e,t){return function(n,i){var a,r=i().annotation,o=r.toolInstance,c=r.imgList,l=null==(a=null==c?void 0:c[e])?void 0:a.url;so.load(l).then((function(i){ql(n,!1),n({type:Lc.LOAD_FILE_DATA,payload:{imgNode:i,nextIndex:e,nextBasicIndex:t}})})).catch((function(){ql(n,!1),null==o||o.setErrorImg(),n({type:Lc.LOAD_FILE_DATA,payload:{nextIndex:e,nextBasicIndex:t}})}))}},xl=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"getPageInfo",value:function(e){var t=e.imgIndex,n=e.imgList,i=e.basicResultList;return{fileIndex:t,basicIndex:e.basicIndex,basicList:i,fileList:n,step:e.step,stepList:e.stepList}}},{key:"getNextPageInfo",value:function(t,n,i){var a=e.getPageInfo(n),r=e.getPageInfo(n).fileIndex,o=e.getNextFileIndex(t,a,i),c={fileIndex:o,basicIndex:e.getNextBasicIndex(t,a.basicIndex),fileIndexChanged:o!==r,basicIndexChanged:!1};return c.basicIndex=t===z.Backward?e.getBasicResultIndexForNextFile(a,c.fileIndex):0,c}}]),e}(),Ol=xl;Ol.getNextBasicIndex=function(e,t){return t+(e===z.Forward?1:-1)},Ol.hasNextBasicIndex=function(e,t){var n=t.basicList;if((null==n?void 0:n.length)>0){var i=xl.getNextBasicIndex(e,t.basicIndex);return i>=0&&n.length>i}return!1},Ol.getBasicResultIndexForNextFile=function(e,t){var n,i=e.stepList,a=e.step,r=e.fileList,o=i.find((function(e){return e.step===a})),c=null==o?void 0:o.dataSourceStep;if(c){var l=null==(n=Ic(r[t].result)["step_".concat(c)])?void 0:n.result;return l&&(null==l?void 0:l.length)?(null==l?void 0:l.length)-1:0}return 0},Ol.getNextFileIndex=function(e,t,n){var i=t.fileIndex,a=t.fileList,r=void 0!==n?n:i;switch(e){case z.Forward:r+=1;break;case z.Backward:r-=1;case z.Jump:}return wt.a.inRange(r,0,a.length)?r:i};var wl=Object.defineProperty,kl=Object.getOwnPropertySymbols,Ll=Object.prototype.hasOwnProperty,Cl=Object.prototype.propertyIsEnumerable,Sl=function(e,t,n){return t in e?wl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Il=function(e,t){for(var n in t||(t={}))Ll.call(t,n)&&Sl(e,n,t[n]);if(kl){var i,a=Object(Se.a)(kl(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Cl.call(t,n)&&Sl(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Al=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},Pl=function(e,t){return t.map((function(t){return e(t)}))},jl=function(e){return e===z.Forward?jc.Forward:e===z.Backward?jc.Backward:e===z.Jump?jc.Jump:jc.Forward},Tl=function(e,t){var n,i,a=e.imgList,r=e.imgIndex,o=hl(e.stepList,e.step).dataSourceStep;return(null==(i=null==(n=Ic(a[r-1].result)["step_".concat(o)])?void 0:n.result)?void 0:i.length)-1||t};function El(e){return{type:Lc.UPDATE_IMG_LIST,payload:{imgList:e}}}function Dl(e){var t=e.stepList,n=e.step;return{type:Lc.SET_TASK_CONFIG,payload:{stepList:t,step:n}}}function Ml(e){var t=e.toolStyle,n=e.onSubmit,i=e.onSave,a=e.initToolName,r=e.tagConfigList,o=e.attributeList,c=e.toolsBasicConfig,l=e.textConfig,s=e.onPageChange,u=e.onStepChange,d=e.getFileData,h=e.pageSize,g=e.loadFileList,f=e.step,b=e.stepList,p=[];if(c){p.push(function(e){return{type:Lc.UPDATE_TOOLS_CONFIG,payload:{toolsBasicConfig:e}}}(c));var v=a?c.filter((function(e){return e.tool===a})):[c[0]],m=[Il({step:1},v[0])];p.push(Dl({stepList:m,step:f}))}else p.push(Dl({stepList:b,step:f}));return l&&p.push(function(e){return{type:Lc.UPDATE_TEXT_CONFIG,payload:{textConfig:e}}}(l)),n&&p.push(function(e){return{type:Lc.UPDATE_ON_SUBMIT,payload:{onSubmit:e}}}(n)),r&&p.push(function(e){return{type:Lc.UPDATE_TAG_LIST,payload:{tagConfigList:e}}}(r)),o&&p.push(function(e){return{type:Lc.UPDATE_ATTRIBUTE_LIST,payload:{attributeList:e}}}(o)),i&&p.push(function(e){return{type:Lc.UPDATE_ON_SAVE,payload:{onSave:e}}}(i)),s&&p.push(function(e){return{type:Lc.UPDATE_ON_PAGE_CHANGE,payload:{onPageChange:e}}}(s)),u&&p.push(function(e){return{type:Lc.UPDATE_ON_STEP_CHANGE,payload:{onStepChange:e}}}(u)),d&&p.push(function(e){return{type:Lc.UPDATE_GET_FILE_DATA,payload:{getFileData:e}}}(d)),g&&p.push(function(e){return{type:Lc.UPDATE_LOAD_FILE_LIST,payload:{loadFileList:e}}}(g)),h&&p.push(function(e){return{type:Lc.UPDATE_PAGE_SIZE,payload:{pageSize:e}}}(h)),p.push({type:Lc.CALC_STEP_PROGRESS}),p.push(function(e){return{type:Lc.INIT_TOOL,payload:{toolStyle:e}}}(t)),function(e){return Pl(e,p)}}var Rl=function(e){return function(t,n){var i=n().annotation,a=function(e,t){var n,i=null==t?void 0:t.findIndex((function(t){return(null==t?void 0:t.step)===e}));return null==(n=t[i+1])?void 0:n.step}(i.step,i.stepList);return[t(Nl(a,e))]}},Nl=function(e,t){return function(n,i){var a,r,o=i().annotation;null==(a=null==o?void 0:o.onStepChange)||a.call(o,e);var c=null!=(r=null==o?void 0:o.imgIndex)?r:0;return[n({type:Lc.SUBMIT_RESULT}),n({type:Lc.SUBMIT_FILE_DATA,payload:{submitType:jc.StepChanged}}),n({type:Lc.SET_STEP,payload:{toStep:e}}),n({type:Lc.CALC_STEP_PROGRESS}),n(pl(null!=t?t:c,0))]}},Vl=function(e){return function(t){return[t({type:Lc.SUBMIT_RESULT}),t({type:Lc.SUBMIT_FILE_DATA,payload:{submitType:e}})]}},Hl=function(e,t,n,i){return[e(Vl(n)),e(pl(t,i))]},Bl=function(e,t){return[e({type:Lc.SUBMIT_RESULT}),e({type:Lc.SET_BASIC_INDEX,payload:{basicIndex:t}})]},Zl=function(e,t){e({type:Lc.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED,payload:{triggerEventAfterIndexChanged:t}})},zl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return Wl(t,n,z.Backward,e)}},Fl=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){return Wl(t,n,z.Forward,e)}},Ul=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){if(e!==i().imgIndex)return Wl(n,i,z.Jump,t,e)}},Jl=function(e,t,n,i){return Al(void 0,null,Object(m.a)().mark((function a(){var r,o,c,l,s,u,d,h;return Object(m.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=t().annotation,c=o.loadFileList,l=o.imgList,s=o.pageSize,u=Math.floor(n/s),ql(e,!0),a.prev=2,a.next=5,c(u,s);case 5:if(d=a.sent,ql(e,!1),(null==(r=null==d?void 0:d.fileList)?void 0:r.length)&&(null==d?void 0:d.total)){a.next=8;break}throw new Error("fileList and total are required");case 8:return h=i?new Array(d.total):Object(Ne.a)(l),a.abrupt("return",(h.splice.apply(h,[u*s,s].concat(Object(Ne.a)(d.fileList))),e({type:Lc.UPDATE_IMG_LIST,payload:{imgList:h}}),!0));case 12:a.prev=12,a.t0=a.catch(2),ql(e,!1);case 15:case"end":return a.stop()}}),a,null,[[2,12]])})))},Wl=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;return Al(void 0,null,Object(m.a)().mark((function r(){var o,c,l,s,u,d,h,g,f;return Object(m.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=t().annotation,l=Ol.getNextPageInfo(n,c,a),s=l.fileIndexChanged,u=l.fileIndex,d=l.basicIndexChanged,h=l.basicIndex,r.next=3,oi.a.setItem("nextIndex",u);case 3:if(g=jl(n),Zl(e,i),!s){r.next=18;break}if(r.t0=c.loading,r.t0){r.next=13;break}if(r.t1=!c.imgList[u],!r.t1){r.next=12;break}return r.next=11,Jl(e,t,u);case 11:r.t1=!r.sent;case 12:r.t0=r.t1;case 13:if(!r.t0){r.next=15;break}return r.abrupt("return");case 15:return null==(o=c.onPageChange)||o.call(c,u),f=g===jc.Backward?Tl(t().annotation,h):h,r.abrupt("return",Hl(e,u,g,f));case 18:return r.abrupt("return",d?Bl(e,h):e(Vl(g)));case 19:case"end":return r.stop()}}),r)})))},Xl=function(e){e(Vl(jc.Save)),e({type:Lc.SAVE_RESULT})},Gl=function(e){return function(t){t({type:Lc.UPDATE_CURRENT_TOOLNAME,payload:{toolName:e}})}},ql=function(e,t){e({type:Lc.SET_LOADING,payload:{loading:t}})},Kl=function(e,t){e({type:Lc.SET_LOADING,payload:{loading:t}})},Yl=u.a.createContext(void 0),Ql=Object(kc.c)(Yl),_l=Object(kc.d)(Yl),$l=r.default,es=u.a.createContext({width:"undefined"!=typeof window?window.innerWidth:800,height:"undefined"!=typeof window?window.innerHeight:400}),ts=Object(kc.b)((function(e){return{annotation:e.annotation}}),null,null,{context:Yl})((function(e){var t=e.children,n=e.dispatch,i=Object(s.useState)("undefined"!=typeof window?window.innerWidth:800),a=Object(G.a)(i,1)[0],r=Object(s.useState)("undefined"!=typeof window?window.innerHeight:400),o=Object(G.a)(r,1)[0],c=function(e){!wc.hotkeyFilter(e)||(e.keyCode===$l.A&&n(zl()),e.keyCode===$l.D&&n(Fl()),e.keyCode===$l.R&&n({type:Lc.UPDATE_ROTATE}))};Object(s.useEffect)((function(){if("undefined"!=typeof window)return null==window||window.addEventListener("keydown",c),function(){null==window||window.removeEventListener("keydown",c)}}),[]);var l=Object(s.useMemo)((function(){return{width:a,height:o}}),[a,o]);return u.a.createElement(es.Provider,{value:l},t)})),ns=n(1073),is=n(1072),as=n(1114),rs=n(139),os=n(1109),cs=function(e){var t=e.width,n=e.height,i=e.reloadImage,a=e.hideSetInvalidTips,r=e.ignoreOffsetY,o=e.backgroundColor,c=e.fileType,l=void 0===c?"image":c,s=Object(os.a)().t,d=r?0:40,h=e.layerStyle||{position:"absolute",left:0,top:d,cursor:"initial",zIndex:20,fontSize:12};t&&n?Object.assign(h,{width:t,height:n}):Object.assign(h,{bottom:0,right:0}),o&&Object.assign(h,{backgroundColor:o});return u.a.createElement("div",{style:h},u.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},u.a.createElement("div",{style:{textAlign:"center",marginBottom:10}},u.a.createElement(rs.a,{type:"primary",shape:"circle",icon:u.a.createElement(as.a,null),onClick:i})),u.a.createElement("div",null,"".concat(s("".concat(l,"ErrorAndReload"))).concat(a?"":s("orMaskAsInvalid")))))},ls=n(154);function ss(e,t){return e?"function"==typeof e?e():"current"in e?e.current:e:t}var us=function(e,t){return"".concat(Bc,"-").concat(e).concat(t?"__"+t:"")},ds=function(e){var t=Object(s.useRef)(0),n=Object(s.useState)(e),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(s.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){r(e)}))}),[]);return Object(s.useEffect)((function(){return function(){return cancelAnimationFrame(t.current)}}),[]),[a,o]};function hs(e){var t=ds((function(){var t,n,i=ss(e);return{width:null!=(t=(i||{}).clientWidth)?t:0,height:null!=(n=(i||{}).clientHeight)?n:0}})),n=Object(G.a)(t,2),i=n[0],a=n[1];return Object(s.useLayoutEffect)((function(){var t=ss(e);if(!t)return function(){};var n=new ls.a((function(e){e.forEach((function(e){var t,n;a({width:null!=(t=e.target.clientWidth)?t:0,height:null!=(n=e.target.clientHeight)?n:0})}))}));return n.observe(t),function(){n.disconnect()}}),[e]),i}function gs(e){return{type:Sc.UPDATE_TOOL_STYLE_CONFIG,payload:e}}var fs=Object.defineProperty,bs=Object.defineProperties,ps=Object.getOwnPropertyDescriptors,vs=Object.getOwnPropertySymbols,ms=Object.prototype.hasOwnProperty,ys=Object.prototype.propertyIsEnumerable,xs=function(e,t,n){return t in e?fs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Os=function(e,t){for(var n in t||(t={}))ms.call(t,n)&&xs(e,n,t[n]);if(vs){var i,a=Object(Se.a)(vs(t));try{for(a.s();!(i=a.n()).done;){n=i.value;ys.call(t,n)&&xs(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},ws=Object(kc.b)((function(e){var t=wt.a.pickBy(e.annotation,(function(e,t){return["imgList","imgIndex","stepList","step","toolInstance","annotationEngine","loading"].includes(t)}));return Os({imgAttribute:e.imgAttribute,toolStyle:e.toolStyle},t)}),null,null,{context:Yl})((function(e){var t=Object(s.useState)(0),n=Object(G.a)(t,2)[1],i=Ql(),a=e.toolName,r=e.imgAttribute,o=e.toolStyle,c=e.toolInstance,l=e.annotationEngine,d=e.imgList,h=e.imgIndex,g=e.dataInjectionAtCreation,f=e.renderEnhance,b=e.customRenderStyle,p=e.drawLayerSlot,v=Object(s.useState)({zoom:1,currentPos:{x:0,y:0}}),m=Object(G.a)(v,2),y=m[0],x=m[1],O=Object(s.useRef)(null),w=Object(s.useRef)(null),k=hs(O);Object(s.useEffect)((function(){pv.dispatch({type:Sc.INIT_TOOL_STYLE_CONFIG,payload:void 0})}),[]),Object(s.useEffect)((function(){if(l){switch(la.a.language){case"cn":case"en":l.setLang(la.a.language)}null==l||l.setDataInjectionAtCreation(g),null==l||l.setRenderEnhance(f),b&&(null==l||l.setCustomRenderStyle(b))}}),[l,g,f,b]),Object(s.useEffect)((function(){var e=function(e,t){x({zoom:e,currentPos:t})},t=function(e){x(e)};return c&&(c.singleOn("messageError",(function(e){_c.b.error(e)})),c.singleOn("messageInfo",(function(e){_c.b.info(e)})),c.singleOn("changeAnnotationShow",(function(){n((function(e){return e+1}))})),c.on("renderZoom",e),c.on("dragMove",t)),function(){c&&(c.unbind("renderZoom",e),c.unbind("dragMove",t))}}),[c]),Object(s.useEffect)((function(){c&&c.setImgAttribute(r)}),[r]),Object(s.useEffect)((function(){c&&c.setStyle(o),l&&l.setStyle(o)}),[o]),Object(s.useEffect)((function(){(null==c?void 0:c.setSize)&&c.setSize(k),l&&l.setSize(k)}),[k]);return Object(s.useEffect)((function(){var e;window.Cthrottle=function(e,t){var n;return function(){n&&clearTimeout(n),n=setTimeout((function(){e()}),t)}};var t=window.Cthrottle((function(){i(Xl)}),100);null==(e=document.getElementById("toolContainer"))||e.addEventListener("saveLabelResultToImg",(function(e){t()}))}),[]),u.a.createElement("div",{ref:O,className:"annotationOperation"},u.a.createElement("div",{className:"canvas",ref:w,style:k,id:"toolContainer",key:a},null==p?void 0:p(y)),!0===(null==c?void 0:c.isImgError)&&u.a.createElement(cs,function(e,t){return bs(e,ps(t))}(Os({},k),{reloadImage:function(){var e=null==d?void 0:d[h];!(null==e?void 0:e.url)||so.load(e.url).then((function(e){l.setImgNode(e)}))},backgroundColor:"#e2e2e2",ignoreOffsetY:!0})))})),ks=n(193),Ls=function(e){var t=e.tips;return t?u.a.createElement("div",{className:"".concat(Bc,"-tips")},u.a.createElement("div",{className:""},u.a.createElement(ks.a,{placement:"bottomRight",title:t},u.a.createElement("span",{className:""},t)))):null},Cs=n(1079),Ss=n(1112),Is=n(1084),As=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"jsonParser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return"string"==typeof e?JSON.parse(e):Object(en.a)(e)?e:t}catch(e){return t}}}]),e}();As.getStepConfig=function(e,t){return e.find((function(e){return e.step===t}))};var Ps=Object.defineProperty,js=Object.defineProperties,Ts=Object.getOwnPropertyDescriptors,Es=Object.getOwnPropertySymbols,Ds=Object.prototype.hasOwnProperty,Ms=Object.prototype.propertyIsEnumerable,Rs=function(e,t,n){return t in e?Ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ns=function(e,t){for(var n in t||(t={}))Ds.call(t,n)&&Rs(e,n,t[n]);if(Es){var i,a=Object(Se.a)(Es(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Ms.call(t,n)&&Rs(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Vs=r.default,Hs=function(e){e.stopPropagation(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},Bs=function(e){var t=e.textareaProps,n=e.footer;return u.a.createElement(u.a.Fragment,null,u.a.createElement(Is.a.TextArea,Ns({bordered:!1,rows:6,onKeyDown:Hs,onKeyUp:Hs},t)),u.a.createElement("div",{className:Ac({textAreaLength:!0})},n))},Zs=function(e){var t,n=Object(s.useRef)(null),i=Object(s.useState)(!1),a=Object(G.a)(i,2),r=a[0],o=a[1],c=Object(s.useState)(!1),l=Object(G.a)(c,2),d=l[0],h=l[1],g=Object(os.a)().t,f=e.disabled,b=e.config,p=e.result,v=e.updateText,m=e.index,y=e.switchToNextTextarea,x=e.hasMultiple,O=e.onNext,w=b.maxLength,k=Object(s.useState)(""),L=Object(G.a)(k,2),C=L[0],S=L[1];Object(s.useEffect)((function(){p&&p.length>0&&S(p[m].value[b.key])}),[p]);var I=null!=(t=null==C?void 0:C.length)?t:0,A=function(e){v&&(v(e,b.key,m),b.required&&h(!e))},P=x&&y,j={id:"textInput-".concat(m),ref:n,disabled:f,value:C,maxLength:w,autoSize:{minRows:2,maxRows:6},onChange:function(e){var t=e.target.value;S(t)},onFocus:function(){o(!0)},onBlur:function(e){o(!1),A(C),b.required&&h(!e.target.value)},style:{resize:"none",wordBreak:"break-all"},onKeyDownCapture:function(e){e.ctrlKey&&e.keyCode===Vs.Enter&&(O&&O(),e.preventDefault()),e.keyCode===Vs.Tab&&P&&(e.preventDefault(),e.nativeEvent.stopImmediatePropagation(),y(m)),e.nativeEvent.stopPropagation()}},T=u.a.createElement("div",{className:"textAreaFooter"},u.a.createElement("div",{className:"hotkeyTip"},P&&u.a.createElement("span",null,"[".concat(g("Switch"),"]Tab")),u.a.createElement("span",null,"[".concat(g("TurnPage"),"]Ctrl+Enter"))),u.a.createElement("div",{className:"wordCount"},u.a.createElement("span",{className:I>=w?"warning":""},I),"/",u.a.createElement("span",null,w)));return Object(s.useEffect)((function(){f&&o(!1)}),[f]),u.a.createElement("div",{className:"textField"},u.a.createElement("div",{className:"label"},u.a.createElement("span",{className:Ac({required:b.required})},b.label),u.a.createElement("i",{className:Ac({clearText:!0,disabled:f}),onClick:function(){f||A("")}})),u.a.createElement("div",{className:Ac({disabled:f,"textarea-outline":!0,"ant-input-focused":r,textareaContainer:!0,focus:r,invalid:d})},u.a.createElement(Bs,{footer:T,textareaProps:j})))};var zs=Object(kc.b)((function(e){return{imgList:e.annotation.imgList,textConfig:e.annotation.textConfig,imgIndex:e.annotation.imgIndex,step:e.annotation.step,basicResultList:e.annotation.basicResultList,stepList:e.annotation.stepList,triggerEventAfterIndexChanged:e.annotation.triggerEventAfterIndexChanged}}),null,null,{context:Yl})((function(e){var t=e.imgList,n=e.textConfig,i=e.imgIndex,a=e.dispatch,r=e.step,o=e.stepList,c=e.basicResultList,l=Object(s.useState)(0),d=Object(G.a)(l,2),h=d[0],g=d[1],f=Object(s.useState)(0),b=Object(G.a)(f,2)[1],p=Object(s.useState)([]),v=Object(G.a)(p,2),m=v[0],y=v[1],x=function(e){var t=(e+1)%n.length;O(t)},O=function(e){setTimeout((function(){var t=document.getElementById("textInput-".concat(e));t&&(g(e),t.focus(),t.select(),t.scrollIntoView({behavior:"smooth",block:"center"}))}))};Object(s.useEffect)((function(){if(t&&t.length>0){var e=JSON.parse(t[i].result),a=(null==e?void 0:e.textTool)?null==e?void 0:e.textTool:[];if(a&&a.length>0&&y(a),(!a||0===a.length)&&n&&n.length>0){var r=n.map((function(e,t){return{id:gn(),sourceID:"",value:Object(Je.a)({},e.key,"")}}));y(r)}b((function(e){return e+1}))}}),[n,t,i]);var w=function(e,n,r){m[r].value[n]=e;var o=JSON.parse(t[i].result),c=function(e,t){return js(e,Ts(t))}(Ns({},o),{textTool:m});t[i].result=JSON.stringify(c),a(El(t)),y(m)},k=function(){a(Fl(!0))},L=As.getStepConfig(o,r).dataSourceStep>0&&0===c.length;return u.a.createElement("div",{className:"textToolOperationMenu"},m&&m.length>0&&n.map((function(e,t){return u.a.createElement(Zs,{config:e,key:e.key,index:t,result:m,updateText:w,switchToNextTextarea:x,hasMultiple:n.length>1,focus:h===t,onNext:k,disabled:L})})))})),Fs=["rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],Us="rgba(204, 204, 204, 1)",Js={valid:{stroke:"rgba(102, 111, 255, 0.6)",fill:"rgba(102, 111, 255, 0.3)"},invalid:{stroke:"rgba(255, 153, 102,1)",fill:"rgba(255, 153, 102, 0.5)"},validSelected:{stroke:"rgba(0, 15, 255, 0.8)",fill:"rgba(0, 15, 255, 0.4)"},invalidSelected:{stroke:"rgba(255,153,102,0.8)",fill:"rgba(255,153,102,0.3)"},validHover:{stroke:"rgba(0, 15, 255, 1)",fill:"rgba(0, 15, 255, 0.5)"},invalidHover:{stroke:"rgba(255,153,102,1)",fill:"rgba(255,153,102,0.5)"}},Ws={1:{valid:"rgba(0, 0, 255, 0.5)",select:{stroke:"rgba(0, 15, 255, 1)",fill:"rgba(0,15,255, 1)"},hover:"rgba(0, 15, 255, 0.8)",line:"rgba(102, 111, 255, 1 )"},3:{valid:"rgba(0, 255, 255, 0.5)",select:{stroke:"rgba(0, 212, 255,  1)",fill:"rgba(0,212,255, 1)"},hover:"rgba(0, 212, 255, 0.8)",line:"rgba(102, 230, 255, 1)"},5:{valid:"rgba(0, 255, 0, 0.5)",select:{stroke:"rgba(149, 255, 1)",fill:"rgba(149,255,0, 1)"},hover:"rgba(149, 255, 0, 0.8)",line:"rgba(191, 255, 102, 1)"},7:{valid:"rgba(255, 255, 0, 0.5)",select:{stroke:"rgba(255, 230, 102, 1)",fill:"rgba(255,213,0, 1)"},hover:"rgba(255, 230, 102, 0.8)",line:"rgba(255, 230, 102, 1)"},9:{valid:"rgba(255, 0, 255, 0.5)",select:{stroke:"rgba(230, 102, 255, 1)",fill:"rgba(213,0,255, 1)"},hover:"rgba(230, 102, 255, 0.8)",line:"rgba(230, 102, 255, 1)"}},Xs={1:.2,3:.4,5:.6,7:.8,9:1},Gs={1:0,3:.2,5:.4,7:.6,9:.8},qs=Object.defineProperty,Ks=Object.getOwnPropertySymbols,Ys=Object.prototype.hasOwnProperty,Qs=Object.prototype.propertyIsEnumerable,_s=function(e,t,n){return t in e?qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$s=function(e,t){for(var n in t||(t={}))Ys.call(t,n)&&_s(e,n,t[n]);if(Ks){var i,a=Object(Se.a)(Ks(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Qs.call(t,n)&&_s(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},eu=function(e){var t=e.color,n=e.style;return u.a.createElement("div",{style:$s({display:"inline-block",height:14,width:14,backgroundColor:t,verticalAlign:"middle"},n)})},tu=n(1095),nu=[Us].concat(Fs),iu=u.a.forwardRef((function(e,t){var n=u.a.useRef(),i=e.list||[],a=Object(Ne.a)(nu);!0===e.forbidDefault&&(a=a.slice(1));var r="sensebee-radio-group";return e.noHeightLimit&&(r="sensebee-radio-group-no-limit-height"),u.a.createElement("div",{className:r},u.a.createElement(tu.a.Group,{name:"radiogroup",defaultValue:null==e?void 0:e.selectedAttribute,value:null==e?void 0:e.selectedAttribute,onChange:function(t){return e.attributeChanged(t.target.value)},ref:t},i.map((function(t,i){var r,o=null!=(r=null==e?void 0:e.num)?r:i;return!0===e.forbidDefault&&o++,"number"==typeof o&&o<=9&&o>=0||(o="-"),u.a.createElement(tu.a,{value:t.value,ref:n,key:i},u.a.createElement("span",{className:"sensebee-radio-label",title:t.label},!(null==e?void 0:e.forbidColor)&&u.a.createElement(eu,{color:i>8&&!e.forbidDefault?Fs[(i-1)%Fs.length]:a[i%a.length],style:{marginRight:"8px"}}),t.label),u.a.createElement("span",{className:"sensebee-radio-num"},o))}))))})),au=n(1101),ru=function(e){var t=u.a.useRef(null),n=e.list||[];return u.a.createElement("div",{className:"sensebee-checkbox-group"},u.a.createElement(au.a.Group,{name:"checkboxgroup",value:e.selectedAttribute,onChange:function(){return e.attributeChanged()}},n.map((function(n,i){var a;return u.a.createElement(au.a,{value:n.value,ref:t,onFocus:function(){var e;null==(e=null==t?void 0:t.current)||e.blur()},key:i},u.a.createElement("span",{className:"sensebee-checkbox-label",title:n.label},n.label),u.a.createElement("span",{className:"sensebee-checkbox-num"},null!=(a=null==e?void 0:e.num)?a:i))}))))},ou=n(1115),cu=n(1092),lu=Object.defineProperty,su=Object.defineProperties,uu=Object.getOwnPropertyDescriptors,du=Object.getOwnPropertySymbols,hu=Object.prototype.hasOwnProperty,gu=Object.prototype.propertyIsEnumerable,fu=function(e,t,n){return t in e?lu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},bu=cu.a.Panel,pu=function(e){var t=e.isActive;return u.a.createElement(ou.a,{rotate:t?90:0,style:{color:"rgba(0, 0, 0, 0.36)"}})};var vu,mu=Object(kc.b)((function(e){return{imgList:e.annotation.imgList,tagConfigList:e.annotation.tagConfigList,imgIndex:e.annotation.imgIndex}}),null,null,{context:Yl})((function(e){var t=e.imgList,n=e.tagConfigList,i=e.imgIndex,a=Object(s.useState)([]),r=Object(G.a)(a,2),o=r[0],c=r[1],l=Object(s.useState)([]),d=Object(G.a)(l,2),h=d[0],g=d[1],f=Object(s.useRef)(null),b=Object(s.useState)(-1),p=Object(G.a)(b,2),v=(p[0],p[1]),m=Object(os.a)().t,y=(null==window?void 0:window.innerHeight)-61-200,x=Ql();Object(s.useEffect)((function(){var e;if(t&&t.length>0){var n=JSON.parse(t[i].result),a=(null==n?void 0:n.tagTool)?null==(e=null==n?void 0:n.tagTool)?void 0:e.result:[];g(a)}}),[i,t]),Object(s.useEffect)((function(){O()}),[h]);var O=function(){var e,t,i;if(function(){var e=document.getElementById("toolContainer"),t=window.self.document.getElementById("tagToolTag");t&&e&&e.contains(t)&&(null==e||e.removeChild(t))}(),(null==h?void 0:h.length)>0){var a=document.getElementById("toolContainer"),r=document.createElement("div"),o=Ln.getTagNameList(null!=(t=null==(e=h[0])?void 0:e.result)?t:{},n);r.innerHTML=null!=(i=o.reduce((function(e,t){return"".concat(e).concat(t.keyName,": ").concat(t.value.join(" 、 "),"\n")}),""))?i:"",r.setAttribute("id","tagToolTag"),r.setAttribute("style","\n        position: absolute;\n        top: 0;\n        right: 0;\n        z-index: 5;\n        padding: 0 20px;\n        font-size: 15px;\n        color: white;\n        text-align: right;\n        line-height: 32px;\n        white-space: pre;\n        background: rgba(102, 111, 255, 1);\n        opacity: 0.6;\n        clear: both;\n      ");var c=document.getElementById("tagToolTag");(null==a?void 0:a.contains(c))||null==a||a.appendChild(r)}},w=function(e,a){var r,o,c=function(e,t){var i;try{var a=n,r=a.length>1,o=void 0!==t?t:e,c=r?a[void 0!==t?e:0]:a[0],l=(null!=(i=c.subSelected)?i:[])[o];if(c&&l)return{value:{key:c.value,value:l.value},isMulti:c.isMulti}}catch(a){return}}(e,a);if(c){var l=k(c,null!=(o=null==(r=h[0])?void 0:r.result)?o:{}),s=[{sourceID:xr.getSourceID(),id:gn(8,62),result:l}],u=function(e,t){return su(e,uu(t))}(function(e,t){for(var n in t||(t={}))hu.call(t,n)&&fu(e,n,t[n]);if(du){var i,a=Object(Se.a)(du(t));try{for(a.s();!(i=a.n()).done;)n=i.value,gu.call(t,n)&&fu(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},JSON.parse(t[i].result)),{tagTool:{toolName:"tagTool",result:[].concat(s)}});t[i].result=JSON.stringify(u),x(El(t)),g(s)}},k=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.isMulti,r=e.value,o=r.key,c=r.value;if(a){var l=null!=(n=null==(t=i[o])?void 0:t.split(";"))?n:[];l.includes(c)?l=l.filter((function(e){return e!==c})):l.push(c);var s=new Set(l);return i[o]=Array.from(s).join(";"),wt.a.pickBy(i,(function(e){return e}))}return i[o]=i[o]===c?void 0:c,wt.a.pickBy(i,(function(e){return e}))},L=function(e,t){w(e,t)},C=Object(s.useCallback)((function(e,t,n){var i=Object(tn.a)(o);""===i[e]||!0===n?i[e]=t:i[e]="",c(i)}),[o]);return u.a.createElement("div",{className:"tagOperationMenu",ref:f},0===(null==n?void 0:n.length)?u.a.createElement("div",{style:{padding:20,textAlign:"center"}},m("NoConfiguration")):u.a.createElement("div",{style:{height:y}},function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t?t.map((function(t,a){var r,c,l,s,d;if(t.subSelected)return u.a.createElement(cu.a,{bordered:!1,expandIcon:pu,key:"collapse_".concat(a,"_").concat(i+1),onChange:function(){return C(a,t.value)},activeKey:[o[a]]},u.a.createElement(bu,{header:u.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flex:1}},u.a.createElement("span",null,t.key,u.a.createElement(ks.a,{placement:"bottom",title:m("ClearThisOption")},u.a.createElement("img",{style:{marginLeft:5,cursor:"pointer"},onClick:function(e){e.stopPropagation()},onMouseEnter:function(){v(a)},onMouseLeave:function(){v(-1)}})))),key:t.value},u.a.createElement("div",{className:"level"},e(t.subSelected,a))));var g=(null==n?void 0:n[i])?null==n?void 0:n[i].value:0,f=(null==(s=null==(l=null==(c=null==(r=h[0])?void 0:r.result)?void 0:c[g])?void 0:l.split(";"))?void 0:s.indexOf(t.value))>-1?t.value:"";return!0===(null==(d=null==n?void 0:n[i])?void 0:d.isMulti)?u.a.createElement("div",{className:"singleBar",key:"".concat(g,"_").concat(i,"_").concat(a)},u.a.createElement(ru,{attributeChanged:function(){x(Xl),L(i,a)},selectedAttribute:[f],list:[{value:t.value,label:t.key}],num:a+1})):u.a.createElement("div",{className:"singleBar",key:"".concat(g,"_").concat(i,"_").concat(a)},u.a.createElement(iu,{forbidColor:!0,attributeChanged:function(){return L(i,a)},selectedAttribute:f,list:[{value:t.value,label:t.key}],num:a+1}))})):null}(n)))})),yu="data:image/svg+xml,%3csvg width='72' height='72' viewBox='0 0 72 72' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='10' y='40' width='17' height='22' fill='%23666FFF' fill-opacity='0.5'/%3e%3crect x='44' y='10' width='28' height='34' transform='rotate(90 44 10)' fill='%23666FFF'/%3e%3crect x='46' y='10' width='16' height='28' fill='%23666FFF' fill-opacity='0.5'/%3e%3crect x='27' y='40' width='35' height='22' fill='%23666FFF' fill-opacity='0.25'/%3e%3crect x='44' y='10' width='2' height='30' fill='white'/%3e%3crect x='25' y='40' width='2' height='22' fill='white'/%3e%3crect x='62' y='38' width='2' height='52' transform='rotate(90 62 38)' fill='white'/%3e%3c/svg%3e",xu=n(429),Ou=n(1081),wu=function(e,t){var n=[],i={};switch(e){case"width":n=[{step:1,value:"1"},{step:2,value:"2"},{step:3,value:"3"},{step:4,value:"4"},{step:5,value:"5"}];break;case"color":n=[{step:1,value:"Blue"},{step:3,value:"Cyan"},{step:5,value:"Green"},{step:7,value:"Yellow"},{step:9,value:"Pink"}];break;case"borderOpacity":n=[{step:1,value:"0.2"},{step:3,value:"0.4"},{step:5,value:"0.6"},{step:7,value:"0.8"},{step:9,value:"1.0"}];break;case"fillOpacity":n=[{step:1,value:"0"},{step:3,value:"0.2"},{step:5,value:"0.4"},{step:7,value:"0.6"},{step:9,value:"0.8"}]}return n.forEach((function(e){var n=e.step,a=e.value;i[n]={style:{color:"#999999",fontSize:"12px"},label:u.a.createElement("span",null,t(a))}})),i},ku=function(e){switch(e){case"width":return"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 10 10'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-4 %7b fill: none%3b %7d .cls-1 %7b stroke: %23707070%3b %7d .cls-3%2c .cls-5 %7b stroke: none%3b %7d .cls-5 %7b fill: %23ccc%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_border' transform='translate(0 -1.609)'%3e %3cg id='%e7%9f%a9%e5%bd%a2_162' data-name='%e7%9f%a9%e5%bd%a2 162' class='cls-1' transform='translate(0 1.609)'%3e %3crect class='cls-3' width='10' height='10'/%3e %3crect class='cls-4' x='0.5' y='0.5' width='9' height='9'/%3e %3c/g%3e %3cg id='%e8%81%94%e5%90%88_2' data-name='%e8%81%94%e5%90%88 2' class='cls-2' transform='translate(10987 5359.61)'%3e %3cpath class='cls-3' d='M-10982.4-5349v-3.6h-3.6v-.8h3.6v-3.6h.8v3.6h3.6v.8h-3.6v3.6Z'/%3e %3cpath class='cls-5' d='M -10981.6005859375 -5349 L -10982.3994140625 -5349 L -10982.3994140625 -5352.6005859375 L -10986.0009765625 -5352.6005859375 L -10986.0009765625 -5353.400390625 L -10982.3994140625 -5353.400390625 L -10982.3994140625 -5357.0009765625 L -10981.6005859375 -5357.0009765625 L -10981.6005859375 -5353.400390625 L -10977.9990234375 -5353.400390625 L -10977.9990234375 -5352.6005859375 L -10981.6005859375 -5352.6005859375 L -10981.6005859375 -5349 Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e";case"color":return"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='12' height='12' viewBox='0 0 12 12'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23fafafa%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-5 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-6 %7b fill: %23999%3b %7d .cls-7 %7b clip-path: url(%23clip-path-3)%3b %7d .cls-8 %7b clip-path: url(%23clip-path-4)%3b %7d .cls-9 %7b clip-path: url(%23clip-path-5)%3b %7d .cls-10 %7b clip-path: url(%23clip-path-6)%3b %7d .cls-11 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_422' data-name='%e8%b7%af%e5%be%84 422' class='cls-1' d='M0-4H12V-16H0Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_424' data-name='%e8%b7%af%e5%be%84 424' class='cls-1' d='M11.759-9.6a.729.729%2c0%2c0%2c0%2c.729.729.729.729%2c0%2c0%2c0%2c.729-.729.729.729%2c0%2c0%2c0-.729-.729A.729.729%2c0%2c0%2c0%2c11.759-9.6Z' transform='translate(-11.759 10.33)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-3'%3e %3cpath id='%e8%b7%af%e5%be%84_426' data-name='%e8%b7%af%e5%be%84 426' class='cls-1' d='M9.031-12.726a.742.742%2c0%2c0%2c0%2c.742.742.742.742%2c0%2c0%2c0%2c.742-.742.742.742%2c0%2c0%2c0-.742-.742.742.742%2c0%2c0%2c0-.742.742Z' transform='translate(-9.031 13.469)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-4'%3e %3cpath id='%e8%b7%af%e5%be%84_428' data-name='%e8%b7%af%e5%be%84 428' class='cls-1' d='M4.727-12.239a.747.747%2c0%2c0%2c0%2c.747.747.747.747%2c0%2c0%2c0%2c.747-.747.747.747%2c0%2c0%2c0-.747-.747A.747.747%2c0%2c0%2c0%2c4.727-12.239Z' transform='translate(-4.727 12.986)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-5'%3e %3cpath id='%e8%b7%af%e5%be%84_430' data-name='%e8%b7%af%e5%be%84 430' class='cls-1' d='M2.362-8.573a.73.73%2c0%2c0%2c0%2c.365.632.73.73%2c0%2c0%2c0%2c.73%2c0%2c.73.73%2c0%2c0%2c0%2c.365-.632.73.73%2c0%2c0%2c0-.365-.632.73.73%2c0%2c0%2c0-.73%2c0%2c.73.73%2c0%2c0%2c0-.365.632Z' transform='translate(-2.362 9.303)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-6'%3e %3cpath id='%e8%b7%af%e5%be%84_432' data-name='%e8%b7%af%e5%be%84 432' class='cls-2' d='M5.887-4.052H5.873A5.888%2c5.888%2c0%2c0%2c1%2c0-10.018a5.922%2c5.922%2c0%2c0%2c1%2c6-5.931%2c5.853%2c5.853%2c0%2c0%2c1%2c6%2c5.335A3.662%2c3.662%2c0%2c0%2c1%2c9.645-7.28a6.77%2c6.77%2c0%2c0%2c1-2.439.232l-.122%2c0a.538.538%2c0%2c0%2c0-.154.408.342.342%2c0%2c0%2c0%2c.009.1.431.431%2c0%2c0%2c0%2c.046.048%2c1.36%2c1.36%2c0%2c0%2c1%2c.387%2c1.083A1.29%2c1.29%2c0%2c0%2c1%2c7-4.47%2c1.682%2c1.682%2c0%2c0%2c1%2c5.887-4.052ZM6-14.939a4.945%2c4.945%2c0%2c0%2c0-4.989%2c4.922A4.916%2c4.916%2c0%2c0%2c0%2c5.883-5.061c.22%2c0%2c.477-.063.477-.355%2c0-.274-.039-.315-.109-.388a1.093%2c1.093%2c0%2c0%2c1-.333-.841A1.319%2c1.319%2c0%2c0%2c1%2c7.077-8.064l.168%2c0A6.391%2c6.391%2c0%2c0%2c0%2c9.28-8.223a2.677%2c2.677%2c0%2c0%2c0%2c1.707-2.391A4.83%2c4.83%2c0%2c0%2c0%2c6-14.939Z' transform='translate(0 15.948)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_borderColor' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_670' data-name='%e7%bb%84 670' class='cls-3' transform='translate(0 -16)'%3e %3cpath id='%e8%b7%af%e5%be%84_421' data-name='%e8%b7%af%e5%be%84 421' class='cls-4' d='M-5-21H14.5V-1.5H-5Z' transform='translate(1.25 17.25)'/%3e %3c/g%3e %3cg id='%e7%bb%84_671' data-name='%e7%bb%84 671' class='cls-5' transform='translate(8.121 -11.61)'%3e %3cpath id='%e8%b7%af%e5%be%84_423' data-name='%e8%b7%af%e5%be%84 423' class='cls-6' d='M6.759-15.33H14.9v8.145H6.759Z' transform='translate(-10.103 11.986)'/%3e %3c/g%3e %3cg id='%e7%bb%84_672' data-name='%e7%bb%84 672' class='cls-7' transform='translate(6.765 -13.853)'%3e %3cpath id='%e8%b7%af%e5%be%84_425' data-name='%e8%b7%af%e5%be%84 425' class='cls-6' d='M4.031-18.469h8.291v8.291H4.031Z' transform='translate(-7.434 15.066)'/%3e %3c/g%3e %3cg id='%e7%bb%84_673' data-name='%e7%bb%84 673' class='cls-8' transform='translate(3.702 -13.515)'%3e %3cpath id='%e8%b7%af%e5%be%84_427' data-name='%e8%b7%af%e5%be%84 427' class='cls-6' d='M-.273-17.986H8.073V-9.64H-.273Z' transform='translate(-3.152 14.56)'/%3e %3c/g%3e %3cg id='%e7%bb%84_674' data-name='%e7%bb%84 674' class='cls-9' transform='translate(2.723 -10.881)'%3e %3cpath id='%e8%b7%af%e5%be%84_429' data-name='%e8%b7%af%e5%be%84 429' class='cls-6' d='M-2.638-14.3H5.512v8.149H-2.638Z' transform='translate(-0.707 10.958)'/%3e %3c/g%3e %3cg id='%e7%bb%84_675' data-name='%e7%bb%84 675' class='cls-10' transform='translate(0 -15.948)'%3e %3cpath id='%e8%b7%af%e5%be%84_431' data-name='%e8%b7%af%e5%be%84 431' class='cls-11' d='M-5-20.948H14.5V-1.568H-5Z' transform='translate(1.25 17.207)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e";case"borderOpacity":return"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='10.001' height='10.001' viewBox='0 0 10.001 10.001'%3e%3cg transform='translate(1.001 1)'%3e%3cg transform='translate(0 -1)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0 7.334)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(9 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(0.666 0.334) rotate(90)' fill='none' stroke='%23ccc' stroke-width='1'%3e%3crect width='7.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='6.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(-1 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 -1)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3cg transform='translate(7.333 7.333)' fill='none' stroke='%23707070' stroke-width='1'%3e%3crect width='1.667' height='1.667' stroke='none'/%3e%3crect x='0.5' y='0.5' width='0.667' height='0.667' fill='none'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";case"fillOpacity":return"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='9.999' height='9.999' viewBox='0 0 9.999 9.999'%3e%3cg transform='translate(0 0)'%3e%3crect width='3.333' height='3.333' transform='translate(0 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(0 6.667)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 0)' fill='%23ccc'/%3e%3crect width='3.333' height='3.333' transform='translate(3.333 3.333)' fill='%23707070'/%3e%3crect width='3.333' height='3.333' transform='translate(6.666 6.667)' fill='%23ccc'/%3e%3c/g%3e%3c/svg%3e"}},Lu=function(e){switch(e){case"width":return 2;case"color":return 1;case"borderOpacity":case"fillOpacity":return 9}},Cu=function(e){return["width"].includes(e)},Su=Object(kc.b)((function(e){return{toolStyle:e.toolStyle,config:e.annotation.toolInstance.config}}),null,null,{context:Yl})((function(e){var t=e.toolStyle,n={width:t.width,color:t.color,borderOpacity:t.borderOpacity,fillOpacity:t.fillOpacity},i=Object(os.a)().t,a=Ql();Object(s.useEffect)((function(){var e=JSON.parse('{"toolColor":{"1":{"valid":{"stroke":"rgba(0,0,255,0.50)","fill":"rgba(0,0,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(0,15,255,1.00)","fill":"rgba(0,15,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(0,15,255,0.80)","fill":"rgba(0,15,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"3":{"valid":{"stroke":"rgba(0,255,255,0.50)","fill":"rgba(0,255,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(0,212,255,1.00)","fill":"rgba(0,212,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(0,212,255,0.80)","fill":"rgba(0,212,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"5":{"valid":{"stroke":"rgba(0,255,0,0.50)","fill":"rgba(0,255,0,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(149,255,1.00)","fill":"rgba(149,255,0,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(149,255,0,0.80)","fill":"rgba(149,255,0,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"7":{"valid":{"stroke":"rgba(255,255,0,0.50)","fill":"rgba(255,255,0,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(255,230,102,1.00)","fill":"rgba(255,213,0,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(255,230,102,0.80)","fill":"rgba(255,230,102,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}},"9":{"valid":{"stroke":"rgba(255,0,255,0.50)","fill":"rgba(255,0,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.80)"},"validSelected":{"stroke":"rgba(230,102,255,1.00)","fill":"rgba(213,0,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,0.60)","fill":"rgba(255,0,0,0.24)"},"validHover":{"stroke":"rgba(230,102,255,0.80)","fill":"rgba(230,102,255,0.64)"},"invalidHover":{"stroke":"rgba(255,0,0,0.50)","fill":"rgba(255,0,0,0.40)"}}},"attributeColor":[{"valid":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(204,204,204,1.00)","fill":"rgba(204,204,204,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(153,51,255,1.00)","fill":"rgba(153,51,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,254,51,1.00)","fill":"rgba(51,254,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,51,255,1.00)","fill":"rgba(255,51,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(204,255,51,1.00)","fill":"rgba(204,255,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,153,255,1.00)","fill":"rgba(51,153,255,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,153,51,1.00)","fill":"rgba(255,153,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(51,255,238,1.00)","fill":"rgba(51,255,238,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}},{"valid":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.40)"},"invalid":{"stroke":"rgba(255,153,102,1.00)","fill":"rgba(255,153,102,0.40)"},"validSelected":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.80)"},"invalidSelected":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"},"validHover":{"stroke":"rgba(255,221,51,1.00)","fill":"rgba(255,221,51,0.80)"},"invalidHover":{"stroke":"rgba(255,0,0,1.00)","fill":"rgba(255,0,0,0.80)"}}],"lineColor":{"1":"rgba(102, 111, 255, 1 )","3":"rgba(102, 230, 255, 1)","5":"rgba(191, 255, 102, 1)","7":"rgba(255, 230, 102, 1)","9":"rgba(230, 102, 255, 1)"},"attributeLineColor":["rgba(204, 204, 204, 1)","rgba(153, 51, 255, 1)","rgba(51, 254, 51, 1)","rgba(255, 51, 255, 1)","rgba(204, 255, 51, 1)","rgba(51, 153, 255, 1)","rgba(255, 153, 51, 1)","rgba(51, 255, 238, 1)","rgba(255, 221, 51, 1)"],"color":1,"width":2,"opacity":9}');a(gs(e))}),[]);var r=e.config;return u.a.createElement("div",{className:"toolStyle"},Object.entries(n).map((function(e){var n,a=e[0];return!0===(null==r?void 0:r.attributeConfigurable)&&"color"===a?null:u.a.createElement("div",{id:"style-".concat(a),className:"styleSlider",key:a},u.a.createElement("span",{className:"title",style:{fontSize:16}},u.a.createElement("img",{src:ku(a),className:"icon",style:{width:16,marginRight:10}}),i(function(e){switch(e){case"width":return"BorderThickness";case"color":return"Color";case"borderOpacity":return"BorderOpacity";case"fillOpacity":return"FillOpacity";default:return""}}(a))),u.a.createElement("span",{className:"slider"},u.a.createElement(Ou.a,{tipFormatter:null,max:Cu(a)?5:10,min:Cu(a)?1:0,step:Cu(a)?1:null,value:null!=(n=t[a])?n:Lu(a),marks:wu(a,i),onChange:function(e){return function(e){pv.dispatch(gs(e))}(Object(Je.a)({},a,e))}})))})))})),Iu=function(){var e=u.a.createElement(Su,null),t=Object(s.useMemo)((function(){return u.a.createElement("div",{className:"".concat(Bc,"-sidebar")},e)}),[]);return u.a.createElement(xu.a,{placement:"topLeft",content:t,overlayClassName:"tool-hotkeys-popover"},u.a.createElement("div",{className:"item"},"工具样式"))},Au=[{toolName:zo.PointCloud,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 1.84521L20.7943 6.92257V17.0773L12 22.1546L3.20581 17.0773V6.92256L12 1.84521ZM5.20581 9.82551V15.9226L11 19.2679V13.0337C10.8388 12.9767 10.6812 12.9054 10.5293 12.8199L5.20581 9.82551ZM13 13.0337V19.2679L18.7943 15.9226V9.82551L13.4708 12.8199C13.3189 12.9054 13.1613 12.9767 13 13.0337ZM18.3149 7.80048L12 4.15462L5.68522 7.80048L11.5098 11.0768C11.8142 11.248 12.1859 11.248 12.4903 11.0768L18.3149 7.80048Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.0003 1.84521L20.7945 6.92257V17.0773L12.0003 22.1546L3.20605 17.0773V6.92256L12.0003 1.84521ZM5.20605 9.82551V15.9226L11.0003 19.2679V13.0337C10.839 12.9767 10.6815 12.9054 10.5295 12.8199L5.20605 9.82551ZM13.0003 13.0337V19.2679L18.7945 15.9226V9.82551L13.4711 12.8199C13.3191 12.9054 13.1616 12.9767 13.0003 13.0337ZM18.3151 7.80048L12.0003 4.15462L5.68546 7.80048L11.51 11.0768C11.8144 11.248 12.1861 11.248 12.4905 11.0768L18.3151 7.80048Z' fill='%231B67FF'/%3e%3c/svg%3e"},{toolName:zo.Rect,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M5 2.5H3V4.5V6.5H4V17H3V19V21H5H7V20H17V21H19H21V19V17H20V6.5H21V4.5V2.5H19H17V4H7V2.5H5ZM7 18H17V17H18V6.5H17V6H7V6.5H6V17H7V18Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M5 2.5H3V4.5V6.5H4V17H3V19V21H5H7V20H17V21H19H21V19V17H20V6.5H21V4.5V2.5H19H17V4H7V2.5H5ZM7 18H17V17H18V6.5H17V6H7V6.5H6V17H7V18Z' fill='%231B67FF'/%3e%3c/svg%3e"},{toolName:zo.Polygon,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.5 3.5H16.5V5.5V6.17157L6.17157 16.5H5.5H3.5V18.5V20.5H5.5H7.5V19.5H16.5V20.5H18.5H20.5V18.5V16.5H19.5V7.5H20.5V5.5V3.5H18.5ZM17.5 8L8 17.5H16.5V16.5H17.5V8Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M18.5 3.5H16.5V5.5V6.17157L6.17157 16.5H5.5H3.5V18.5V20.5H5.5H7.5V19.5H16.5V20.5H18.5H20.5V18.5V16.5H19.5V7.5H20.5V5.5V3.5H18.5ZM17.5 8L8 17.5H16.5V16.5H17.5V8Z' fill='%231B67FF'/%3e%3c/svg%3e"},{toolName:zo.Line,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M16.5 3.5H18.5H20.5V5.5V7.5H18.5H18L7.5 18V18.5V20.5H5.5H3.5V18.5V16.5H5.5H6.17157L16.5 6.17157V5.5V3.5Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M16.5 3.5H18.5H20.5V5.5V7.5H18.5H18L7.5 18V18.5V20.5H5.5H3.5V18.5V16.5H5.5H6.17157L16.5 6.17157V5.5V3.5Z' fill='%231B67FF'/%3e%3c/svg%3e",pattern:zo.Line},{toolName:zo.Point,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11 7.5V2.5H13V7.5H11ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12ZM21.5 11H16.5V13H21.5V11ZM2.5 11H7.5V13H2.5V11ZM11 16.5V21.5H13V16.5H11Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11 7.5V2.5H13V7.5H11ZM15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12ZM21.5 11H16.5V13H21.5V11ZM2.5 11H7.5V13H2.5V11ZM11 16.5V21.5H13V16.5H11Z' fill='%231B67FF'/%3e%3c/svg%3e",pattern:"drawPoint"},{toolName:zo.Tag,commonSvg:yu,selectedSvg:yu,pattern:zo.Tag}],Pu=[zo.Tag,zo.Text],ju=function(e){var t=Ql(),n=Object(os.a)().t,i=_l((function(e){return e.annotation.currentToolName})),a=e.toolsBasicConfig;return u.a.createElement("div",{className:"lbc-left-sider"},a&&a.length>0&&a.map((function(e){var a=null==Au?void 0:Au.find((function(t){return(null==t?void 0:t.toolName)===e.tool}));return Pu.indexOf(e.tool)<0?u.a.createElement(xu.a,{key:e.tool,content:n(e.tool),trigger:"hover"},u.a.createElement("a",{onClick:function(n){t(Xl),t(Gl(e.tool)),n.stopPropagation()}},u.a.createElement("img",{title:e.tool,className:"lb-left-item",src:e.tool===i?null==a?void 0:a.selectedSvg:null==a?void 0:a.commonSvg}))):u.a.createElement("div",{key:e.tool})})),u.a.createElement(Iu,null))},Tu="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 12.3334C10.2091 12.3334 12.2091 10.889 14 8.00008C12.2091 5.11119 10.2091 3.66675 8 3.66675C5.79086 3.66675 3.79086 5.11119 2 8.00008C3.79086 10.889 5.79086 12.3334 8 12.3334Z' stroke='black' stroke-opacity='0.36' stroke-width='1.33333'/%3e%3cpath d='M9.66667 8.00008C9.66667 8.92056 8.92047 9.66675 8 9.66675C7.07953 9.66675 6.33333 8.92056 6.33333 8.00008C6.33333 7.07961 7.07953 6.33341 8 6.33341C8.92047 6.33341 9.66667 7.07961 9.66667 8.00008Z' stroke='black' stroke-opacity='0.36' stroke-width='1.33333'/%3e%3c/svg%3e",Eu="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.42999 0.667236C6.18653 0.667236 5.96243 0.799955 5.8454 1.01345L4.93884 2.66724H2.99967H1.33366C0.965469 2.66724 0.666992 2.96571 0.666992 3.3339C0.666992 3.70209 0.965469 4.00057 1.33366 4.00057H2.33301V14.6672C2.33301 15.0354 2.63148 15.3339 2.99967 15.3339H12.9997C13.3679 15.3339 13.6663 15.0354 13.6663 14.6672V4.00057H14.667C15.0352 4.00057 15.3337 3.70209 15.3337 3.3339C15.3337 2.96571 15.0352 2.66724 14.667 2.66724H12.9997H11.0656L10.18 1.01843C10.0638 0.802161 9.83819 0.667236 9.59269 0.667236H6.42999ZM9.55214 2.66724L9.19404 2.00057H6.82481L6.45936 2.66724H9.55214ZM5.33366 4.00057H3.66634V14.0006H12.333V4.00057H10.667H5.33366ZM6.66569 5.99927C7.03388 5.99927 7.33236 6.29774 7.33236 6.66593V10.9993C7.33236 11.3675 7.03388 11.6659 6.66569 11.6659C6.2975 11.6659 5.99902 11.3675 5.99902 10.9993V6.66593C5.99902 6.29774 6.2975 5.99927 6.66569 5.99927ZM10.0003 6.66593C10.0003 6.29774 9.70185 5.99927 9.33366 5.99927C8.96547 5.99927 8.66699 6.29774 8.66699 6.66593V10.9993C8.66699 11.3675 8.96547 11.6659 9.33366 11.6659C9.70185 11.6659 10.0003 11.3675 10.0003 10.9993V6.66593Z' fill='black' fill-opacity='0.36'/%3e%3c/svg%3e",Du="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M4.66667 4.83325C3.76988 5.49992 2.86163 6.61 2 7.99992C3.79086 10.8888 5.79086 12.3333 8 12.3333C9.10818 12.3333 10.1637 11.9698 11.1667 11.2428M5.82117 4.16659C6.33333 3.66659 7.24959 3.66659 8 3.66659C10.2091 3.66659 12.2091 5.11103 14 7.99992C13.4115 8.94929 12.8004 9.74266 12.1667 10.38M2.28418 2.36743L13.7157 13.799M9.66667 7.99992C9.66667 8.92039 8.92047 9.66659 8 9.66659C7.07953 9.66659 6.33333 8.92039 6.33333 7.99992C6.33333 7.07944 7.07953 6.33325 8 6.33325C8.92047 6.33325 9.66667 7.07944 9.66667 7.99992Z' stroke='black' stroke-opacity='0.36' stroke-width='1.33333'/%3e%3c/svg%3e",Mu=n(1089),Ru=Object.defineProperty,Nu=Object.defineProperties,Vu=Object.getOwnPropertyDescriptors,Hu=Object.getOwnPropertySymbols,Bu=Object.prototype.hasOwnProperty,Zu=Object.prototype.propertyIsEnumerable,zu=function(e,t,n){return t in e?Ru(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Fu=function(e,t){for(var n in t||(t={}))Bu.call(t,n)&&zu(e,n,t[n]);if(Hu){var i,a=Object(Se.a)(Hu(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Zu.call(t,n)&&zu(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Uu=function(e,t){return Nu(e,Vu(t))},Ju=function(e,t){var n=e.title,i=e.okWord,a=e.content,r=e.cancelWord,o=e.closable,c=void 0===o||o,l=Object(s.useState)(!1),d=Object(G.a)(l,2),h=d[0],g=d[1],f=Object(s.useState)(!1),b=Object(G.a)(f,2),p=b[0],v=b[1],m=Object(s.useState)({left:0,top:0}),y=Object(G.a)(m,2),x=y[0],O=y[1],w=function(e){g(!1)},k=function(t){var n;null==(n=null==e?void 0:e.cancelEvent)||n.call(e),g(!1)};Object(s.useImperativeHandle)(t,(function(){return{switchModal:function(e){g(e)},switchSetBounds:function(e){O(e)}}})),Object(s.useEffect)((function(){if(document.getElementsByClassName("ant-modal-content").length>0){var e=document.getElementsByClassName("ant-modal-content")[0].getBoundingClientRect(),t=window.innerHeight-e.height,n=window.innerWidth-e.width;x.top>t&&(document.body.onmousemove=null,O(Uu(Fu({},x),{top:t}))),x.left>n&&(document.body.onmousemove=null,O(Uu(Fu({},x),{left:n}))),x.left<0&&(document.body.onmousemove=null,O(Uu(Fu({},x),{left:0})))}}),[x,e]);return n?u.a.createElement(Mu.a,{mask:!1,footer:null,style:{top:"".concat(x.top,"px"),left:"".concat(e.isSetPosition?x.left+20:x.left-e.width-150,"px"),margin:"0px 0px",maxWidth:e.width},title:u.a.createElement("div",{onMouseDown:function(e){e.preventDefault();var t=e.clientX,n=e.clientY;document.body.onmousemove=function(e){var i=e.clientX-t+x.left,a=e.clientY-n+x.top;(function(e,t,n,i){var a=document.body.clientHeight,r=document.body.clientWidth;return!(e<20&&n>e||e>r-20&&n<e||t<20&&i>t||t>a-20&&i<t)||(document.body.onmousemove=null,document.body.onmouseup=null,!1)})(e.clientX,e.clientY,t,n)&&O({left:i,top:a})},document.body.onmouseup=function(){document.body.onmousemove=null}},style:{width:"100%",cursor:"move"},onMouseOver:function(){p&&v(!1)},onMouseOut:function(){v(!0)}},n),closable:c,visible:h,okText:i,cancelText:r,onOk:w,onCancel:k},a):u.a.createElement(Mu.a,{mask:!1,footer:null,style:{top:"".concat(x.top,"px"),left:"".concat(x.left,"px"),margin:"0px 0px",maxWidth:e.width,height:e.height},bodyStyle:{padding:"16px 12px"},closable:c,visible:h,okText:i,cancelText:r,onOk:w,onCancel:k},a)},Wu=Object(s.forwardRef)(Ju),Xu=n(5),Gu=n.n(Xu),qu=u.a.createContext({pointCloudBoxList:[],polygonList:[],selectedID:"",selectedIDs:[],valid:!0,radiuses:"".concat(xt),zRange:mt,pointSize:yt,zoom:1,setSelectedIDs:function(){},setPointCloudResult:function(){},setPointCloudValid:function(){},setTopViewInstance:function(){},setSideViewInstance:function(){},setBackViewInstance:function(){},setMainViewInstance:function(){},addSelectedID:function(){},selectedAllBoxes:function(){},addPointCloudBox:function(){},setPolygonList:function(){},setRadiuses:function(){},setZrange:function(){},setPointSize:function(){},setZoom:function(){}}),Ku=function(e){var t=e.children,n=Object(s.useState)([]),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(s.useState)([]),c=Object(G.a)(o,2),l=c[0],d=c[1],h=Object(s.useState)([]),g=Object(G.a)(h,2),f=g[0],b=g[1],p=Object(s.useState)(!0),v=Object(G.a)(p,2),m=v[0],y=v[1],x=Object(s.useState)(1),O=Object(G.a)(x,2),w=O[0],k=O[1],L=Object(s.useState)(),C=Object(G.a)(L,2),S=C[0],I=C[1],A=Object(s.useState)(),P=Object(G.a)(A,2),j=P[0],T=P[1],E=Object(s.useState)(),D=Object(G.a)(E,2),M=D[0],R=D[1],N=Object(s.useState)(),V=Object(G.a)(N,2),H=V[0],B=V[1],Z=Object(s.useState)("".concat(xt)),z=Object(G.a)(Z,2),F=z[0],U=z[1],J=Object(s.useState)(mt),W=Object(G.a)(J,2),X=W[0],q=W[1],K=Object(s.useState)(yt),Y=Object(G.a)(K,2),Q=Y[0],_=Y[1],$=Object(s.useMemo)((function(){return 1===f.length?f[0]:""}),[f]),ee=Object(s.useMemo)((function(){var e=a.find((function(e){return e.id===$})),t=function(e){void 0===e&&b([]),"string"==typeof e&&b([e]),Array.isArray(e)&&b(Array.from(new Set(e)))};return{selectedID:$,pointCloudBoxList:a,selectedIDs:f,setPointCloudResult:r,setSelectedIDs:t,addPointCloudBox:function(e){if(a){var t,n=[],i=Object(Se.a)(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id!==e.id&&n.push(o)}}catch(e){i.e(e)}finally{i.f()}r(n.concat(e))}},valid:m,selectedPointCloudBox:e,setPointCloudValid:function(e){y(!1!==e)},addSelectedID:function(e){f.includes(e)?t(f.filter((function(t){return t!==e}))):t([].concat(Object(Ne.a)(f),[e]))},selectedAllBoxes:function(){t(a.map((function(e){return e.id})))},topViewInstance:S,setTopViewInstance:I,sideViewInstance:j,setSideViewInstance:T,backViewInstance:M,setBackViewInstance:R,mainViewInstance:H,setMainViewInstance:B,polygonList:l,setPolygonList:d,zoom:w,setZoom:k,radiuses:F,setRadiuses:U,zRange:X,setZrange:q,pointSize:Q,setPointSize:_}}),[m,f,a,l,S,j,M,H,w,X,Q,F]);return u.a.createElement(qu.Provider,{value:ee},t)},Yu=n(1090),Qu=n(1082),_u=Object.defineProperty,$u=Object.defineProperties,ed=Object.getOwnPropertyDescriptors,td=Object.getOwnPropertySymbols,nd=Object.prototype.hasOwnProperty,id=Object.prototype.propertyIsEnumerable,ad=function(e,t,n){return t in e?_u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},rd=Yu.a.Option,od=function(){var e=Ql(),t=_l((function(e){return e.annotation.attributeList})),n=_l((function(e){return e.annotation.imgList})),i=_l((function(e){return e.annotation.imgIndex})),a=_l((function(e){return e.annotation.toolInstance})),r=Object(s.useContext)(qu),o=_l((function(e){return e.annotation.currentToolName})),c=function(e){if("pointCloudTool"!==o){var t,n=[],i=Object(Se.a)(Au);try{for(i.s();!(t=i.n()).done;){var r=t.value;if(r.toolName!==o&&e[r.toolName]){var c={toolName:r.toolName,result:e[r.toolName].result};n.push(c)}r.toolName===o&&a.setResult(e[r.toolName].result)}}catch(e){i.e(e)}finally{i.f()}a.setPrevResultList(n),a.render()}},l=function(t,a,o,l){var s=JSON.parse(n[i].result);if(s[a].result&&s[a].result.length>0){var u=s[a].result.map((function(e){return e.order===t?function(e,t){return $u(e,ed(t))}(function(e,t){for(var n in t||(t={}))nd.call(t,n)&&ad(e,n,t[n]);if(td){var i,a=Object(Se.a)(td(t));try{for(a.s();!(i=a.n()).done;)n=i.value,id.call(t,n)&&ad(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},e),{attribute:o,textAttribute:l}):e}));s[a].result=u}n[i].result=JSON.stringify(s),e(El(n)),(null==r?void 0:r.mainViewInstance)||c(s)};return{generateContent:function(e,n){var i,a=[],r=Object(Se.a)(t);try{for(r.s();!(i=r.n()).done;){var o=i.value;a.push(u.a.createElement(rd,{key:o.key},o.value))}}catch(e){r.e(e)}finally{r.f()}return u.a.createElement(Qu.a,{name:"basic",layout:"vertical",key:n.attributeName+e.textAttribute,initialValues:{changeAttribute:n.attributeName,description:e.textAttribute},autoComplete:"off",onFieldsChange:function(t,n){l(e.order,e.toolName,n[0].value,n[1].value)}},u.a.createElement(Qu.a.Item,{label:"标签",name:"changeAttribute",rules:[{required:!1}]},u.a.createElement(Yu.a,{style:{width:"100%"}},a)),u.a.createElement(Qu.a.Item,{label:"属性",name:"description",rules:[{required:!1}]},u.a.createElement(Is.a.TextArea,null)))},updateLabelResultByOrderAndToolName:l,updateCanvasView:c}},cd=Object.defineProperty,ld=Object.defineProperties,sd=Object.getOwnPropertyDescriptors,ud=Object.getOwnPropertySymbols,dd=Object.prototype.hasOwnProperty,hd=Object.prototype.propertyIsEnumerable,gd=function(e,t,n){return t in e?cd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},fd=function(e,t){for(var n in t||(t={}))dd.call(t,n)&&gd(e,n,t[n]);if(ud){var i,a=Object(Se.a)(ud(t));try{for(a.s();!(i=a.n()).done;){n=i.value;hd.call(t,n)&&gd(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},bd=function(e,t){return ld(e,sd(t))},pd=cu.a.Panel,vd=[De.Rect,De.Point,De.Line,De.Polygon,De.PointCloud],md=Object(kc.b)((function(e){return{imgList:Object(Ne.a)(e.annotation.imgList),imgIndex:e.annotation.imgIndex,toolInstance:e.annotation.toolInstance,copyToolInstance:fd({},e.annotation.toolInstance),currentToolName:e.annotation.currentToolName,attributeList:e.annotation.attributeList,basicResultList:e.annotation.basicResultList}}),null,null,{context:Yl})((function(e){var t=e.imgIndex,n=e.imgList,i=e.toolInstance,a=e.currentToolName,r=e.copyToolInstance,o=(e.attributeList,e.basicResultList),c=Object(s.useState)([]),l=Object(G.a)(c,2),d=l[0],h=l[1],g=Ql(),f=Object(s.useState)(u.a.createElement("div",null)),b=Object(G.a)(f,2),p=b[0],v=b[1],m=Object(s.useState)(),y=Object(G.a)(m,2),x=y[0],O=y[1],w=Object(s.useState)({toolName:"",order:-1,isVisible:!0,icon:"",textAttribute:""}),k=Object(G.a)(w,2),L=k[0],C=k[1],S=Object(s.useContext)(qu),I=od(),A=I.generateContent,P=I.updateCanvasView,j=Object(s.useRef)();Object(s.useEffect)((function(){T()}),[]);var T=function(){var e=JSON.stringify({toolName:"",order:-1,isVisible:!0,icon:"",textAttribute:""});localStorage.setItem("toolInfo",e)};Object(s.useEffect)((function(){var e,i=a===De.Rect?null==r?void 0:r.selectedRectID:null==r?void 0:r.selectedID;if("pointCloudTool"===a&&(i=S.selectedID),i&&n&&n.length>t){var o=localStorage.getItem("toolInfo");if(o&&o.length>0){var c,l=JSON.parse(n[t].result),s=Object(Se.a)(null==(e=l[a])?void 0:e.result);try{for(s.s();!(c=s.n()).done;){var u=c.value;u.id===i&&O(u.order)}}catch(e){s.e(e)}finally{s.f()}}}else O(0)}),[r,a,S.selectedID]),Object(s.useEffect)((function(){if(n&&n.length>0&&n.length>t){var e,i=JSON.parse(n[t].result),a=Object.keys(i),r=[],o=new Map,c=Object(Se.a)(Au);try{for(c.s();!(e=c.n()).done;){var l=e.value;if(a.indexOf(l.toolName)>=0&&"tagTool"!==l.toolName){var s=i[l.toolName].result;if(s&&Array.isArray(s)){var u,d=Object(Se.a)(s);try{for(d.s();!(u=d.n()).done;){var g=u.value;o.has(g.attribute)?o.get(g.attribute).push({toolName:l.toolName,order:g.order,icon:l.commonSvg,isVisible:g.isVisible,textAttribute:g.textAttribute}):o.set(g.attribute,[{toolName:l.toolName,order:g.order,icon:l.commonSvg,isVisible:g.isVisible,textAttribute:g.textAttribute}])}}catch(e){d.e(e)}finally{d.f()}}}}}catch(e){c.e(e)}finally{c.f()}var f,b=Object(Se.a)(o.keys());try{for(b.s();!(f=b.n()).done;){var p=f.value,v=o.get(p),m=!1;if(v&&v.length>0){var y,x=Object(Se.a)(v);try{for(x.s();!(y=x.n()).done;){if(y.value.isVisible){m=!0;break}}}catch(e){x.e(e)}finally{x.f()}}r.push({isVisible:m,attributeName:p,toolInfo:o.get(p)})}}catch(e){b.e(e)}finally{b.f()}h(r)}}),[n,t]);var E=function(e){if(n&&n.length>0&&n.length>t){var i=JSON.parse(n[t].result);if(i[e.toolName].result&&i[e.toolName].result.length>0){var a=i[e.toolName].result.map((function(t){return t.order===e.order?bd(fd({},t),{isVisible:e.isVisible,textAttribute:e.textAttribute}):t}));i[e.toolName].result=a}n[t].result=JSON.stringify(i),g(El(n)),setTimeout((function(){var e;null==(e=null==S?void 0:S.mainViewInstance)||e.emit("refreshPointCloud3dView")}),50),P(i)}},D=function(e){var i=JSON.parse(n[t].result),a=[];e.toolInfo.length>0&&(a=e.toolInfo.map((function(t){return bd(fd({},t),{isVisible:e.isVisible})}))),e.toolInfo=a;var r=d.map((function(t,n){return t.attributeName===e.attributeName?fd({},e):t}));if(h(r),e.toolInfo&&e.toolInfo.length>0){var o,c=Object(Se.a)(e.toolInfo);try{var l=function(){var t=o.value;if(i[t.toolName].result&&i[t.toolName].result.length>0){var n=i[t.toolName].result.map((function(n){return n.order===t.order?bd(fd({},n),{isVisible:e.isVisible}):n}));i[t.toolName].result=n}};for(c.s();!(o=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}n[t].result=JSON.stringify(i),g(El(n)),setTimeout((function(){var e;null==(e=null==S?void 0:S.mainViewInstance)||e.emit("refreshPointCloud3dView")}),50),P(i)}};Object(s.useEffect)((function(){if(n&&o&&n.length>t){var e=localStorage.getItem("toolInfo"),r=o.reduce((function(e,t){return e.push(t.toolName),e}),[]);if(e&&e.length>0){var c=JSON.parse(e),l=JSON.parse(n[t].result);if(i&&c.toolName&&c.toolName===a&&r.indexOf(c.toolName)<0&&l[c.toolName].result&&l[c.toolName].result.length>0){var s,u=Object(Se.a)(l[c.toolName].result);try{for(u.s();!(s=u.n()).done;){var d=s.value;d.order===c.order&&(c.toolName===De.Line?(null==i||i.setActiveAreaByPoint(null==d?void 0:d.pointList[0]),T()):(c.toolName===De.Point||c.toolName===De.Polygon||c.toolName===De.Rect)&&(null==i||i.setSelectedID(d.id),T()))}}catch(e){u.e(e)}finally{u.f()}}}}}),[i,o,L]);var M=Object(s.useMemo)((function(){return d.map((function(e,t){return e.attributeName}))}),[d]);return d&&0!==d.length?u.a.createElement("div",{className:"attributeResult"},u.a.createElement(Wu,{title:"详细信息",ref:j,width:333,okWord:"确认",cancelWord:"取消",cancelEvent:function(){setTimeout((function(){var e;null==(e=null==S?void 0:S.mainViewInstance)||e.emit("refreshPointCloud3dView")}),50)},content:p}),u.a.createElement(cu.a,{key:M.join(""),defaultActiveKey:M,expandIcon:pu},d&&d.length>0&&d.map((function(e,i){return u.a.createElement(pd,{header:u.a.createElement("div",{className:"attributeResultLi"},u.a.createElement("span",{title:e.attributeName,style:{marginRight:"36px",width:"84px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},e.attributeName)," ",u.a.createElement("div",{className:"attributeResultRightImgBox"},e.isVisible?u.a.createElement("img",{className:"hoverShow",id:"".concat(e.attributeName),onClick:function(t){t.stopPropagation(),D(bd(fd({},e),{isVisible:!1}))},onMouseEnter:function(e){e.stopPropagation()},onMouseLeave:function(e){e.stopPropagation()},src:Tu,style:{marginRight:"10px"}}):u.a.createElement("img",{onClick:function(t){t.stopPropagation(),D(bd(fd({},e),{isVisible:!0}))},src:Du,style:{marginRight:"10px"}}),u.a.createElement("img",{src:Eu,className:"hoverShow",onClick:function(i){i.stopPropagation(),function(e){var i=[],a=function(e,t){var n=0;if((null==e?void 0:e.length)>0)for(;n<e.length&&t>=e[n];)n++;return n};if((null==e?void 0:e.toolInfo)&&e.toolInfo.length>0){var r,o=e.toolInfo.map((function(e){return e.order})).sort((function(e,t){return e-t})),c=JSON.parse(n[t].result),l=fd({},c),s=Object.keys(c).filter((function(e){return vd.indexOf(e)>=0})),u=Object(Se.a)(s);try{for(u.s();!(r=u.n()).done;){var d=r.value;l[d].result=c[d].result.reduce((function(e,t){return o.indexOf(t.order)<0?(t.order=t.order-a(o,t.order),e.push(t)):t.id&&i.push(t.id),e}),[])}}catch(e){u.e(e)}finally{u.f()}n[t].result=JSON.stringify(l),g(El(n)),setTimeout((function(){var e;null==(e=null==S?void 0:S.mainViewInstance)||e.emit("deleteBoxes",i)}),50),P(l)}}(e)}}))),key:e.attributeName},e.toolInfo&&e.toolInfo.length>0&&e.toolInfo.map((function(i,r){return u.a.createElement("div",{key:i.toolName+i.order,className:Gu()({attributeResultLi:!0,attributeResultLiActive:i.order===x}),onClick:function(e){e.stopPropagation(),function(e){var t,n=JSON.stringify(e);localStorage.setItem("toolInfo",n),C(e),"pointCloudTool"!==a?g(Gl(e.toolName)):null==(t=null==S?void 0:S.mainViewInstance)||t.emit("setSelectedBoxByOrder",e.order)}(i)}},u.a.createElement("span",null,i.order,"."),u.a.createElement("img",{src:i.icon,style:{marginLeft:"5px",marginRight:"5px"}}),u.a.createElement("span",{title:e.attributeName,style:{marginRight:"36px",width:"84px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},e.attributeName),u.a.createElement("div",{className:"attributeResultRightImgBox"},u.a.createElement("img",{id:"".concat(i.toolName+i.order," + edit"),onClick:function(t){t.stopPropagation();var n=document.getElementById("".concat(i.toolName+i.order," + edit")).getBoundingClientRect(),a={left:n.left-50,top:n.top};j.current.switchModal(!0),j.current.switchSetBounds(a),v(A(i,e))},src:"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.73242 3.31152L12.3553 5.93445L6.01661 12.2732L3.39369 9.65026L9.73242 3.31152Z' fill='black' fill-opacity='0.36'/%3e%3cpath d='M10.5725 2.4714C10.8329 2.21106 11.255 2.21105 11.5153 2.4714L13.1955 4.15152C13.4558 4.41187 13.4558 4.83398 13.1955 5.09433L12.7926 5.49723L10.1696 2.87431L10.5725 2.4714Z' fill='black' fill-opacity='0.36'/%3e%3cpath d='M5.57898 12.7101L2.95605 10.0872L1.85541 13.3891C1.76855 13.6497 2.01646 13.8976 2.27705 13.8107L5.57898 12.7101Z' fill='black' fill-opacity='0.36'/%3e%3c/svg%3e",className:"hoverShow",style:{left:10,position:"absolute"}}),i.isVisible?u.a.createElement("img",{className:"hoverShow",id:"".concat(i.toolName+i.order),onClick:function(e){e.stopPropagation();var t=bd(fd({},i),{isVisible:!1});E(t)},onMouseLeave:function(e){var t;e.stopPropagation(),null==(t=document.getElementById("".concat(i.toolName+i.order)))||t.setAttribute("src",Tu)},src:Tu,style:{left:30,position:"absolute"}}):u.a.createElement("img",{onClick:function(e){e.stopPropagation();var t=bd(fd({},i),{isVisible:!0});E(t)},src:Du,style:{left:30,position:"absolute"}}),u.a.createElement("img",{style:{left:50,position:"absolute"},src:Eu,className:"hoverShow",onClick:function(e){e.stopPropagation(),function(e){var i=JSON.parse(n[t].result),a=fd({},i),r=[];if(i[e.toolName].result&&i[e.toolName].result.length>0){var o,c=Object.keys(i).filter((function(e){return vd.indexOf(e)>=0})),l=Object(Se.a)(c);try{for(l.s();!(o=l.n()).done;){var s=o.value;a[s].result=i[s].result.reduce((function(t,n){return n.order!==e.order?(n.order>e.order&&(n.order=n.order-1),t.push(n)):n.id&&r.push(n.id),t}),[])}}catch(e){l.e(e)}finally{l.f()}}n[t].result=JSON.stringify(a),g(El(n)),setTimeout((function(){var e;null==(e=null==S?void 0:S.mainViewInstance)||e.emit("deleteBoxes",r)}),50),P(a)}(i)}})))})))})))):u.a.createElement("div",{className:"containerBox"},u.a.createElement("img",{className:"emptyAttributeImg",src:"data:image/png;base64,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"}))})),yd=Object.defineProperty,xd=Object.defineProperties,Od=Object.getOwnPropertyDescriptors,wd=Object.getOwnPropertySymbols,kd=Object.prototype.hasOwnProperty,Ld=Object.prototype.propertyIsEnumerable,Cd=function(e,t,n){return t in e?yd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Sd=i.EVideoToolName;!function(e){e.Hover="#666fff",e.Normal="#cccccc"}(vu||(vu={}));var Id=[De.PointCloud].concat(Object(Ne.a)(vt)),Ad=function(e){var t=Object(s.useState)(""),n=Object(G.a)(t,2),i=n[0],a=n[1],r=Object(s.useState)([]),o=Object(G.a)(r,2),c=o[0],l=o[1],d=e.stepInfo,h=Ql(),g=Object(s.useContext)(qu),f=Object(s.useRef)(),b=Object(s.useRef)(),p=Object(os.a)().t,v=_l((function(e){return{annotation:e.annotation,imgAttribute:e.imgAttribute}})).annotation,m=v.toolInstance,y=v.imgList,x=v.imgIndex,O=v.currentToolName,w=[De.Tag,Sd.VideoTagTool].includes(null==d?void 0:d.tool),k=e.isBegin||w,L=function(e){var t,n;if(e.keyCode===Ei.Alt&&e.preventDefault(),e.keyCode===Ei.Z)if(e.ctrlKey)return e.shiftKey?null==(t=b.current)||t.click():null==(n=f.current)||n.click(),!1};Object(s.useEffect)((function(){return document.addEventListener("keydown",L),function(){document.removeEventListener("keydown",L)}}),[]);var C=function(e){setTimeout((function(){(null==g?void 0:g.mainViewInstance)?(null==g||g.mainViewInstance.clearBoxList(),null==g||g.mainViewInstance.emit("refreshPointCloud3dView")):function(e){var t,n=[],i=Object(Se.a)(Au);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.toolName!==O&&e[a.toolName]){var r={toolName:a.toolName,result:e[a.toolName].result};n.push(r)}a.toolName===O&&m.setResult(e[a.toolName].result)}}catch(e){i.e(e)}finally{i.f()}m.setPrevResultList(n),m.render()}(e)}),10)},S=function(){var e,t,n;if(y&&y.length>0&&y.length>x){var i,a=0,r=JSON.parse(y[x].result),o=Object(Se.a)(Id);try{for(o.s();!(i=o.n()).done;){var s=i.value;(null==(e=r[s])?void 0:e.result)&&(a+=null==(t=r[s])?void 0:t.result.length)}}catch(e){o.e(e)}finally{o.f()}var u,d=Object(Se.a)(Id);try{var g=function(){var e=u.value,t=null==(n=r[e])?void 0:n.result;if(t&&t.length>0){var i=t.reduce((function(t,n){return n.order!==a?t.push(n):(c.push(function(e,t){return xd(e,Od(t))}(function(e,t){for(var n in t||(t={}))kd.call(t,n)&&Cd(e,n,t[n]);if(wd){var i,a=Object(Se.a)(wd(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Ld.call(t,n)&&Cd(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},n),{toolName:e})),l(c)),t}),[]);r[e].result=i}};for(d.s();!(u=d.n()).done;)g()}catch(e){d.e(e)}finally{d.f()}y[x].result=JSON.stringify(r),h(El(y)),C(r)}},I=[{toolName:"revocation",show:!0,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M7.97454 2.29297L4.79256 5.47495L4.08545 6.18206L4.79256 6.88916L7.97454 10.0711L9.38875 8.65693L7.7319 7.00008H13.2498C16.4254 7.00008 18.9998 9.57444 18.9998 12.7501C18.9998 15.9257 16.4254 18.5001 13.2498 18.5001H8.24976V20.5001H13.2498C17.53 20.5001 20.9998 17.0303 20.9998 12.7501C20.9998 8.46987 17.53 5.00008 13.2498 5.00008H8.09586L9.38875 3.70718L7.97454 2.29297Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M7.97454 2.29297L4.79256 5.47495L4.08545 6.18206L4.79256 6.88916L7.97454 10.0711L9.38875 8.65693L7.7319 7.00008H13.2498C16.4254 7.00008 18.9998 9.57444 18.9998 12.7501C18.9998 15.9257 16.4254 18.5001 13.2498 18.5001H8.24976V20.5001H13.2498C17.53 20.5001 20.9998 17.0303 20.9998 12.7501C20.9998 8.46987 17.53 5.00008 13.2498 5.00008H8.09586L9.38875 3.70718L7.97454 2.29297Z' fill='%231B67FF'/%3e%3c/svg%3e",click:function(){w||S()},style:{opacity:!0===k?.4:1,fontSize:"12px",color:k||"restore"!==i?vu.Normal:vu.Hover},ref:f},{toolName:"restore",show:!0,commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' fill='white'/%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M17.1109 2.29297L20.2929 5.47495L21 6.18206L20.2929 6.88916L17.1109 10.0711L15.6967 8.65693L17.3536 7.00008H11.8357C8.66005 7.00008 6.08569 9.57444 6.08569 12.7501C6.08569 15.9257 8.66005 18.5001 11.8357 18.5001H16.8357V20.5001H11.8357C7.55548 20.5001 4.08569 17.0303 4.08569 12.7501C4.08569 8.46987 7.55548 5.00008 11.8357 5.00008H16.9896L15.6967 3.70718L17.1109 2.29297Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e",selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M17.1109 2.29297L20.2929 5.47495L21 6.18206L20.2929 6.88916L17.1109 10.0711L15.6967 8.65693L17.3536 7.00008H11.8357C8.66005 7.00008 6.08569 9.57444 6.08569 12.7501C6.08569 15.9257 8.66005 18.5001 11.8357 18.5001H16.8357V20.5001H11.8357C7.55548 20.5001 4.08569 17.0303 4.08569 12.7501C4.08569 8.46987 7.55548 5.00008 11.8357 5.00008H16.9896L15.6967 3.70718L17.1109 2.29297Z' fill='%231B67FF'/%3e%3c/svg%3e",click:function(){w||function(){var e,t,n=JSON.parse(y[x].result),i=c.pop();if(i){var a,r=0,o=Object(Se.a)(Id);try{for(o.s();!(a=o.n()).done;){var s=null==(e=n[a.value])?void 0:e.result;s&&s.length>0&&(r+=s.length)}}catch(e){o.e(e)}finally{o.f()}i.order=r+1;var u,d=Object(Se.a)(Id);try{for(d.s();!(u=d.n()).done;){var g=u.value,f=null==(t=n[g])?void 0:t.result;i.toolName===g&&(delete i.toolName,f=f&&f.length>0?[].concat(Object(Ne.a)(f),[i]):[i],n[g].result=f)}}catch(e){d.e(e)}finally{d.f()}y[x].result=JSON.stringify(n),h(El(y)),C(n)}else l([])}()},style:{opacity:!0===k?.4:1,fontSize:"12px",color:k||"revocation"!==i?vu.Normal:vu.Hover},ref:b}];return u.a.createElement("div",{className:"".concat(Bc,"-header__hotKey")},I.map((function(e){return e.show&&u.a.createElement(xu.a,{key:e.toolName,content:p(e.toolName),trigger:"hover"},u.a.createElement("div",{className:"item",onMouseEnter:function(){return a(e.toolName)},onMouseLeave:function(){return a("")}},u.a.createElement("a",{ref:e.ref,className:"item",onClick:e.click},u.a.createElement("img",{className:"singleTool",src:i===e.toolName?e.selectedSvg:e.commonSvg,style:e.style}),u.a.createElement("div",{style:e.style},p(e.title)))))})))},Pd="".concat(Bc,"-sidebar");var jd=Object(kc.b)((function(e){return{currentToolName:e.annotation.currentToolName,imgList:Object(Ne.a)(e.annotation.imgList),toolInstance:e.annotation.toolInstance,imgIndex:e.annotation.imgIndex,resultCollapse:e.toolStyle.resultCollapse}}),null,null,{context:Yl})((function(e){var t=e.imgList,n=e.imgIndex,i=e.currentToolName,a=e.resultCollapse,r=Ql(),o=Object(s.useState)(!1),c=Object(G.a)(o,2),l=c[0],d=c[1],h=Object(s.useState)(!1),g=Object(G.a)(h,2),f=g[0],b=g[1],p=Object(s.useState)(),v=Object(G.a)(p,2),m=v[0],y=v[1],x=Object(s.useState)("1"),O=Object(G.a)(x,2),w=O[0],k=O[1],L=Object(s.useState)(u.a.createElement("div",{className:"rightTab"},u.a.createElement("p",null,"分类"),u.a.createElement("span",{className:"innerWord"},"未完成"))),C=Object(G.a)(L,2),S=C[0],I=C[1],A=Object(s.useState)(),P=Object(G.a)(A,2),j=P[0],T=P[1],E=Object(s.useState)(!1),D=Object(G.a)(E,2),M=D[0],R=D[1],N=_l((function(e){return Fc.getCurrentStepInfo(e.annotation.step,e.annotation.stepList)})),V=Object(s.useState)(!1),H=Object(G.a)(V,2),B=H[0],Z=H[1],z=_l((function(e){return e.annotation.tagConfigList})),F=_l((function(e){return e.annotation.textConfig})),U=_l((function(e){return e.annotation.toolInstance})),J=null==N?void 0:N.tool,W=Object(s.useContext)(qu),X=function(){var e,a,o=JSON.parse(t[n].result),c=[],l=Object(Se.a)(Id);try{for(l.s();!(a=l.n()).done;){var s=a.value,u=null==(e=o[s])?void 0:e.result;u&&u.length>0&&(o[s].result=[],c=c.concat(u.map((function(e){return e.id}))))}}catch(e){l.e(e)}finally{l.f()}t[n].result=JSON.stringify(o),r(El(t)),setTimeout((function(){var e;null==(e=null==W?void 0:W.mainViewInstance)||e.emit("deleteBoxes",c)}),50),function(e){if(i!==zo.PointCloud){var t,n=[],a=Object(Se.a)(Au);try{for(a.s();!(t=a.n()).done;){var r=t.value;if(r.toolName!==i&&e[r.toolName]){var o={toolName:r.toolName,result:e[r.toolName].result};n.push(o)}r.toolName===i&&U.setResult(e[r.toolName].result)}}catch(e){a.e(e)}finally{a.f()}U.setPrevResultList(n),U.render()}}(o)};return Object(s.useLayoutEffect)((function(){var e,i;if(t&&t.length>0){var a=JSON.parse(t[n].result),r=(null==a?void 0:a.textTool)?null==a?void 0:a.textTool:[];if(y(u.a.createElement("div",{className:"rightTab"},u.a.createElement("p",null,"文本描述"),u.a.createElement("span",{className:Gu()("innerWord",{finish:r&&r.length>0&&r.length===F.length})},r&&r.length>0&&r.length===F.length?"已完成":"未完成"))),null==(e=null==a?void 0:a.tagTool)?void 0:e.toolName){var o=(null==a?void 0:a.tagTool)?Object.keys(null==(i=null==a?void 0:a.tagTool.result[0])?void 0:i.result):[];I(u.a.createElement("div",{className:"rightTab"},u.a.createElement("p",null,"分类"),u.a.createElement("span",{className:Gu()("innerWord",{finish:o&&o.length>0&&o.length===z.length})},o&&o.length>0&&o.length===z.length?"已完成":"未完成")))}var c=(null==a?void 0:a.rectTool)?a.rectTool.result:[],l=(null==a?void 0:a.polygonTool)?a.polygonTool.result:[],s=(null==a?void 0:a.lineTool)?a.lineTool.result:[],d=(null==a?void 0:a.pointTool)?a.pointTool.result:[],h=(null==a?void 0:a.pointCloudTool)?a.pointCloudTool.result:[],g=c.length+l.length+s.length+d.length+h.length;T(u.a.createElement("div",{className:"rightTab"},u.a.createElement("p",null,"标注结果"),u.a.createElement("span",{className:"innerWord"},g,"件"))),Z(g>0)}}),[i,w,t,n]),J?a?u.a.createElement("div",null):u.a.createElement("div",{className:"".concat(Pd)},u.a.createElement(Cs.a,{defaultActiveKey:"1",onChange:function(e){k(e)}},z&&z.length>0&&u.a.createElement(Cs.a.TabPane,{tab:S,key:"1"},u.a.createElement("div",{className:"".concat(Pd)},u.a.createElement(mu,null))),u.a.createElement(Cs.a.TabPane,{tab:j,key:"2"},u.a.createElement(md,null),B&&u.a.createElement(Ss.a,{title:"确认清空标注？",open:l,okText:"确认",cancelText:"取消",onConfirm:function(){b(!0),setTimeout((function(){X(),d(!1),b(!1)}),100)},okButtonProps:{loading:f},onCancel:function(){d(!1)}},u.a.createElement("img",{onMouseEnter:function(e){e.stopPropagation(),R(!0)},onMouseLeave:function(e){e.stopPropagation(),R(!1)},onClick:function(){d(!0)},className:"clrearResult",src:M?"data:image/svg+xml,%3csvg width='44' height='17' viewBox='0 0 44 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.57762 1.66724H6.17957L5.99074 2.01764L5.10179 3.66724H1.6665V5.00057H2.99984V14.0006V14.6672H3.6665H12.3332H12.9998V14.0006V5.00057H14.3332V3.66724H11.0665L10.1881 2.02018L9.99984 1.66724H9.59984H6.57762ZM9.55539 3.66724L9.19984 3.00057H6.97566L6.6164 3.66724H9.55539ZM4.33317 5.00057H11.6665V13.3339H4.33317V5.00057ZM5.99984 11.3339V7.00057H7.33317V11.3339H5.99984ZM8.6665 7.00057V11.3339H9.99984V7.00057H8.6665Z' fill='%231B67FF'/%3e%3cpath d='M21.68 3.35249L21.068 3.95249C21.836 4.50449 22.436 5.02049 22.88 5.51249L23.492 4.90049C23 4.38449 22.4 3.86849 21.68 3.35249ZM21.308 6.23249L20.684 6.83249C21.512 7.45649 22.16 8.05649 22.616 8.60849L23.24 7.99649C22.712 7.40849 22.076 6.82049 21.308 6.23249ZM22.496 9.56849C22.04 10.9845 21.488 12.3645 20.852 13.7085L21.644 14.0565C22.244 12.7485 22.772 11.3565 23.252 9.86849L22.496 9.56849ZM27.08 3.19649V3.95249H23.972V4.67249H27.08V5.46449H24.464V6.16049H27.08V6.97649H23.588V7.69649H31.448V6.97649H27.92V6.16049H30.656V5.46449H27.92V4.67249H31.112V3.95249H27.92V3.19649H27.08ZM25.496 10.7445H29.54V11.5965H25.496V10.7445ZM29.54 10.0725H25.496V9.18449H29.54V10.0725ZM25.496 12.2565H29.54V12.9645C29.54 13.2525 29.408 13.3965 29.168 13.3965L28.052 13.3605L28.268 14.1285H29.42C30.056 14.1285 30.38 13.7925 30.38 13.1445V8.47649H24.68V14.2005H25.496V12.2565ZM33.896 9.31649V10.1325H37.556V12.9765H32.888V13.8045H43.124V12.9765H38.432V10.1325H42.116V9.31649H33.896ZM39.116 5.94449L38.66 6.62849C39.824 7.15649 40.964 7.87649 42.068 8.78849L42.56 8.05649C41.528 7.22849 40.376 6.52049 39.116 5.94449ZM36.608 6.02849C35.732 6.83249 34.628 7.48049 33.284 7.97249L33.656 8.76449C35.048 8.20049 36.212 7.49249 37.148 6.65249L36.608 6.02849ZM38.048 3.12449L37.112 3.26849C37.292 3.60449 37.46 3.97649 37.616 4.38449H32.912V6.78449H33.788V5.18849H42.224V6.79649H43.1V4.38449H38.504C38.36 3.91649 38.204 3.49649 38.048 3.12449Z' fill='%231B67FF'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='44' height='17' viewBox='0 0 44 17' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M6.57762 1.66699H6.17957L5.99074 2.0174L5.10179 3.66699H1.6665V5.00033H2.99984V14.0003V14.667H3.6665H12.3332H12.9998V14.0003V5.00033H14.3332V3.66699H11.0665L10.1881 2.01993L9.99984 1.66699H9.59984H6.57762ZM9.55539 3.66699L9.19984 3.00033H6.97566L6.6164 3.66699L9.55539 3.66699ZM4.33317 5.00033H11.6665V13.3337H4.33317V5.00033ZM5.99984 11.3337V7.00033H7.33317V11.3337H5.99984ZM8.6665 7.00033V11.3337H9.99984V7.00033H8.6665Z' fill='black' fill-opacity='0.6'/%3e%3cpath d='M21.68 3.35249L21.068 3.95249C21.836 4.50449 22.436 5.02049 22.88 5.51249L23.492 4.90049C23 4.38449 22.4 3.86849 21.68 3.35249ZM21.308 6.23249L20.684 6.83249C21.512 7.45649 22.16 8.05649 22.616 8.60849L23.24 7.99649C22.712 7.40849 22.076 6.82049 21.308 6.23249ZM22.496 9.56849C22.04 10.9845 21.488 12.3645 20.852 13.7085L21.644 14.0565C22.244 12.7485 22.772 11.3565 23.252 9.86849L22.496 9.56849ZM27.08 3.19649V3.95249H23.972V4.67249H27.08V5.46449H24.464V6.16049H27.08V6.97649H23.588V7.69649H31.448V6.97649H27.92V6.16049H30.656V5.46449H27.92V4.67249H31.112V3.95249H27.92V3.19649H27.08ZM25.496 10.7445H29.54V11.5965H25.496V10.7445ZM29.54 10.0725H25.496V9.18449H29.54V10.0725ZM25.496 12.2565H29.54V12.9645C29.54 13.2525 29.408 13.3965 29.168 13.3965L28.052 13.3605L28.268 14.1285H29.42C30.056 14.1285 30.38 13.7925 30.38 13.1445V8.47649H24.68V14.2005H25.496V12.2565ZM33.896 9.31649V10.1325H37.556V12.9765H32.888V13.8045H43.124V12.9765H38.432V10.1325H42.116V9.31649H33.896ZM39.116 5.94449L38.66 6.62849C39.824 7.15649 40.964 7.87649 42.068 8.78849L42.56 8.05649C41.528 7.22849 40.376 6.52049 39.116 5.94449ZM36.608 6.02849C35.732 6.83249 34.628 7.48049 33.284 7.97249L33.656 8.76449C35.048 8.20049 36.212 7.49249 37.148 6.65249L36.608 6.02849ZM38.048 3.12449L37.112 3.26849C37.292 3.60449 37.46 3.97649 37.616 4.38449H32.912V6.78449H33.788V5.18849H42.224V6.79649H43.1V4.38449H38.504C38.36 3.91649 38.204 3.49649 38.048 3.12449Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e"}))),F&&F.length>0&&u.a.createElement(Cs.a.TabPane,{tab:m,key:"3"},u.a.createElement("div",{className:"".concat(Pd)},u.a.createElement(zs,null))))):null})),Td=n(1070),Ed=n(1068),Dd=n(1069),Md=n(421);var Rd={UpdateImgAttribute:function(e){return{type:Cc.UPDATE_IMG_ATTRIBUTE,payload:e}},InitImgAttribute:function(){return{type:Cc.INIT_IMG_ATTRIBUTE,payload:{}}}};var Nd=Object(kc.b)((function(e){return{imgAttribute:e.imgAttribute}}),null,null,{context:Yl})((function(e){var t=e.imgAttribute,n=t.contrast,i=t.saturation,a=t.brightness,r=Object(os.a)().t,o=Object(Md.a)((function(e){pv.dispatch(Rd.UpdateImgAttribute(e))}),60,{trailing:!0}),c=[{name:"Saturation",min:-100,max:500,step:2,onChange:function(e){return o({saturation:e})},value:i,svg:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e9%a5%b1%e5%92%8c%e5%ba%a6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-481.000000%2c -124.000000)'%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6' transform='translate(481.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e9%a5%b1%e5%92%8c%e5%ba%a6-(1)' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cg transform='translate(2.000000%2c 0.000000)'%3e %3cpath d='M6.28551136%2c15.9450284 C2.821875%2c15.9450284 0.0127840909%2c13.1268466 0.0127840909%2c9.67230114 C0.0127840909%2c5.09048295 5.24914773%2c0.00866477273 6.28551136%2c0.00866477273 C7.15823864%2c0.00866477273 12.5582386%2c5.39957386 12.5582386%2c9.67230114 C12.5582386%2c13.1268466 9.74914773%2c15.9450284 6.28551136%2c15.9450284 Z M6.26732955%2c1.21775568 C5.21278409%2c1.96321023 1.14914773%2c5.79957386 1.14914773%2c9.66321023 C1.14914773%2c12.4995739 3.45823864%2c14.8086648 6.29460227%2c14.8086648 C9.13096591%2c14.8086648 11.4400568%2c12.4995739 11.4400568%2c9.66321023 C11.4309659%2c6.2359375 7.30369318%2c2.04502841 6.26732955%2c1.21775568 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3cpath d='M9.20369318%2c6.91775568 C10.7764205%2c8.49048295 10.7764205%2c11.0450284 9.20369318%2c12.6177557 C7.63096591%2c14.190483 5.07642045%2c14.190483 3.50369318%2c12.6177557 L9.20369318%2c6.91775568 Z' id='%e8%b7%af%e5%be%84'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},{name:"Contrast",min:-100,max:300,step:2,onChange:function(e){return o({contrast:e})},value:n,svg:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e6%94%be%e5%a4%a7%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-437.000000%2c -125.000000)'%3e %3cg id='%e6%94%be%e5%a4%a7' transform='translate(437.000000%2c 125.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg id='%e5%af%b9%e6%af%94%e5%ba%a6' mask='url(%23mask-2)' fill='%23666666' fill-rule='nonzero'%3e %3cpath d='M2.25471549%2c13.5345736 L2.28377061%2c13.5698491 C3.71170509%2c15.0309327 5.68912337%2c15.9414593 7.8824479%2c15.9747872 L7.90975417%2c15.9750853 C10.0876767%2c15.988818 12.0717327%2c15.1310159 13.5224026%2c13.7355349 L13.5574794%2c13.6912368 C15.0213452%2c12.2613547 15.9294671%2c10.2834793 15.953216%2c8.07801203 C15.9769053%2c5.87765227 15.1116308%2c3.87626648 13.6789465%2c2.40995617 C12.2489055%2c0.958829251 10.2741105%2c0.0535890334 8.08152127%2c0.0199232337 L8.054215%2c0.0194677151 C5.86069173%2c0.00607137034 3.86417498%2c0.868563587 2.40521788%2c2.28856852 C0.946896739%2c3.72375685 0.0338461956%2c5.70596465 0.0101569293%2c7.90634429 C-0.0134329775%2c10.0976219 0.837115237%2c12.0836653 2.25471549%2c13.5345736 Z M8.67367358%2c1.27768049 C10.286452%2c1.44950722 11.7315969%2c2.17528929 12.8057027%2c3.27521081 L12.8101743%2c3.27525056 L12.8057027%2c3.27521081 C14.0068005%2c4.50975576 14.7514227%2c6.20240594 14.7313703%2c8.06481599 C14.7112582%2c9.93241304 13.9304662%2c11.5989096 12.7029763%2c12.8173769 L12.6725102%2c12.8468295 C11.5832608%2c13.8981403 10.127702%2c14.5878121 8.52895439%2c14.7198719 L8.67367358%2c1.27768049 Z M7.29456842%2c14.7066162 C6.99960518%2c14.6688366 6.70388674%2c14.6358664 6.42424602%2c14.5580416 L7.305479%2c13.6932043 L7.29456842%2c14.7066162 Z M7.31664792%2c12.655169 L5.61932747%2c14.3211687 C5.35725495%2c14.2186411 5.10778228%2c14.1065343 4.87090943%2c13.9751901 L7.32835345%2c11.5672908 L7.31664792%2c12.655169 L7.31664792%2c12.655169 Z M7.33948263%2c10.5341444 L4.20886184%2c13.5905772 C3.99188241%2c13.4490378 3.79237184%2c13.2931298 3.59790914%2c13.1165136 L7.35124779%2c9.44143698 L7.33948263%2c10.5341444 L7.33948263%2c10.5341444 Z M7.36247634%2c8.39823455 L3.0596539%2c12.6145077 C2.88230233%2c12.4284316 2.71542413%2c12.2330349 2.5667501%2c12.0178242 L7.37412224%2c7.31524528 L7.36247634%2c8.39823455 Z M7.38531104%2c6.27721 L2.16071359%2c11.3977495 C2.01426539%2c11.1672561 1.89530231%2c10.9274022 1.79380809%2c10.6783866 L7.3969967%2c5.19414125 L7.38531104%2c6.27721 L7.38531104%2c6.27721 Z M7.40816562%2c4.15584759 L1.5134718%2c9.91983307 C1.42966504%2c9.63568106 1.36076343%2c9.34198971 1.31408045%2c9.04817915 L7.41983141%2c3.0727987 L7.40816562%2c4.15584759 Z M3.26558364%2c3.17250431 C3.94068814%2c2.50868797 4.75868348%2c1.98561613 5.66915047%2c1.65295276 L1.69467882%2c5.54002052 C2.04222748%2c4.64447857 2.58529212%2c3.83556545 3.26558364%2c3.17250431 Z M7.06902349%2c1.30580157 C7.19108684%2c1.29187021 7.32002644%2c1.28326497 7.43928762%2c1.26440497 L7.43109971%2c2.02476702 L1.23742818%2c8.09337428 L1.23929629%2c7.91958009 C1.24287352%2c7.58679748 1.26860978%2c7.25951986 1.31737946%2c6.93695225 L7.06902349%2c1.30580157 L7.06902349%2c1.30580157 Z' id='%e5%bd%a2%e7%8a%b6'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"},{name:"Exposure",min:-100,max:400,step:2,onChange:function(e){return o({brightness:e})},value:a,svg:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='16px' height='16px' viewBox='0 0 16 16' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 55.2 (78181) - https://sketchapp.com --%3e %3ctitle%3e%e5%bd%a2%e7%8a%b6%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='16' height='16'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e6%a0%87%e6%b3%a8%e5%b7%a5%e5%85%b7' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='icon-%e5%88%87%e5%9b%be' transform='translate(-525.000000%2c -124.000000)'%3e %3cg id='%e6%9b%9d%e5%85%89' transform='translate(525.000000%2c 124.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e%3c/g%3e %3cg mask='url(%23mask-2)' fill-rule='nonzero' id='%e5%bd%a2%e7%8a%b6'%3e %3cpath d='M2.6123501%2c13.1851491 L2.64065558%2c13.2166896 L2.6413572%2c13.2203755 C4.01642052%2c14.6273605 5.88331047%2c15.4443523 7.88790599%2c15.474817 L7.9129068%2c15.4750953 C9.90015586%2c15.4876256 11.7740345%2c14.7236019 13.1304117%2c13.4251429 L13.2081022%2c13.333556 C14.6189485%2c11.9554626 15.4315386%2c10.0884174 15.453245%2c8.0726293 C15.4749051%2c6.06074757 14.701873%2c4.17234442 13.3228152%2c2.76091268 C11.944524%2c1.36229865 10.0794546%2c0.550659153 8.07318152%2c0.519853677 L8.05116145%2c0.519458391 C6.04381797%2c0.507199088 4.15921827%2c1.27912879 2.7559335%2c2.64493708 C1.34678056%2c4.03173715 0.531741066%2c5.90419121 0.510127959%2c7.91172667 C0.488530813%2c9.91789572 1.24972356%2c11.7905061 2.6123501%2c13.1851491 Z' stroke='%23666666'%3e%3c/path%3e %3cpath d='M11.8970207%2c7.47681347 L9.88251295%2c7.47681347 C9.70012953%2c6.78873057 9.16126943%2c6.24158031 8.46489637%2c6.05919689 L8.46489637%2c4.04468912 C8.46489637%2c3.77111399 8.24106218%2c3.54727979 7.96748705%2c3.54727979 C7.69391192%2c3.54727979 7.47007772%2c3.77111399 7.47007772%2c4.04468912 L7.47007772%2c6.05919689 C6.78199482%2c6.24158031 6.23484456%2c6.78044041 6.05246114%2c7.47681347 L4.03795337%2c7.47681347 C3.76437824%2c7.47681347 3.54054404%2c7.70064767 3.54054404%2c7.9742228 C3.54054404%2c8.24779793 3.76437824%2c8.47163212 4.03795337%2c8.47163212 L6.05246114%2c8.47163212 C6.23484456%2c9.15971503 6.77370466%2c9.70686528 7.47007772%2c9.8892487 L7.47007772%2c11.9037565 C7.47007772%2c12.1773316 7.69391192%2c12.4011658 7.96748705%2c12.4011658 C8.24106218%2c12.4011658 8.46489637%2c12.1773316 8.46489637%2c11.9037565 L8.46489637%2c9.8892487 C9.15297927%2c9.70686528 9.70012953%2c9.16800518 9.88251295%2c8.47163212 L11.8970207%2c8.47163212 C12.1705959%2c8.47163212 12.3944301%2c8.24779793 12.3944301%2c7.9742228 C12.3944301%2c7.70064767 12.178886%2c7.47681347 11.8970207%2c7.47681347 Z M7.96748705%2c8.9607513 C7.42862694%2c8.9607513 6.9892487%2c8.52137306 6.9892487%2c7.98251295 C6.9892487%2c7.44365285 7.42862694%2c7.00427461 7.96748705%2c7.00427461 C8.50634715%2c7.00427461 8.94572539%2c7.44365285 8.94572539%2c7.98251295 C8.94572539%2c8.52137306 8.51463731%2c8.9607513 7.96748705%2c8.9607513 L7.96748705%2c8.9607513 Z' fill='%23666666'%3e%3c/path%3e %3cpath d='M10.1643782%2c6.27474093 C10.2887306%2c6.27474093 10.4213731%2c6.225 10.5125648%2c6.12551813 L11.0928756%2c5.54520725 C11.2835492%2c5.35453368 11.2835492%2c5.03950777 11.0928756%2c4.84054404 C10.9022021%2c4.64987047 10.5871762%2c4.64987047 10.3882124%2c4.84054404 L9.80790155%2c5.42085492 C9.61722798%2c5.6115285 9.61722798%2c5.9265544 9.80790155%2c6.12551813 C9.91567358%2c6.225 10.0400259%2c6.27474093 10.1643782%2c6.27474093 Z M5.42240933%2c6.13380829 C5.52189119%2c6.23329016 5.64624352%2c6.28303109 5.77059585%2c6.28303109 C5.89494819%2c6.28303109 6.02759067%2c6.23329016 6.11878238%2c6.13380829 C6.30945596%2c5.94313472 6.30945596%2c5.62810881 6.11878238%2c5.42914508 L5.5384715%2c4.8488342 C5.34779793%2c4.65816062 5.03277202%2c4.65816062 4.83380829%2c4.8488342 C4.64313472%2c5.03950777 4.64313472%2c5.35453368 4.83380829%2c5.55349741 L5.42240933%2c6.13380829 L5.42240933%2c6.13380829 Z M5.42240933%2c9.82292746 L4.84209845%2c10.4032383 C4.65142487%2c10.5939119 4.65142487%2c10.9089378 4.84209845%2c11.1079016 C4.94158031%2c11.2073834 5.06593264%2c11.2571244 5.19028497%2c11.2571244 C5.31463731%2c11.2571244 5.44727979%2c11.2073834 5.5384715%2c11.1079016 L6.11878238%2c10.5275907 C6.30945596%2c10.3369171 6.30945596%2c10.0218912 6.11878238%2c9.82292746 C5.92810881%2c9.63225389 5.6130829%2c9.63225389 5.42240933%2c9.82292746 L5.42240933%2c9.82292746 Z M10.5208549%2c9.82292746 C10.3301813%2c9.63225389 10.0151554%2c9.63225389 9.81619171%2c9.82292746 C9.62551813%2c10.013601 9.62551813%2c10.3286269 9.81619171%2c10.5275907 L10.3965026%2c11.1079016 C10.4959845%2c11.2073834 10.6203368%2c11.2571244 10.7446891%2c11.2571244 C10.8690415%2c11.2571244 11.0016839%2c11.2073834 11.0928756%2c11.1079016 C11.2835492%2c10.917228 11.2835492%2c10.6022021 11.0928756%2c10.4032383 L10.5208549%2c9.82292746 L10.5208549%2c9.82292746 Z' fill='%23666666'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e"}];return Object(s.useEffect)((function(){return function(){pv.dispatch(Rd.InitImgAttribute())}}),[]),u.a.createElement("div",null,c.map((function(e,t){return u.a.createElement("div",{className:"imgAttributeController",key:"option_".concat(t)},u.a.createElement(Ed.a,{className:"tools",style:{padding:"0px 0"}},u.a.createElement(Dd.a,{span:24},u.a.createElement("span",{className:"singleTool"},u.a.createElement("img",{width:16,height:16,src:e.svg}),u.a.createElement("span",{className:"toolName"},r(e.name))))),u.a.createElement(Ed.a,null,u.a.createElement(Dd.a,{span:20},u.a.createElement(Ou.a,{min:e.min,max:e.max,step:e.step,value:e.value,onChange:e.onChange,trackStyle:{background:"#1B67FF"}})),u.a.createElement(Dd.a,{span:4},u.a.createElement(Is.a,{value:e.value,disabled:!0,style:{fontSize:12,marginBottom:23,padding:"0px 2px",textAlign:"center"}}))))})))})),Vd={RadiusesRegexRule:/^([1-9]+[0-9]*\；)*[1-9]+[0-9]*$/},Hd=Object(kc.b)(null,null,null,{context:Yl})((function(e){var t=e.updatePopoverStatus,n=Object(os.a)().t,i=Object(s.useContext)(qu),a=Object(s.useState)(i.radiuses),r=Object(G.a)(a,2),o=r[0],c=r[1],l=Object(s.useMemo)((function(){var e;return[{name:"pointSize",min:.1,max:10,step:.1,range:!1,marks:Object(Je.a)({},i.pointSize,i.pointSize),value:i.pointSize,onChange:function(e){i.setPointSize(e)}},{name:"rangeHeight",nameRight:function(){i.setZrange(mt)},min:-10,max:30,step:1,range:!0,marks:(e={},Object(Je.a)(e,i.zRange[0],i.zRange[0]),Object(Je.a)(e,i.zRange[1],i.zRange[1]),e),value:i.zRange,onChange:function(e){i.setZrange(e)}}]}),[i.pointSize,i.zRange]);return u.a.createElement("div",{id:"popover-with-slider"},u.a.createElement(Ed.a,{style:{marginBottom:"19px"}},u.a.createElement(Dd.a,{span:22},u.a.createElement("span",{style:{fontSize:"18px",fontWeight:400,height:"26px",lineHeight:"26px"}},"点云设置")),u.a.createElement(Dd.a,{span:2},u.a.createElement("img",{onClick:function(e){e.stopPropagation(),t()},src:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M12 13.414L17.657 19.0711L19.0712 17.6569L13.4142 11.9998L19.0708 6.34317L17.6566 4.92896L12 10.5856L6.34331 4.92896L4.92909 6.34317L10.5858 11.9998L4.92871 17.6569L6.34292 19.0711L12 13.414Z' fill='black' fill-opacity='0.87'/%3e%3c/svg%3e"}))),u.a.createElement("div",{className:"pcSettingItem"},u.a.createElement(Ed.a,{className:"tools",style:{padding:"0px 0"}},u.a.createElement(Dd.a,{span:24},u.a.createElement("div",{className:"singleTool"},u.a.createElement("span",{className:"toolName"},n("labelRedius")),u.a.createElement(xu.a,{id:"pcSettingPopover",placement:"right",content:u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"支持输入多个范围半径，以"),u.a.createElement("p",null,"分号分割。如“6；10；16”")),trigger:"hover"},u.a.createElement("img",{className:"noticeImg",src:"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8Z' stroke='%231B67FF' stroke-linecap='square'/%3e%3cpath d='M8.00222 9.66667L8.00008 9.33333C8.00008 8.33333 9.00008 8 9.59322 7.19924C10.1864 6.39847 9.4297 5 7.99612 5C6.65814 5 6.20206 5.84938 6.19995 6.50458V6.65954' stroke='%231B67FF'/%3e%3cpath d='M8.0022 10.3333V11.6692' stroke='%231B67FF'/%3e%3c/svg%3e"}))))),u.a.createElement(Ed.a,null,u.a.createElement(Dd.a,{span:24},u.a.createElement(Is.a,{value:o,placeholder:"请输入数字",onBlur:function(){Vd.RadiusesRegexRule.exec(o)?i.setRadiuses(o):_c.b.error("支持输入多个范围半径，以分号分割。如“6；10；16”")},onChange:function(e){c(e.target.value)}})))),l.map((function(e,t){return u.a.createElement("div",{className:"pcSettingItem",key:"option_".concat(t)},u.a.createElement(Ed.a,{className:"tools",style:{padding:"0px 0"}},u.a.createElement(Dd.a,{span:24},u.a.createElement("span",{className:"singleTool"},u.a.createElement("span",{className:"toolName"},n(e.name),e.nameRight?u.a.createElement("span",{className:"resetAction",onClick:function(t){t.stopPropagation(),e.nameRight()}},n("reset")):"")))),u.a.createElement(Ed.a,null,u.a.createElement(Dd.a,{span:24},u.a.createElement(Ou.a,{key:"".concat(e.value[0],":").concat(e.value[1]),range:e.range,min:e.min,max:e.max,step:e.step,marks:e.marks,defaultValue:e.value,onAfterChange:e.onChange}))))})))})),Bd=Object(kc.b)((function(e){return{currentToolName:e.annotation.currentToolName}}),null,null,{context:Yl})((function(e){var t=e.currentToolName,n=Object(s.useState)(""),i=Object(G.a)(n,2),a=i[0],r=i[1],o=u.a.createElement(Nd,null),c=Object(s.useState)(!1),l=Object(G.a)(c,2),d=l[0],h=l[1],g="pointCloudTool"===t,f=vt.indexOf(t)>=0,b=u.a.createElement("div",null),p="",v=function(){h(!d)};return g&&(b=u.a.createElement("div",{className:"tool-set-modal"},u.a.createElement(Hd,{updatePopoverStatus:v})),p="点云设置"),f&&(b=u.a.createElement("div",{className:"tool-set-modal"},o),p="图片调整"),u.a.createElement(xu.a,{placement:"topLeft",overlayInnerStyle:{padding:"12px 8px"},open:d,onOpenChange:v,content:b,overlayClassName:"tool-hotkeys-popover"},u.a.createElement("div",{onMouseEnter:function(e){r("imageAdjst")},onMouseLeave:function(e){r("")},className:"imgTipsBar"},u.a.createElement("img",{style:{width:16},src:"imageAdjst"===a?"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.14893 6.03015L7.89896 6.99841L8.14893 6.03015ZM8.75568 5.67985L9.71919 5.94749L8.75568 5.67985ZM4.90471 12.3503L5.61825 13.0509L5.61825 13.0509L4.90471 12.3503ZM4.90471 11.6497L5.61825 10.9491L5.61825 10.9491L4.90471 11.6497ZM8.75568 18.3202L7.79216 18.5878L7.79216 18.5878L8.75568 18.3202ZM8.14893 17.9698L7.89896 17.0016L7.89896 17.0016L8.14893 17.9698ZM15.8513 17.9698L15.6013 18.938L15.6013 18.938L15.8513 17.9698ZM15.2445 18.3201L16.208 18.5877L16.208 18.5877L15.2445 18.3201ZM19.0959 11.6497L19.8094 12.3503L19.8094 12.3503L19.0959 11.6497ZM19.0959 12.3503L19.8094 11.6497L19.8094 11.6497L19.0959 12.3503ZM15.2445 5.67995L16.208 5.41231L16.208 5.41231L15.2445 5.67995ZM15.8513 6.03025L15.6013 5.062L15.8513 6.03025ZM5.26604 5.66407L4.40001 5.16407L5.26604 5.66407ZM5.82403 5.42994L5.57406 6.39819L5.82403 5.42994ZM3.14608 9.33594L2.28005 8.83594L3.14608 9.33594ZM3.14608 14.6641L2.28005 15.1641L3.14608 14.6641ZM5.82403 18.5701L5.57406 17.6018L5.82403 18.5701ZM5.26603 18.3359L4.40001 18.8359L5.26603 18.3359ZM14.6018 20.6338L13.6383 20.3662L14.6018 20.6338ZM18.7345 18.3359L17.8685 17.8359L18.7345 18.3359ZM20.7783 14.0638L21.4918 13.3632L20.7783 14.0638ZM20.8545 14.6641L19.9885 14.1641L20.8545 14.6641ZM20.8545 9.33594L19.9885 9.83594L20.8545 9.33594ZM20.7783 9.93624L21.4918 10.6369L20.7783 9.93624ZM18.1765 5.42994L17.9266 4.46169L18.1765 5.42994ZM18.7345 5.66407L17.8685 6.16407L18.7345 5.66407ZM9.39836 3.36618L8.43485 3.09853L9.39836 3.36618ZM14.6018 3.36618L13.6383 3.63382L14.6018 3.36618ZM14.12 2H9.88012V4H14.12V2ZM16.208 5.41231L15.5653 3.09853L13.6383 3.63382L14.281 5.94759L16.208 5.41231ZM17.9266 4.46169L15.6013 5.062L16.1012 6.99851L18.4265 6.39819L17.9266 4.46169ZM21.7205 8.83594L19.6006 5.16407L17.8685 6.16407L19.9885 9.83594L21.7205 8.83594ZM19.8094 12.3503L21.4918 10.6369L20.0647 9.23564L18.3823 10.9491L19.8094 12.3503ZM18.3823 13.0509L20.0647 14.7644L21.4918 13.3632L19.8094 11.6497L18.3823 13.0509ZM19.9885 14.1641L17.8685 17.8359L19.6006 18.8359L21.7205 15.1641L19.9885 14.1641ZM18.4265 17.6018L16.1012 17.0015L15.6013 18.938L17.9266 19.5383L18.4265 17.6018ZM15.5653 20.9015L16.208 18.5877L14.281 18.0524L13.6383 20.3662L15.5653 20.9015ZM9.88012 22H14.12V20H9.88012V22ZM7.79216 18.5878L8.43485 20.9015L10.3619 20.3662L9.7192 18.0525L7.79216 18.5878ZM6.074 19.5383L8.39891 18.9381L7.89896 17.0016L5.57406 17.6018L6.074 19.5383ZM2.28005 15.1641L4.40001 18.8359L6.13206 17.8359L4.0121 14.1641L2.28005 15.1641ZM4.19116 11.6497L2.50877 13.3632L3.93586 14.7644L5.61825 13.0509L4.19116 11.6497ZM5.61825 10.9491L3.93586 9.23563L2.50877 10.6369L4.19116 12.3503L5.61825 10.9491ZM4.0121 9.83594L6.13206 6.16407L4.40001 5.16407L2.28005 8.83594L4.0121 9.83594ZM5.57406 6.39819L7.89896 6.99841L8.3989 5.0619L6.07401 4.46169L5.57406 6.39819ZM8.43485 3.09853L7.79216 5.41221L9.71919 5.94749L10.3619 3.63382L8.43485 3.09853ZM7.89896 6.99841C8.69073 7.20282 9.50033 6.73539 9.71919 5.94749L7.79216 5.41221C7.86511 5.14957 8.13498 4.99377 8.3989 5.0619L7.89896 6.99841ZM5.61825 13.0509C6.19116 12.4674 6.19116 11.5326 5.61825 10.9491L4.19116 12.3503C4.00019 12.1558 4.00019 11.8442 4.19116 11.6497L5.61825 13.0509ZM9.7192 18.0525C9.50034 17.2646 8.69073 16.7972 7.89896 17.0016L8.39891 18.9381C8.13498 19.0062 7.86511 18.8504 7.79216 18.5878L9.7192 18.0525ZM16.1012 17.0015C15.3095 16.7971 14.4999 17.2645 14.281 18.0524L16.208 18.5877C16.1351 18.8503 15.8652 19.0061 15.6013 18.938L16.1012 17.0015ZM18.3823 10.9491C17.8094 11.5326 17.8094 12.4674 18.3823 13.0509L19.8094 11.6497C20.0004 11.8442 20.0004 12.1558 19.8094 12.3503L18.3823 10.9491ZM14.281 5.94759C14.4999 6.73549 15.3095 7.20292 16.1012 6.99851L15.6013 5.062C15.8652 4.99386 16.1351 5.14967 16.208 5.41231L14.281 5.94759ZM14.0001 12C14.0001 13.1046 13.1046 14 12.0001 14V16C14.2092 16 16.0001 14.2091 16.0001 12H14.0001ZM12.0001 14C10.8955 14 10.0001 13.1046 10.0001 12H8.00008C8.00008 14.2091 9.79094 16 12.0001 16V14ZM10.0001 12C10.0001 10.8954 10.8955 10 12.0001 10V8C9.79094 8 8.00008 9.79086 8.00008 12H10.0001ZM12.0001 10C13.1046 10 14.0001 10.8954 14.0001 12H16.0001C16.0001 9.79086 14.2092 8 12.0001 8V10ZM6.13206 6.16407C6.01976 6.35858 5.79154 6.45434 5.57406 6.39819L6.07401 4.46169C5.42159 4.29325 4.73692 4.58053 4.40001 5.16407L6.13206 6.16407ZM3.93586 9.23563C4.09322 9.3959 4.12441 9.64143 4.0121 9.83594L2.28005 8.83594C1.94315 9.41948 2.03669 10.1561 2.50877 10.6369L3.93586 9.23563ZM4.0121 14.1641C4.1244 14.3586 4.09322 14.6041 3.93586 14.7644L2.50877 13.3632C2.03669 13.8439 1.94315 14.5805 2.28005 15.1641L4.0121 14.1641ZM5.57406 17.6018C5.79153 17.5457 6.01976 17.6414 6.13206 17.8359L4.40001 18.8359C4.73691 19.4195 5.42158 19.7068 6.074 19.5383L5.57406 17.6018ZM9.88012 20C10.1047 20 10.3018 20.1498 10.3619 20.3662L8.43485 20.9015C8.61519 21.5507 9.20631 22 9.88012 22V20ZM13.6383 20.3662C13.6984 20.1498 13.8954 20 14.12 20V22C14.7938 22 15.385 21.5507 15.5653 20.9015L13.6383 20.3662ZM17.8685 17.8359C17.9808 17.6414 18.209 17.5457 18.4265 17.6018L17.9266 19.5383C18.579 19.7068 19.2637 19.4195 19.6006 18.8359L17.8685 17.8359ZM20.0647 14.7644C19.9073 14.6041 19.8762 14.3586 19.9885 14.1641L21.7205 15.1641C22.0574 14.5805 21.9639 13.8439 21.4918 13.3632L20.0647 14.7644ZM19.9885 9.83594C19.8762 9.64143 19.9073 9.3959 20.0647 9.23564L21.4918 10.6369C21.9639 10.1561 22.0574 9.41948 21.7205 8.83594L19.9885 9.83594ZM18.4265 6.39819C18.209 6.45434 17.9808 6.35858 17.8685 6.16407L19.6006 5.16407C19.2637 4.58053 18.579 4.29325 17.9266 4.46169L18.4265 6.39819ZM9.88012 2C9.20631 2 8.61519 2.4493 8.43485 3.09853L10.3619 3.63382C10.3018 3.85023 10.1047 4 9.88012 4V2ZM14.12 4C13.8954 4 13.6984 3.85023 13.6383 3.63382L15.5653 3.09853C15.385 2.4493 14.7938 2 14.12 2V4Z' fill='%231B67FF'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.39836 3.36618C9.45848 3.14977 9.65552 3 9.88012 3H14.12C14.3446 3 14.5417 3.14977 14.6018 3.36618L15.2445 5.67995C15.3175 5.94258 15.5873 6.09839 15.8513 6.03025L18.1765 5.42994C18.394 5.3738 18.6222 5.46955 18.7345 5.66407L20.8545 9.33594C20.9668 9.53045 20.9356 9.77598 20.7783 9.93624L19.0959 11.6497C18.9049 11.8442 18.9049 12.1558 19.0959 12.3503L20.7783 14.0638C20.9356 14.224 20.9668 14.4696 20.8545 14.6641L18.7345 18.3359C18.6222 18.5305 18.394 18.6262 18.1765 18.5701L15.8513 17.9698C15.5873 17.9016 15.3175 18.0574 15.2445 18.3201L14.6018 20.6338C14.5417 20.8502 14.3446 21 14.12 21H9.88012C9.65552 21 9.45848 20.8502 9.39836 20.6338L8.75568 18.3202C8.68272 18.0575 8.41286 17.9017 8.14893 17.9698L5.82403 18.5701C5.60656 18.6262 5.37833 18.5305 5.26603 18.3359L3.14608 14.6641C3.03377 14.4696 3.06496 14.224 3.22232 14.0638L4.90471 12.3503C5.09568 12.1558 5.09568 11.8442 4.90471 11.6497L3.22232 9.93624C3.06496 9.77598 3.03378 9.53045 3.14608 9.33594L5.26604 5.66407C5.37834 5.46955 5.60656 5.37379 5.82403 5.42994L8.14893 6.03015C8.41285 6.09829 8.68272 5.94248 8.75568 5.67985L9.39836 3.36618Z' stroke='black' stroke-opacity='0.85' stroke-width='2'/%3e%3cpath d='M15.0001 12C15.0001 13.6569 13.6569 15 12.0001 15C10.3432 15 9.00008 13.6569 9.00008 12C9.00008 10.3431 10.3432 9 12.0001 9C13.6569 9 15.0001 10.3431 15.0001 12Z' stroke='black' stroke-opacity='0.85' stroke-width='2'/%3e%3c/svg%3e"}),u.a.createElement("span",{onClick:v},p)))})),Zd=Object(kc.b)((function(e){var t;return{toolInstance:null==(t=e.annotation)?void 0:t.toolInstance}}),null,null,{context:Yl})((function(e){var t=e.toolInstance,n=Object(s.useState)(0),i=Object(G.a)(n,2),a=(i[0],i[1]),r=Object(os.a)().t;return Object(s.useEffect)((function(){t&&t.singleOn("hiddenChange",(function(){a((function(e){return e+1}))}))}),[t]),t&&t.isHidden?u.a.createElement("span",null,r("HideDrawnAnnotation"),u.a.createElement(Td.a,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})):null})),zd=Object(kc.b)((function(e){var t;return{toolInstance:null==(t=e.annotation)?void 0:t.toolInstance}}),null,null,{context:Yl})((function(e){var t,n=e.toolInstance,i=Object(s.useState)(0),a=Object(G.a)(i,2),r=(a[0],a[1]),o=Object(os.a)().t;if(Object(s.useEffect)((function(){n&&n.singleOn("updatePageNumber",(function(){r((function(e){return e+1}))}))}),[n]),!n)return null;var c=null==(t=null==n?void 0:n.currentPageResult)?void 0:t.length;return c>=0?u.a.createElement("span",null,"".concat(o("ItemsOfThisPage"),": ").concat(c),u.a.createElement(Td.a,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})):null})),Fd=n(1116),Ud=n(432),Jd=function(){var e=Object(s.useRef)(!1);return Object(s.useEffect)((function(){return e.current=!1,function(){e.current=!0}}),[]),e};var Wd,Xd,Gd=Object(kc.b)((function(e){return{toolInstance:e.annotation.toolInstance}}))((function(e){var t,n=e.toolInstance,i=function(e){var t=Jd(),n=u.a.useState(e),i=Object(G.a)(n,2),a=i[0],r=i[1];return[a,u.a.useCallback((function(e){t.current||r(e)}),[])]}(0),a=Object(G.a)(i,2)[1];Object(s.useEffect)((function(){n&&n.singleOn("renderZoom",(function(){a((function(e){return e+1}))}))}),[n]);var r=null!=(t=null==n?void 0:n.zoom)?t:1;return u.a.createElement("span",{className:"zoomValue"},(100*r).toFixed(1),"%")})),qd=Object(kc.b)((function(e){return{toolInstance:e.annotation.toolInstance}}),null,null,{context:Yl})((function(e){var t=e.toolInstance,n="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_adapt' transform='translate(-1021.825 -996)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_200' data-name='%e7%9f%a9%e5%bd%a2 200' class='cls-1' width='16' height='16' transform='translate(1021.825 996)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_191' data-name='%e7%9f%a9%e5%bd%a2 191' class='cls-2' width='8' height='7' transform='translate(1025.825 1000.167)'/%3e %3cpath id='%e8%81%94%e5%90%88_5' data-name='%e8%81%94%e5%90%88 5' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1033.825 997)'/%3e %3cpath id='%e8%81%94%e5%90%88_7' data-name='%e8%81%94%e5%90%88 7' class='cls-2' d='M0%2c4V3H3V0H4V4Z' transform='translate(1025.825 1001.001) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_8' data-name='%e8%81%94%e5%90%88 8' class='cls-2' d='M3%2c4V1H0V0H4V4Z' transform='translate(1025.825 1010.335) rotate(180)'/%3e %3cpath id='%e8%81%94%e5%90%88_6' data-name='%e8%81%94%e5%90%88 6' class='cls-2' d='M0%2c4V0H4V1H1V4Z' transform='translate(1037.824 1010.335) rotate(180)'/%3e %3c/g%3e%3c/svg%3e";return"light"===e.mode&&(n="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12 4.16699H4V11.167H12V4.16699Z' fill='%23707070'/%3e%3cpath d='M15 5V2H12V1H16V5H15Z' fill='%23707070'/%3e%3cpath d='M4 1.00098V2.00098L1 2.00098L1 5.00098L0 5.00098L0 1.00098L4 1.00098Z' fill='%23707070'/%3e%3cpath d='M1 10.335L1 13.335H4V14.335H0L0 10.335H1Z' fill='%23707070'/%3e%3cpath d='M16 10.335V14.335H12V13.335H15V10.335H16Z' fill='%23707070'/%3e%3c/svg%3e"),u.a.createElement("div",null,u.a.createElement("span",{className:"".concat(jh,"__zoomController")},u.a.createElement(Fd.a,{className:"".concat(jh,"__highlight"),onClick:function(){t.zoomChanged(!1)}}),u.a.createElement("span",{className:"".concat(jh,"__zoomText"),onClick:function(){t.initImgPos()}},u.a.createElement("img",{src:n,className:"adaptIcon"}),u.a.createElement(Gd,null)),u.a.createElement(Ud.a,{className:"".concat(jh,"__highlight"),onClick:function(){t.zoomChanged(!0)}})))})),Kd=n(1117),Yd=n(206),Qd=n(1118),_d=n(369),$d=Object.defineProperty,eh=Object.getOwnPropertySymbols,th=Object.prototype.hasOwnProperty,nh=Object.prototype.propertyIsEnumerable,ih=function(e,t,n){return t in e?$d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ah=function(e,t){for(var n in t||(t={}))th.call(t,n)&&ih(e,n,t[n]);if(eh){var i,a=Object(Se.a)(eh(t));try{for(a.s();!(i=a.n()).done;){n=i.value;nh.call(t,n)&&ih(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},rh=function(e){return e.isVideo?u.a.createElement(Kd.a,ah({},e.iconProps)):u.a.createElement(Yd.a,ah({},e.iconProps))},oh=function(e){return e.isVideo?u.a.createElement(Qd.a,ah({},e.iconProps)):u.a.createElement(_d.a,ah({},e.iconProps))},ch=function(e){var t=e.pageBackward,n=e.imgIndex,i=e.pageJump,a=e.totalPage,r=e.pageForward,o=e.isVideo,c=e.footerCls;return u.a.createElement("div",{className:"".concat(c,"__pagination")},u.a.createElement(oh,{isVideo:o,iconProps:{className:"".concat(c,"__highlight"),onClick:t}}),u.a.createElement(Ph,{imgIndex:n,jumpSkip:i}),"/",u.a.createElement("span",{className:"".concat(c,"__pageAll")},a),u.a.createElement(rh,{isVideo:o,iconProps:{className:"".concat(c,"__highlight"),onClick:r}}))},lh="data:image/svg+xml,%3csvg width='48' height='48' viewBox='0 0 48 48' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M24.6274 3.41416C23.8463 2.63311 22.58 2.63311 21.7989 3.41416L3.41416 21.7989C2.63311 22.58 2.63311 23.8463 3.41416 24.6274L21.7989 43.0121C22.58 43.7932 23.8463 43.7932 24.6274 43.0121L43.0121 24.6274C43.7932 23.8463 43.7932 22.58 43.0121 21.7989L24.6274 3.41416ZM23 29.9999C26.866 29.9999 30 26.8659 30 22.9999C30 19.1339 26.866 15.9999 23 15.9999C19.134 15.9999 16 19.1339 16 22.9999C16 26.8659 19.134 29.9999 23 29.9999Z' fill='black' fill-opacity='0.87'/%3e%3ccircle cx='23' cy='23' r='4' fill='black'/%3e%3c/svg%3e",sh=Object.defineProperty,uh=Object.defineProperties,dh=Object.getOwnPropertyDescriptors,hh=Object.getOwnPropertySymbols,gh=Object.prototype.hasOwnProperty,fh=Object.prototype.propertyIsEnumerable,bh=function(e,t,n){return t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ph=function(e,t){for(var n in t||(t={}))gh.call(t,n)&&bh(e,n,t[n]);if(hh){var i,a=Object(Se.a)(hh(t));try{for(a.s();!(i=a.n()).done;){n=i.value;fh.call(t,n)&&bh(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},vh=function(e,t){return uh(e,dh(t))},mh=i.EVideoToolName;(Xd=Wd||(Wd={})).Hover="#1B67FF",Xd.Normal="rgba(0, 0, 0, 0.72)";var yh=function(e){var t=Object(s.useState)(""),n=Object(G.a)(t,2),i=n[0],a=n[1],r=_l((function(e){return{annotation:e.annotation,imgAttribute:e.imgAttribute}})).annotation,o=r.toolInstance,c=r.currentToolName,l=Object(os.a)().t,d=[zo.Tag,mh.VideoTagTool].includes(c),h=[mh.VideoTagTool].includes(c),g=[zo.PointCloud].includes(c),f=Object(s.useContext)(qu),b=e.isBegin||d,p=[{toolName:"OriginalScaleSet",title:"OriginalScaleSet",show:!0,selectedSvg:"",commonSvg:"",click:function(){if(!h){pv.dispatch(Rd.UpdateImgAttribute({isOriginalSize:!0}))}},style:{marginRight:"4px",opacity:!0===h?.4:1,fontSize:"14px",color:b||"OriginalScaleSet"!==i?Wd.Normal:Wd.Hover}},{toolName:"rotate",title:"Rotate",show:!0,selectedSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.6472 7.1182C13.1179 5.39999 9.64572 5.66185 7.40381 7.90377C4.8654 10.4422 4.8654 14.5578 7.40381 17.0962C9.94221 19.6346 14.0578 19.6346 16.5962 17.0962L18.0104 18.5104C14.691 21.8298 9.30905 21.8298 5.98959 18.5104C2.67014 15.1909 2.67014 9.80901 5.98959 6.48956C8.84127 3.63788 13.2151 3.23602 16.4958 5.28399L15.7889 3.34199L17.6683 2.65795L19.2074 6.88657L19.5494 7.82626L18.6097 8.16828L14.3811 9.70737L13.6971 7.82799L15.6472 7.1182Z' fill='%231B67FF'/%3e%3c/svg%3e",commonSvg:"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M15.6472 7.1182C13.1179 5.4 9.64572 5.66186 7.40381 7.90378C4.8654 10.4422 4.8654 14.5578 7.40381 17.0962C9.94221 19.6346 14.0578 19.6346 16.5962 17.0962L18.0104 18.5104C14.691 21.8298 9.30905 21.8298 5.98959 18.5104C2.67014 15.1909 2.67014 9.80902 5.98959 6.48957C8.84127 3.63788 13.2151 3.23603 16.4958 5.28399L15.7889 3.342L17.6683 2.65796L19.2074 6.88658L19.5494 7.82627L18.6097 8.16829L14.3811 9.70738L13.6971 7.82799L15.6472 7.1182Z' fill='black' fill-opacity='0.85'/%3e%3c/svg%3e",click:function(){h||null==o||o.updateRotate()},style:{marginRight:"4px",opacity:!0===h?.4:1,fontSize:"14px",color:b||"rotate"!==i?Wd.Normal:Wd.Hover}}],v=[{toolName:"TopLook",title:"TopLook",show:!0,selectedSvg:lh,commonSvg:lh,click:function(){var e;null==(e=null==f?void 0:f.mainViewInstance)||e.resetCamera()},style:{marginRight:"4px",opacity:!0===h?.4:1,fontSize:"14px",color:b||"OriginalScaleSet"!==i?Wd.Normal:Wd.Hover}}],m=g?v:p;return u.a.createElement("div",{className:"".concat(Bc,"-footer__option")},m.map((function(e){return e.show&&u.a.createElement("div",{key:e.toolName,className:"oneOption",onMouseEnter:function(t){a(e.toolName),t.stopPropagation()},onMouseLeave:function(e){e.stopPropagation(),a("")}},u.a.createElement("a",{className:"item",onClick:e.click},u.a.createElement("img",{className:"singleTool",src:i===e.toolName?e.selectedSvg:e.commonSvg,style:vh(ph({},e.style),{width:16})}),u.a.createElement("div",{style:e.style},l(e.title))))})))},xh=Object.defineProperty,Oh=Object.defineProperties,wh=Object.getOwnPropertyDescriptors,kh=Object.getOwnPropertySymbols,Lh=Object.prototype.hasOwnProperty,Ch=Object.prototype.propertyIsEnumerable,Sh=function(e,t,n){return t in e?xh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ih=function(e,t){for(var n in t||(t={}))Lh.call(t,n)&&Sh(e,n,t[n]);if(kh){var i,a=Object(Se.a)(kh(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Ch.call(t,n)&&Sh(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Ah=function(e,t){return Oh(e,wh(t))},Ph=function(e){var t=e.jumpSkip,n=e.imgIndex,i=Object(s.useState)(n),a=Object(G.a)(i,2),r=a[0],o=a[1],c=Object(s.useRef)(null);Object(s.useEffect)((function(){o(n+1)}),[n]);return u.a.createElement(Is.a,{className:"pageInput",ref:c,onChange:function(e){/^\d*$/.test(e.target.value)&&o(e.target.value)},value:r,onKeyDown:function(e){13===e.keyCode&&t(e.target.value)}})},jh="".concat(Bc,"-footer"),Th=function(){return u.a.createElement(Td.a,{type:"vertical",style:{background:"rgba(153, 153, 153, 1)",height:"16px"}})},Eh=Object(kc.b)((function(e){return{totalPage:fl(e.annotation),imgIndex:e.annotation.imgIndex,stepList:e.annotation.stepList,step:e.annotation.step,basicIndex:e.annotation.basicIndex,basicResultList:e.annotation.basicResultList}}),null,null,{context:Yl})((function(e){var t,n=e.stepList,i=e.step,a=e.basicResultList,r=e.basicIndex,o=e.mode,c=e.footer,l=Ql(),s=Object(os.a)().t,d=null!=(t=n[i-1])?t:{},h=!!d.dataSourceStep,g=u.a.createElement(Bd,null),f=u.a.createElement(Zd,null),b=u.a.createElement(zd,null),p=u.a.createElement(yh,{stepInfo:d}),v=u.a.createElement(ch,{imgIndex:e.imgIndex,totalPage:e.totalPage,pageJump:function(e){l(Ul(~~e-1))},pageBackward:function(){l(zl())},pageForward:function(){l(Fl())},footerCls:jh}),m=u.a.createElement(qd,{mode:o}),y=u.a.createElement("span",null,s("curItems",{current:r+1,total:a.length})),x=u.a.createElement(Th,null);return c?"function"==typeof c?u.a.createElement("div",{className:"".concat(jh),style:e.style},c({footerTips:g,hiddenTips:f,pageNumber:b,pagination:v,zoomController:m,curItems:y,footerDivider:x})):c:u.a.createElement("div",{className:"".concat(jh),style:Ah(Ih({},e.style),{paddingRight:20})},g,u.a.createElement("div",{style:{flex:1}}),p,h&&a.length>0&&u.a.createElement(u.a.Fragment,null,x,y))})),Dh=n(67),Mh=n(1102),Rh=n(1119),Nh=n(1120),Vh=Object.defineProperty,Hh=Object.defineProperties,Bh=Object.getOwnPropertyDescriptors,Zh=Object.getOwnPropertySymbols,zh=Object.prototype.hasOwnProperty,Fh=Object.prototype.propertyIsEnumerable,Uh=function(e,t,n){return t in e?Vh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Jh=function(e){var t=e,n=t.Icon,i=t.text,a=t.iconChildren,r=function(e,t){var n={};for(var i in e)zh.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Zh){var a,r=Object(Se.a)(Zh(e));try{for(r.s();!(a=r.n()).done;)i=a.value,t.indexOf(i)<0&&Fh.call(e,i)&&(n[i]=e[i])}catch(e){r.e(e)}finally{r.f()}}return n}(t,["Icon","text","iconChildren"]),o=void 0===e.marginLeft?30:e.marginLeft;return u.a.createElement("div",function(e,t){return Hh(e,Bh(t))}(function(e,t){for(var n in t||(t={}))zh.call(t,n)&&Uh(e,n,t[n]);if(Zh){var i,a=Object(Se.a)(Zh(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Fh.call(t,n)&&Uh(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},r),{className:Zc}),u.a.createElement("div",{className:"".concat(Zc,"__iconWithText"),style:{marginLeft:o}},u.a.createElement("div",{className:"iconGroup"},u.a.createElement(n,{className:"icon"}),a),u.a.createElement("span",{className:"name"},i)))},Wh=function(e){var t=Object(os.a)().t,n=e.stepList,i=e.updateStep,a=e.currentStep;return u.a.createElement("div",{className:"".concat(Zc,"__annotationStepPopover")},n.map((function(e){var n=e.step===a;return u.a.createElement("div",{key:"stepList".concat(e.step),className:Ac({step:!0}),onClick:function(){a&&!n&&i(e.step)}},u.a.createElement("div",{className:Ac({name:!0,highlight:n})},"".concat(e.step," - ").concat(e.name||t(e.tool))))})))},Xh=Object(kc.b)((function(e){return{stepList:e.annotation.stepList,step:e.annotation.step}}),null,null,{context:Yl})((function(e){e.stepProgress;var t=e.step,n=e.stepList,i=Ql(),a=Object(os.a)().t;return u.a.createElement("span",{className:"".concat(Bc)},u.a.createElement(Mh.a,{overlay:u.a.createElement(Wh,{stepList:n,updateStep:function(e){i(Nl(e))},currentStep:t})},u.a.createElement(Jh,{text:a("Steps"),Icon:Rh.a,iconChildren:u.a.createElement(Nh.a,{style:{fontSize:8}})})))})),Gh="data:image/svg+xml,%3csvg id='icon_mouse_left_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e",qh="data:image/svg+xml,%3csvg id='icon_mouse_right_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23ff5770%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e9%bc%a0%e6%a0%87%e6%bb%9a%e8%bd%ae'%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.982v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.97-9.7H5.865V0a5.7%2c5.7%2c0%2c0%2c1%2c3.53%2c1.267A3.812%2c3.812%2c0%2c0%2c1%2c10.85%2c4.19V5.98Zm-5.866%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.456%2c1.267%2c5.693%2c5.693%2c0%2c0%2c1%2c4.984%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(5.302 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3c/g%3e%3c/svg%3e",Kh="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-2' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameChange_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.933l-1.75.025V9492.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h3.841l1.391%2c1.751H1768.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cg id='%e7%bb%84_647' data-name='%e7%bb%84 647' transform='translate(7 14)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-3' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-1' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",Yh="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_279' data-name='%e8%b7%af%e5%be%84 279' class='cls-1' d='M11.345-10.437H8.754c0-.488-.379-1.077-.848-1.077H4.94c-.468%2c0-.848.589-.848%2c1.077H1.5c-.572%2c0-1.2.085-1.2.658v.886H12.248v-.886C12.248-10.352%2c11.917-10.437%2c11.345-10.437ZM1.357-7.857V.582a2.019%2c2.019%2c0%2c0%2c0%2c1.7%2c1.9H9.79c.859%2c0%2c1.421-1.046%2c1.421-1.9V-7.857ZM4.186.758H3.15V-6.709H4.186Zm2.6%2c0H5.747V-6.709H6.783Zm2.6%2c0H8.344V-6.709H9.38Z' transform='translate(-0.3 11.514)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_del_kj' transform='translate(0.7 10.514)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_95' data-name='%e7%9f%a9%e5%bd%a2 95' class='cls-1' width='16' height='16' transform='translate(-0.7 -10.514)'/%3e %3cg id='%e7%bb%84_481' data-name='%e7%bb%84 481' class='cls-2' transform='translate(1.3 -9.514)'%3e %3cpath id='%e8%b7%af%e5%be%84_278' data-name='%e8%b7%af%e5%be%84 278' class='cls-3' d='M-4.7-16.514H19.956V10.194H-4.7Z' transform='translate(-1.654 10.16)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",Qh="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_277' data-name='%e8%b7%af%e5%be%84 277' class='cls-1' d='M6.857-116.857h-3.3v1.4L0-118l3.556-2.54v1.4h3.3v-3.3H9.143v3.3h3.3v-1.4L16-118l-3.556%2c2.54v-1.4h-3.3v3.3h1.4L8-110l-2.54-3.556h1.4ZM8-126l2.54%2c3.556H5.46Z' transform='translate(0 126)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_276' data-name='%e8%b7%af%e5%be%84 276' class='cls-2' d='M-37-137.6h25.4V-163H-37Z' transform='translate(37 163)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_move_kj' transform='translate(1 128)'%3e %3cg id='%e7%bb%84_475' data-name='%e7%bb%84 475' class='cls-3' transform='translate(-1 -128)'%3e %3cg id='%e7%bb%84_474' data-name='%e7%bb%84 474' class='cls-4' transform='translate(-4.698 -4.698)'%3e %3cpath id='%e8%b7%af%e5%be%84_275' data-name='%e8%b7%af%e5%be%84 275' class='cls-5' d='M-5-131H12.27v17.27H-5Z' transform='translate(9.063 135.064)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",_h={name:"Undo",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_cencel_kj' transform='translate(0.494)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963' transform='translate(-0.494)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.54C8.654%2c7.1%2c4.678%2c7.648.279%2c5.143A.544.544%2c0%2c0%2c1%2c0%2c4.662a.578.578%2c0%2c0%2c1%2c.283-.493A.548.548%2c0%2c0%2c1%2c.84%2c4.163C4.822%2c6.431%2c8.263%2c5.956%2c11.318%2c2.722L8.918.065%2c13.99%2c0l-.072%2c5.6Z' transform='translate(10.937 16) rotate(-138)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["Ctrl","Z"]},$h={name:"Redo",icon:"data:image/svg+xml,%3csvg id='icon_reform_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='15.963'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.057%2c3.148C8.654-.415%2c4.678-.96.279%2c1.546A.544.544%2c0%2c0%2c0%2c0%2c2.027a.578.578%2c0%2c0%2c0%2c.283.493.548.548%2c0%2c0%2c0%2c.557.005C4.822.257%2c8.263.733%2c11.318%2c3.967l-2.4%2c2.657%2c5.072.065-.072-5.6Z' transform='translate(0.094 11.029) rotate(-42)'/%3e%3c/svg%3e",shortCut:["Ctrl","Shift","Z"]},eg={name:"Scale",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_274' data-name='%e8%b7%af%e5%be%84 274' class='cls-1' d='M1.732-140.268a5.914%2c5.914%2c0%2c0%2c1%2c8.364%2c0%2c5.916%2c5.916%2c0%2c0%2c1%2c.581%2c7.69L14-129.255%2c12.745-128l-3.323-3.323a5.916%2c5.916%2c0%2c0%2c1-7.69-.581A5.914%2c5.914%2c0%2c0%2c1%2c1.732-140.268Zm7.528.836a4.732%2c4.732%2c0%2c0%2c0-6.691%2c0%2c4.732%2c4.732%2c0%2c0%2c0%2c0%2c6.691%2c4.732%2c4.732%2c0%2c0%2c0%2c6.691%2c0A4.732%2c4.732%2c0%2c0%2c0%2c9.26-139.431Z' transform='translate(0 142)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_273' data-name='%e8%b7%af%e5%be%84 273' class='cls-2' d='M-29-160.285H-9.285V-180H-29Z' transform='translate(29 180)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_loupe_kj' transform='translate(4 144)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_110' data-name='%e7%9f%a9%e5%bd%a2 110' class='cls-2' width='16' height='16' transform='translate(-4 -144)'/%3e %3cg id='%e7%bb%84_470' data-name='%e7%bb%84 470' class='cls-3' transform='translate(-3 -143)'%3e %3cg id='%e7%bb%84_469' data-name='%e7%bb%84 469' class='cls-4' transform='translate(-2.859 -3.746)'%3e %3cpath id='%e8%b7%af%e5%be%84_272' data-name='%e8%b7%af%e5%be%84 272' class='cls-5' d='M-5-147H9.986v14.986H-5Z' transform='translate(7.366 150.253)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:["data:image/svg+xml,%3csvg id='icon_mouse_middle_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23ccc%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5%2c .cls-7 %7b fill: %23ff5770%3b %7d .cls-5 %7b opacity: 0%3b %7d .cls-6 %7b fill: white%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3crect id='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%92%99%e7%89%88-2' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.345%2c15.68H4.637A4.809%2c4.809%2c0%2c0%2c1%2c0%2c10.726v-3.8H9.982v3.8A4.809%2c4.809%2c0%2c0%2c1%2c5.345%2c15.68Zm5.007-9.7H5.331V0A5.758%2c5.758%2c0%2c0%2c1%2c8.885%2c1.267%2c3.8%2c3.8%2c0%2c0%2c1%2c10.352%2c4.19V5.98Zm-5.821%2c0H-.481V4.19A3.806%2c3.806%2c0%2c0%2c1%2c.983%2c1.267%2c5.74%2c5.74%2c0%2c0%2c1%2c4.531%2c0V5.98Z' transform='translate(0 0)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2'%3e %3crect id='%e8%92%99%e7%89%88-3' data-name='%e8%92%99%e7%89%88' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%92%99%e7%89%88-4' data-name='%e8%92%99%e7%89%88' class='cls-2' d='M5.881%2c15.68H5.1A5.035%2c5.035%2c0%2c0%2c1%2c0%2c10.726v-3.8H10.983v3.8A5.035%2c5.035%2c0%2c0%2c1%2c5.881%2c15.68Zm4.969-9.7H5.865V0A5.69%2c5.69%2c0%2c0%2c1%2c9.394%2c1.267%2c3.813%2c3.813%2c0%2c0%2c1%2c10.849%2c4.19V5.98Zm-5.864%2c0H0V4.19A3.813%2c3.813%2c0%2c0%2c1%2c1.455%2c1.267%2c5.692%2c5.692%2c0%2c0%2c1%2c4.985%2c0V5.98Z' transform='translate(2.5 0.219)'/%3e %3cg id='%e7%9f%a9%e5%bd%a2-3' data-name='%e7%9f%a9%e5%bd%a2' class='cls-4' transform='translate(2.998 0.219)'%3e %3crect id='%e7%9f%a9%e5%bd%a2-4' data-name='%e7%9f%a9%e5%bd%a2' class='cls-5' width='5.4' height='6.676' transform='translate(-0.698 -0.234)'/%3e %3c/g%3e %3c/g%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-6' d='M1.925%2c5h-.1A1.764%2c1.764%2c0%2c0%2c1%2c0%2c3.286V1.714A1.764%2c1.764%2c0%2c0%2c1%2c1.823%2c0h.1A1.764%2c1.764%2c0%2c0%2c1%2c3.748%2c1.714V3.238A1.771%2c1.771%2c0%2c0%2c1%2c1.925%2c5Z' transform='translate(6.125 3.254)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e %3cpath id='%e8%b7%af%e5%be%84-3' data-name='%e8%b7%af%e5%be%84' class='cls-7' d='M1.026%2c3.717H.972A1.15%2c1.15%2c0%2c0%2c1%2c0%2c2.442V1.274A1.15%2c1.15%2c0%2c0%2c1%2c.972%2c0h.054A1.15%2c1.15%2c0%2c0%2c1%2c2%2c1.274V2.407A1.167%2c1.167%2c0%2c0%2c1%2c1.026%2c3.717Z' transform='translate(7 3.919)'/%3e%3c/svg%3e"]},tg={name:"Fullscreen",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_321' data-name='%e8%b7%af%e5%be%84 321' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_323' data-name='%e8%b7%af%e5%be%84 323' class='cls-1' d='M5.344-14.625H1.875a.5.5%2c0%2c0%2c0-.5.5v3.5a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-2.75H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-14.625Zm9.031%2c9h-.75a.251.251%2c0%2c0%2c0-.25.25v2.75H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h3.469a.5.5%2c0%2c0%2c0%2c.5-.5v-3.5A.251.251%2c0%2c0%2c0%2c14.375-5.625Zm-9.031%2c3H2.625v-2.75a.251.251%2c0%2c0%2c0-.25-.25h-.75a.251.251%2c0%2c0%2c0-.25.25v3.5a.5.5%2c0%2c0%2c0%2c.5.5H5.344a.251.251%2c0%2c0%2c0%2c.25-.25v-.75A.251.251%2c0%2c0%2c0%2c5.344-2.625Zm8.781-12H10.656a.251.251%2c0%2c0%2c0-.25.25v.75a.251.251%2c0%2c0%2c0%2c.25.25h2.719v2.75a.251.251%2c0%2c0%2c0%2c.25.25h.75a.251.251%2c0%2c0%2c0%2c.25-.25v-3.5A.5.5%2c0%2c0%2c0%2c14.125-14.625Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_fullView_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_567' data-name='%e7%bb%84 567' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_320' data-name='%e8%b7%af%e5%be%84 320' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_568' data-name='%e7%bb%84 568' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_322' data-name='%e8%b7%af%e5%be%84 322' class='cls-5' d='M-3.625-19.625h23.25V3.625H-3.625Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:["F11"]},ng={name:"Rotate",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_reload_kj' transform='translate(-1 -1.432)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(1 1.432)'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M12.917%2c1.955l-.9.735A6.615%2c6.615%2c0%2c0%2c0%2c6.72%2c0%2c6.86%2c6.86%2c0%2c0%2c0%2c0%2c6.992%2c6.864%2c6.864%2c0%2c0%2c0%2c6.72%2c14a6.745%2c6.745%2c0%2c0%2c0%2c6.315-4.6.135.135%2c0%2c0%2c0-.078-.172L12.05%2c8.9a.127.127%2c0%2c0%2c0-.162.08c-.029.083-.061.167-.094.248a5.722%2c5.722%2c0%2c0%2c1-1.18%2c1.823%2c5.511%2c5.511%2c0%2c0%2c1-1.749%2c1.23%2c5.32%2c5.32%2c0%2c0%2c1-4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1-1.749-1.23A5.722%2c5.722%2c0%2c0%2c1%2c1.653%2c9.23a5.979%2c5.979%2c0%2c0%2c1%2c0-4.463%2c5.722%2c5.722%2c0%2c0%2c1%2c1.18-1.823%2c5.511%2c5.511%2c0%2c0%2c1%2c1.749-1.23%2c5.32%2c5.32%2c0%2c0%2c1%2c4.283%2c0%2c5.459%2c5.459%2c0%2c0%2c1%2c1.749%2c1.23%2c5.678%2c5.678%2c0%2c0%2c1%2c.445.523L10.1%2c4.25a.135.135%2c0%2c0%2c0%2c.048.235l2.81.717a.13.13%2c0%2c0%2c0%2c.158-.128l.013-3.015a.129.129%2c0%2c0%2c0-.208-.1Z' transform='translate(2 2.432)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["R"],noticeInfo:"ToOriginalStep"},ig={name:"ToggleEffectiveness",icon:"data:image/svg+xml,%3c%3fxml version='1.0' standalone='no'%3f%3e%3csvg xmlns='http://www.w3.org/2000/svg' class='icon' viewBox='0 0 1024 1024'%3e %3cpath d='M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z'/%3e%3c/svg%3e",shortCut:["Y"]},ag={name:"PreviousImage",icon:"data:image/svg+xml,%3csvg id='icon_last_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.163%2c6.632%2c7.735.1a.428.428%2c0%2c0%2c1%2c.7.368V13.53a.428.428%2c0%2c0%2c1-.7.368L.163%2c7.368A.5.5%2c0%2c0%2c1%2c.163%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e",shortCut:["A"]},rg={name:"NextImage",icon:"data:image/svg+xml,%3csvg id='icon_next_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16'/%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M8.268%2c6.632.7.1A.428.428%2c0%2c0%2c0%2c0%2c.47V13.53a.428.428%2c0%2c0%2c0%2c.7.368l7.572-6.53A.5.5%2c0%2c0%2c0%2c8.268%2c6.632Z' transform='translate(4 1)'/%3e%3c/svg%3e",shortCut:["D"]},og={name:"Drag",icon:Qh,shortCut:[qh],noticeInfo:"Press"},cg={name:"Drag",icon:Qh,shortCut:["Space",Gh]},lg={name:"ToggleSelected",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M2.1-1.769a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1Zm.525-.906H7.874V-6.562H2.627Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M17.723-5.652A4.782%2c4.782%2c0%2c0%2c0%2c19.561-9.4l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L17.841-9.555a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.019%2c4.019%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c17.179-6.35a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c17.723-5.652Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M19.678-21a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3Zm-.525.906H13.906v3.887h5.247Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M3.673-17.359a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0l1.206-1.528a.093.093%2c0%2c0%2c0-.073-.15H2.72a4.017%2c4.017%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173A3.884%2c3.884%2c0%2c0%2c1%2c5.6-17.354a3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c3.673-17.359Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(-957 -603)'%3e%3crect width='16' height='16' transform='translate(957 603)' fill='none'/%3e%3cg transform='translate(956.022 624)'%3e%3cg transform='translate(1.545 -10.994)' clip-path='url(%23a)'%3e%3cpath d='M11.412.863H-3.279V-12.469H11.412Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(10.679 -13.779)' clip-path='url(%23b)'%3e%3cpath d='M23.049-16.118V-2.007H9.118V-16.118Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(10.652 -20.897)' fill='%23ccc'/%3e%3cg transform='translate(9.826 -21)' clip-path='url(%23c)'%3e%3cpath d='M8-26H22.691v13.331H8Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0.978 -18.995)' clip-path='url(%23d)'%3e%3cpath d='M-4.022-9.261V-23.372H9.909V-9.261Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",shortCut:["Tab"]},sg={name:"ToggleSelectedReverse",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M8.4-7.469a.381.381%2c0%2c0%2c1%2c.382.382h0V-2.15a.381.381%2c0%2c0%2c1-.382.382H2.1a.381.381%2c0%2c0%2c1-.382-.382h0V-7.087A.381.381%2c0%2c0%2c1%2c2.1-7.469H8.4Zm-.525.906H2.627v3.887H7.874Z' transform='translate(-1.721 7.469)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M16.812-10.1a4.782%2c4.782%2c0%2c0%2c0-1.839%2c3.751l-.763%2c0a.093.093%2c0%2c0%2c0-.073.15l1.2%2c1.526a.094.094%2c0%2c0%2c0%2c.147%2c0L16.694-6.2a.093.093%2c0%2c0%2c0-.073-.15H15.86a4.019%2c4.019%2c0%2c0%2c1%2c.03-.463%2c3.888%2c3.888%2c0%2c0%2c1%2c.461-1.419%2c3.9%2c3.9%2c0%2c0%2c1%2c1.005-1.173%2c3.884%2c3.884%2c0%2c0%2c1%2c1.381-.693%2c3.887%2c3.887%2c0%2c0%2c1%2c1.488-.106c.064.008.129.017.192.029v-.893A4.752%2c4.752%2c0%2c0%2c0%2c16.812-10.1Z' transform='translate(-14.118 11.118)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='c'%3e%3cpath d='M13.382-15.3A.381.381%2c0%2c0%2c1%2c13-15.682h0v-4.937A.381.381%2c0%2c0%2c1%2c13.382-21h6.3a.381.381%2c0%2c0%2c1%2c.382.382h0v4.937a.381.381%2c0%2c0%2c1-.382.382h-6.3Zm.525-.906h5.247v-3.887H13.906Z' transform='translate(-13 21)' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='d'%3e%3cpath d='M4.583-12.907a4.782%2c4.782%2c0%2c0%2c0%2c1.839-3.751l.763%2c0a.093.093%2c0%2c0%2c0%2c.073-.15l-1.2-1.526a.094.094%2c0%2c0%2c0-.147%2c0L4.7-16.809a.093.093%2c0%2c0%2c0%2c.073.15h.762a4.017%2c4.017%2c0%2c0%2c1-.03.463%2c3.888%2c3.888%2c0%2c0%2c1-.461%2c1.419A3.9%2c3.9%2c0%2c0%2c1%2c4.039-13.6a3.884%2c3.884%2c0%2c0%2c1-1.381.693%2c3.887%2c3.887%2c0%2c0%2c1-1.488.106c-.064-.008-.129-.017-.192-.029v.893A4.752%2c4.752%2c0%2c0%2c0%2c4.583-12.907Z' transform='translate(-0.978 18.372)' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0)'%3e%3crect width='16' height='16' transform='translate(0)' fill='none'/%3e%3cg transform='translate(0 0.294)'%3e%3cg transform='translate(8.374)' clip-path='url(%23a)'%3e%3cpath d='M-3.279-12.469H11.412V.863H-3.279Z' transform='translate(-0.537 8.653)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(0 2.005)' clip-path='url(%23b)'%3e%3cpath d='M9.118-2.007V-16.118H23.049V-2.007Z' transform='translate(-12.934 12.302)' fill='%23666'/%3e%3c/g%3e%3crect width='6' height='5' transform='translate(0.327 10.603)' fill='%23ccc'/%3e%3cg transform='translate(0.093 10.006)' clip-path='url(%23c)'%3e%3cpath d='M22.691-12.669H8V-26H22.691Z' transform='translate(-11.816 22.184)' fill='%23666'/%3e%3c/g%3e%3cg transform='translate(9.701 7.221)' clip-path='url(%23d)'%3e%3cpath d='M9.909-23.372V-9.261H-4.022V-23.372Z' transform='translate(0.206 19.556)' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",shortCut:["Shift","Tab"]},ug={name:"Save",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e%3cdefs%3e%3cclipPath id='a'%3e%3cpath d='M0%2c0H16V-16H0Z' fill='none'/%3e%3c/clipPath%3e%3cclipPath id='b'%3e%3cpath d='M13.958-11.417l-2.541-2.541a1%2c1%2c0%2c0%2c0-.708-.292H2.25a.5.5%2c0%2c0%2c0-.5.5v11.5a.5.5%2c0%2c0%2c0%2c.5.5h11.5a.5.5%2c0%2c0%2c0%2c.5-.5v-8.461A1%2c1%2c0%2c0%2c0%2c13.958-11.417ZM6-13.25h4v1.75H6ZM8-4.594a2.251%2c2.251%2c0%2c0%2c1-2.25-2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-9.094a2.251%2c2.251%2c0%2c0%2c1%2c2.25%2c2.25A2.251%2c2.251%2c0%2c0%2c1%2c8-4.594Zm0-3.5a1.25%2c1.25%2c0%2c0%2c0-1.25%2c1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-5.594a1.25%2c1.25%2c0%2c0%2c0%2c1.25-1.25A1.25%2c1.25%2c0%2c0%2c0%2c8-8.094Z' fill='none'/%3e%3c/clipPath%3e%3c/defs%3e%3cg transform='translate(0 16)'%3e%3cg clip-path='url(%23a)'%3e%3cpath d='M-5-21H21V5H-5Z' fill='rgba(0%2c0%2c0%2c0)'/%3e%3c/g%3e%3cg clip-path='url(%23b)'%3e%3cpath d='M-3.25-19.25h22.5V3.25H-3.25Z' fill='%23666'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",shortCut:["Ctrl","S"]},dg={name:"Speed",icon:"data:image/svg+xml,%3csvg id='icon_speed_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1223' data-name='%e7%bb%84 1223' transform='translate(-0.118 0.286)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_402' data-name='%e7%9f%a9%e5%bd%a2 402' class='cls-2' width='1.5' height='6' rx='0.75' transform='translate(8.118 12.043) rotate(90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_403' data-name='%e7%9f%a9%e5%bd%a2 403' class='cls-2' width='1.5' height='4' rx='0.75' transform='translate(6.118 9.043) rotate(90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_404' data-name='%e7%9f%a9%e5%bd%a2 404' class='cls-2' width='1.5' height='3' rx='0.75' transform='translate(5.118 6.043) rotate(90)'/%3e %3cpath id='%e5%80%8d%e9%80%9f' class='cls-2' d='M219.687%2c4.153H217.4L218.806.2a.267.267%2c0%2c0%2c0%2c.017-.084.278.278%2c0%2c0%2c0-.289-.269h-2.872a.28.28%2c0%2c0%2c0-.269.186l-2.312%2c6.454a.267.267%2c0%2c0%2c0-.017.084.278.278%2c0%2c0%2c0%2c.289.269h2.552l-.541%2c4.539c0%2c.008-.008.02-.008.029a.278.278%2c0%2c0%2c0%2c.289.269.285.285%2c0%2c0%2c0%2c.253-.157l4.042-6.986a.248.248%2c0%2c0%2c0%2c.029-.111.272.272%2c0%2c0%2c0-.281-.273Z' transform='translate(-206.065 1.862)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["&#8593;","&#8595;"],shortCutUseHtml:!0},hg={name:"PlayPause",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: white%3b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_playPause' transform='translate(0.16 0.16)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-1' width='16' height='16' transform='translate(-0.16 -0.16)'/%3e %3cg id='%e7%bb%84_1221' data-name='%e7%bb%84 1221' transform='translate(1.84 3.671)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M6.038%2c3.829.508.059A.32.32%2c0%2c0%2c0%2c0%2c.271V7.813a.32.32%2c0%2c0%2c0%2c.508.212l5.53-3.771A.249.249%2c0%2c0%2c0%2c6.038%2c3.829Z' transform='translate(1 0)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_400' data-name='%e7%9f%a9%e5%bd%a2 400' class='cls-2' width='1.524' height='7.618' rx='0.762' transform='translate(6.828 0.233)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_401' data-name='%e7%9f%a9%e5%bd%a2 401' class='cls-2' width='1.524' height='7.618' rx='0.762' transform='translate(9.718 0.233)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:["Space"]},gg={name:"FastForward",icon:"data:image/svg+xml,%3csvg id='icon_forward_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1225' data-name='%e7%bb%84 1225' transform='translate(-0.347 0.145)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M6%2c3.807.505.058A.318.318%2c0%2c0%2c0%2c0%2c.27v7.5a.318.318%2c0%2c0%2c0%2c.505.211L6%2c4.229A.248.248%2c0%2c0%2c0%2c6%2c3.807Z' transform='translate(2.348 3.855)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M6%2c3.807.505.058A.318.318%2c0%2c0%2c0%2c0%2c.27v7.5a.318.318%2c0%2c0%2c0%2c.505.211L6%2c4.229A.248.248%2c0%2c0%2c0%2c6%2c3.807Z' transform='translate(7.824 3.855)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["&#8594;"],shortCutUseHtml:!0},fg={name:"Rewind",icon:"data:image/svg+xml,%3csvg id='icon_back_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_1224' data-name='%e7%bb%84 1224' transform='translate(-0.347 0.145)'%3e %3cpath id='%e8%b7%af%e5%be%84' class='cls-2' d='M.118%2c3.807%2c5.615.058A.318.318%2c0%2c0%2c1%2c6.12.27v7.5a.318.318%2c0%2c0%2c1-.505.211L.118%2c4.229A.248.248%2c0%2c0%2c1%2c.118%2c3.807Z' transform='translate(7.824 3.855)'/%3e %3cpath id='%e8%b7%af%e5%be%84-2' data-name='%e8%b7%af%e5%be%84' class='cls-2' d='M.118%2c3.807%2c5.615.058A.318.318%2c0%2c0%2c1%2c6.12.27v7.5a.318.318%2c0%2c0%2c1-.505.211L.118%2c4.229A.248.248%2c0%2c0%2c1%2c.118%2c3.807Z' transform='translate(2.348 3.855)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["&#8592;"],shortCutUseHtml:!0},bg=[{name:"AnnotateRect",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frame_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:[Gh,Gh]},{name:"AnnotateInvalidRect",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2%2c .cls-6 %7b fill: none%3b %7d .cls-1 %7b clip-rule: evenodd%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d .cls-6 %7b stroke: %23666%3b %7d .cls-7 %7b stroke: none%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_27' data-name='%e8%b7%af%e5%be%84 27' class='cls-1' d='M3.5-16v.874h7V-16H14v3.5h-.875v7H14V-2H10.5v-.875h-7V-2H0V-5.5H.875v-7H0V-16Zm0%2c2.624v.876H2.625v7H3.5v.875h7V-5.5h.875v-7H10.5v-.875Z' transform='translate(0 16)'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_26' data-name='%e8%b7%af%e5%be%84 26' class='cls-2' d='M-1747%2c836H-67V-109H-1747Z' transform='translate(1747 109)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_frameNull_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_131' data-name='%e7%9f%a9%e5%bd%a2 131' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3cg id='%e7%bb%84_25' data-name='%e7%bb%84 25' class='cls-3' transform='translate(0 -16)'%3e %3cg id='%e7%bb%84_24' data-name='%e7%bb%84 24' class='cls-4' transform='translate(-1528.625 -81.375)'%3e %3cpath id='%e8%b7%af%e5%be%84_25' data-name='%e8%b7%af%e5%be%84 25' class='cls-5' d='M-5-21H17.75V1.75H-5Z' transform='translate(1529.25 98)'/%3e %3c/g%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-6' transform='translate(1.699 -12.97) rotate(-45)'%3e %3crect class='cls-7' width='1.6' height='13'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:[Gh,"Ctrl",Gh]},{name:"SelectRect",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23666%3b %7d .cls-2 %7b fill: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_frameActive_kj' transform='translate(1 17)'%3e %3crect id='%e7%9f%a9%e5%bd%a2_120' data-name='%e7%9f%a9%e5%bd%a2 120' class='cls-2' width='16' height='16' transform='translate(-1 -17)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_93' data-name='%e7%9f%a9%e5%bd%a2 93' class='cls-2' width='14' height='14' transform='translate(0 -16)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_2' data-name='%e5%87%8f%e5%8e%bb 2' class='cls-1' d='M1768.5%2c9503H1765v-3.5h.875v-7H1765V9489h3.5v.873l7%2c0V9489h3.5v3.5h-.875v4.5h-1.75v-4.5h-.873v-.873l-7%2c0v.875h-.873v7h.873v.873h4.5v1.751h-4.5V9503Z' transform='translate(-1765 -9505)'/%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-1' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.667 -6.406) rotate(-30)'/%3e %3c/g%3e%3c/svg%3e",shortCut:[qh],noticeInfo:"RightClick"},{name:"ToggleRectEffectiveness",icon:Kh,shortCut:["F"]},{name:"ToggleRectEffectiveness",icon:Kh,shortCut:["Ctrl",Gh]},{name:"DeleteRect",icon:Yh,shortCut:[qh],noticeInfo:"SelectAndDoubleClick"},_h,$h,ng,eg,ag,rg,og,lg,sg],pg=[{name:"AnnotatePoint",icon:"data:image/svg+xml,%3csvg id='icon_point_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e%3c/svg%3e",shortCut:[Gh]},{name:"AnnotateInvalidPoint",icon:"data:image/svg+xml,%3csvg id='icon_pointNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3%2c .cls-5 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d .cls-4 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3ccircle id='%e6%a4%ad%e5%9c%86%e5%bd%a2' class='cls-2' cx='2.392' cy='2.392' r='2.392' transform='translate(4.811 4.811)'/%3e %3c/g%3e %3cg id='%e7%9f%a9%e5%bd%a2_92' data-name='%e7%9f%a9%e5%bd%a2 92' class='cls-3' transform='translate(2.757 4.089) rotate(-45)'%3e %3crect class='cls-4' width='1.6' height='13'/%3e %3crect class='cls-5' x='0.5' y='0.5' width='0.6' height='12'/%3e %3c/g%3e%3c/svg%3e",shortCut:["Ctrl",Gh]},{name:"SelectPoint",icon:"data:image/svg+xml,%3csvg id='icon_pointActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='icon_point_active' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bc%96%e7%bb%84_14' data-name='%e7%bc%96%e7%bb%84 14' transform='translate(0.797 0.797)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='1.794' height='3.588' transform='translate(6.306)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.794' height='3.588' transform='translate(6.306 10.818)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_12' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 12' class='cls-2' width='1.794' height='3.588' transform='translate(10.818 8.173) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_13' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 13' class='cls-2' width='1.794' height='3.588' transform='translate(0 8.173) rotate(-90)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_3' data-name='%e5%87%8f%e5%8e%bb 3' class='cls-2' d='M1506.068%2c9508.987a2.393%2c2.393%2c0%2c1%2c1%2c2.391-2.394l-1.919%2c0v2.345A2.436%2c2.436%2c0%2c0%2c1%2c1506.068%2c9508.987Z' transform='translate(-1498.865 -9499.393)'/%3e %3c/g%3e %3cpath id='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd_4' data-name='%e4%b8%89%e8%a7%92%e5%bd%a2%e5%a4%87%e4%bb%bd 4' class='cls-2' d='M2.628%2c0%2c5.256%2c5.256%2c2.632%2c4.129%2c0%2c5.256Z' transform='translate(7.139 9.595) rotate(-30)'/%3e%3c/svg%3e",shortCut:[qh],noticeInfo:"RightClick"},{name:"DeletePoint",icon:Yh,shortCut:["Del"]},_h,$h,ng,eg,ag,rg,og,lg,sg],vg="data:image/svg+xml,%3csvg id='icon_polygon_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e",mg="data:image/svg+xml,%3csvg id='icon_polygonDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e",yg="data:image/svg+xml,%3csvg id='icon_lineCont_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3 %7b fill: none%3b %7d .cls-2%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e%3c/svg%3e",xg="data:image/svg+xml,%3csvg id='icon_unGrip_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_14' data-name='%e5%87%8f%e5%8e%bb 14' class='cls-2' d='M12806.69-12915.114c-.083%2c0-.175%2c0-.282-.008a5.869%2c5.869%2c0%2c0%2c1-3.878-1.69%2c5.509%2c5.509%2c0%2c0%2c1-1.6-4.091%2c6.209%2c6.209%2c0%2c0%2c1%2c2.044-4.437l1.039-.934%2c2.459%2c2.731-1.168%2c1.052a2.434%2c2.434%2c0%2c0%2c0-.522%2c2.823%2c2.39%2c2.39%2c0%2c0%2c0%2c1.854.923%2c2%2c2%2c0%2c0%2c0%2c1.346-.508l1.3-1.171%2c2.46%2c2.732-1.169%2c1.054A5.813%2c5.813%2c0%2c0%2c1%2c12806.69-12915.114Zm6.1-3.518h0l-2.477-2.717%2c1.962-1.769a.619.619%2c0%2c0%2c1%2c.412-.164.6.6%2c0%2c0%2c1%2c.454.209l1.639%2c1.824a.6.6%2c0%2c0%2c1-.046.863l-1.942%2c1.753Zm-5.33-5.8h0l-2.523-2.675%2c1.938-1.745a.614.614%2c0%2c0%2c1%2c.412-.163.609.609%2c0%2c0%2c1%2c.455.209l1.769%2c1.7a.6.6%2c0%2c0%2c1-.046.866l-2%2c1.8Z' transform='translate(-12800 12929.97)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_271' data-name='%e7%9f%a9%e5%bd%a2 271' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c 2.047)'/%3e%3c/svg%3e",Og=[{name:"AnnotatePolygon",icon:vg,shortCut:[Gh]},{name:"AnnotateInvalidPolygon",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16.707' height='16' viewBox='0 0 16.707 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-1%2c .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-1%2c .cls-3 %7b stroke-miterlimit: 10%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b stroke: %23666%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_polygonNull_kj' transform='translate(0 -2)'%3e %3cg id='icon_line' transform='translate(10)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-1' width='1.499' height='15.5' transform='translate(-6.021 6.04) rotate(-45)'/%3e %3c/g%3e %3cg id='icon_polygonNull_kj-2' data-name='icon_polygonNull_kj' transform='translate(0 2)'%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_10' data-name='%e5%87%8f%e5%8e%bb 10' class='cls-4' d='M18500.451%2c2801h-6v-1.5h4.514l1.488%2c1.487%2c0%2c.012Zm-5.148-1.584h0l-1.059-1.058%2c1.783-1.789%2c1.061%2c1.059-1.785%2c1.788Zm7.895-2.75%2c0%2c0-1.5-1.5V2792.5h1.5v4.166Zm-2.578-2.579h0l-1.061-1.06%2c1.047-1.051%2c1.064%2c1.059-1.051%2c1.052Z' transform='translate(-18489.699 -2787.496)'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:["Ctrl",Gh]},{name:"SelectPolygon",icon:"data:image/svg+xml,%3csvg id='icon_polygonActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-3 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-4' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-4' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e",shortCut:[qh],noticeInfo:"RightClick"},{name:"TogglePolygonEffectiveness",icon:"data:image/svg+xml,%3csvg id='icon_polygonChange_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e5%87%8f%e5%8e%bb_12' data-name='%e5%87%8f%e5%8e%bb 12' class='cls-1' d='M18493%2c2716.574l0%2c0%2c8.451-8.572.242%2c4.933h-3.889v3.513l-4.8.129Z' transform='translate(-18489.408 -2704.132)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_11' data-name='%e5%87%8f%e5%8e%bb 11' class='cls-5' d='M18496.65%2c2716.5H18493V2715h3.65v1.5Zm5.1-4.7h-1.5V2708h1.5v3.8Z' transform='translate(-18488.25 -2703)'/%3e%3c/svg%3e",shortCut:["F"]},{name:"DeletePolygon",icon:mg,shortCut:["Del"]},{name:"ContinueToLabel",icon:yg,shortCut:["Space"]},{name:"InsertPoint",icon:"data:image/svg+xml,%3csvg id='icon_polygonInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2%2c .cls-3 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(9.222 9.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-4' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='6' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='6' transform='translate(4.75 13.5) rotate(-90)'/%3e%3c/svg%3e",noticeInfo:"SelectAndDoubleClick",shortCut:[Gh]},{name:"DeletePoint",icon:mg,noticeInfo:"SelectAndDoubleClick",shortCut:[qh]},{name:"StopAdsorption",icon:xg,noticeInfo:"Press",shortCut:["Alt"]},_h,$h,ng,eg,ag,rg,ig,og,cg,lg,sg,{name:"CombineOverlapArea",icon:"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect opacity='0.01' width='16' height='16' fill='black'/%3e%3cpath d='M10.002 9.52532H9.50201V10.0253V13.5406L2.50202 13.5406L2.50202 6.51493L6.00397 6.51493H6.50397V6.01493L6.50397 2.49963L13.5001 2.49963L13.5001 9.52532H10.002Z' fill='%23CCCCCC' stroke='%23666666'/%3e%3c/svg%3e",noticeInfo:"",shortCut:["Alt","Z"]},{name:"CropOverlapArea",icon:"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect opacity='0.01' width='16' height='16' fill='black'/%3e%3crect x='13.5' y='9.49963' width='7' height='7' transform='rotate(180 13.5 9.49963)' fill='%23CCCCCC' stroke='%23666666'/%3e%3crect x='9.5' y='13.4996' width='7' height='7' transform='rotate(180 9.5 13.4996)' fill='%23CCCCCC' stroke='%23666666'/%3e%3c/svg%3e",noticeInfo:"",shortCut:["ALT","X"]}],wg=[{name:"AnnotateLine",icon:vg,shortCut:[Gh]},{name:"AnnotateInvalidLine",icon:"data:image/svg+xml,%3csvg id='icon_lineNull_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3cpath id='%e5%87%8f%e5%8e%bb_6' data-name='%e5%87%8f%e5%8e%bb 6' class='cls-2' d='M14710.063%2c1373.254h0l-1.063-1.059%2c2.184-2.182%2c1.062%2c1.061-2.18%2c2.181Zm5.009-5.009h0l-1.061-1.06%2c2.417-2.415%2c1.06%2c1.06-2.414%2c2.415Z' transform='translate(-14705.021 -1360.788)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.499' height='7.5' transform='translate(4.979 6.04) rotate(-45)'/%3e%3c/svg%3e",shortCut:["Ctrl",Gh]},{name:"HorizontalOrVertical",icon:"data:image/svg+xml,%3csvg id='icon_straightLine_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b stroke: rgba(0%2c0%2c0%2c0)%3b stroke-miterlimit: 10%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%bb%84_955' data-name='%e7%bb%84 955' transform='translate(-0.721)'%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(12.721 9.721) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(1.721 9.723) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-2' width='1.5' height='10.5' transform='translate(3.471 9.002) rotate(-90)'/%3e %3c/g%3e%3c/svg%3e",shortCut:["Shift",Gh]},{name:"SelectLine",icon:"data:image/svg+xml,%3csvg id='icon_lineActive_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b fill: white%3b stroke: %23707070%3b %7d .cls-5 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3cg id='%e7%9f%a9%e5%bd%a2_254' data-name='%e7%9f%a9%e5%bd%a2 254' class='cls-2' transform='translate(1.22 1.22)'%3e %3crect class='cls-5' width='14.4' height='14.4'/%3e %3crect class='cls-1' x='0.5' y='0.5' width='13.4' height='13.4'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e",shortCut:[qh]},{name:"ToggleLineEffectiveness",icon:"data:image/svg+xml,%3csvg id='icon_lineChange_kj' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: %23666%3b %7d .cls-4 %7b clip-path: url(%23clip-path)%3b %7d .cls-5 %7b fill: white%3b stroke: %23707070%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_399' data-name='%e8%b7%af%e5%be%84 399' class='cls-1' d='M2.139-17.789H7.33L8-17.12H3.813l1.172%2c1.34h-1ZM7.5-18.627H2.306l-.67-.669H5.823l-1.172-1.34h1L7.5-18.627Z' transform='translate(-1.636 20.636)'/%3e %3c/clipPath%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_599' data-name='%e8%b7%af%e5%be%84 599' class='cls-2' d='M9.937%2c14.746h-7.9V1.654' transform='translate(-0.316)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-3' width='1.5' height='10.5' transform='translate(5.04 12.465) rotate(-135)'/%3e %3cpath id='%e8%b7%af%e5%be%84_598' data-name='%e8%b7%af%e5%be%84 598' class='cls-2' d='M2.035%2c1.654H15.557V9.5' transform='translate(-0.815)'/%3e %3cg id='%e7%bb%84_965' data-name='%e7%bb%84 965' transform='translate(8 31)'%3e %3cg id='%e7%bb%84_646' data-name='%e7%bb%84 646' class='cls-4' transform='translate(1.636 -20.636)'%3e %3cpath id='%e8%b7%af%e5%be%84_398' data-name='%e8%b7%af%e5%be%84 398' class='cls-3' d='M-3.364-25.636H6.07v7.927H-3.364Z' transform='translate(1.829 24.101)'/%3e %3c/g%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-5' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-5' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e%3c/svg%3e",shortCut:["F"]},{name:"DeleteLine",icon:Yh,noticeInfo:"SelectAndDoubleClick",shortCut:[qh]},{name:"ContinueToLabel",icon:yg,noticeInfo:"Select",shortCut:["Space"]},{name:"ToggleLineParticularity",icon:"data:image/svg+xml,%3csvg id='icon_lineSpecial_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: %23ccc%3b %7d .cls-2 %7b fill: none%3b %7d .cls-3 %7b fill: white%3b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3cpath id='%e8%b7%af%e5%be%84_607' data-name='%e8%b7%af%e5%be%84 607' class='cls-1' d='M12.564%2c4.659l-8.833%2c9.22h8.833Z' transform='translate(0 -1)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(5.604 11.916) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(8.115 9.239) rotate(-135)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M0%2c0H1.5l.011%2c1.686H.011Z' transform='translate(10.625 6.561) rotate(-135)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_255' data-name='%e7%9f%a9%e5%bd%a2 255' class='cls-5' width='1.5' height='7' transform='translate(12 5)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_261' data-name='%e7%9f%a9%e5%bd%a2 261' class='cls-5' width='1.5' height='8' transform='translate(4.75 13.5) rotate(-90)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-3' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(14.222 14.222) rotate(180)'/%3e%3c/svg%3e",noticeInfo:"ToSide",shortCut:["Shift",Gh]},{name:"InsertPoint",icon:"data:image/svg+xml,%3csvg id='icon_lineInsert_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-2 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-3%2c .cls-4 %7b fill: %23666%3b %7d .cls-4 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3c/defs%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-1' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2' class='cls-2' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-2' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='4' height='4' transform='translate(10.222 10.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-4' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e",noticeInfo:"ClickOnLine",shortCut:[Gh]},{name:"DeletePoint",icon:"data:image/svg+xml,%3csvg id='icon_lineDel_kj' xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1%2c .cls-2 %7b fill: none%3b %7d .cls-1 %7b stroke: %23ccc%3b %7d .cls-3 %7b fill: white%3b %7d .cls-3%2c .cls-4 %7b stroke: %23666%3b stroke-miterlimit: 10%3b %7d .cls-4%2c .cls-5 %7b fill: %23666%3b %7d .cls-5 %7b stroke: rgba(0%2c0%2c0%2c0)%3b %7d .cls-6 %7b stroke: none%3b %7d %3c/style%3e %3c/defs%3e %3cg id='%e7%9f%a9%e5%bd%a2_273' data-name='%e7%9f%a9%e5%bd%a2 273' class='cls-1' transform='translate(1.221 1.22)'%3e %3crect class='cls-6' width='14' height='14'/%3e %3crect class='cls-2' x='0.5' y='0.5' width='13' height='13'/%3e %3c/g%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_10' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 10' class='cls-2' width='16' height='16'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-3' width='3' height='3' transform='translate(5.222 14.222) rotate(180)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd_14-2' data-name='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd 14' class='cls-4' width='3' height='3' transform='translate(14.222 5.222) rotate(180)'/%3e %3cpath id='%e7%9f%a9%e5%bd%a2%e5%a4%87%e4%bb%bd' class='cls-5' d='M-.011-.213h1.5L1.5%2c8.8H0Z' transform='translate(5.747 11.758) rotate(-135)'/%3e%3c/svg%3e",noticeInfo:"DblClickOnPoint",shortCut:[qh]},{name:"StopAdsorption",icon:xg,noticeInfo:"Press",shortCut:["Alt"]},_h,$h,ng,eg,ag,rg,ig,og,cg,{name:"HideGraphics",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b fill: %23666%3b %7d .cls-3 %7b clip-path: url(%23clip-path)%3b %7d .cls-4 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_492' data-name='%e8%b7%af%e5%be%84 492' class='cls-1' d='M0%2c2H16V-14H0Z' transform='translate(0 14)'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_noDisplay' transform='translate(0 15)'%3e %3cg id='%e7%bb%84_817' data-name='%e7%bb%84 817' class='cls-3' transform='translate(0 -15)'%3e %3cpath id='%e8%b7%af%e5%be%84_491' data-name='%e8%b7%af%e5%be%84 491' class='cls-4' d='M-5-19H21V7H-5Z' transform='translate(0 15)'/%3e %3c/g%3e %3cpath id='%e5%87%8f%e5%8e%bb_1' data-name='%e5%87%8f%e5%8e%bb 1' class='cls-2' d='M7.114%2c9.861a7.321%2c7.321%2c0%2c0%2c1-3.965-1.19A8.865%2c8.865%2c0%2c0%2c1%2c.159%2c5.522a1.179%2c1.179%2c0%2c0%2c1%2c0-1.181%2c8.865%2c8.865%2c0%2c0%2c1%2c2.989-3.15c.1-.065.206-.128.311-.188l1.51%2c1.628a2.682%2c2.682%2c0%2c0%2c0-.27%2c1.2.42.42%2c0%2c0%2c0%2c.111.292.351.351%2c0%2c0%2c0%2c.267.119.367.367%2c0%2c0%2c0%2c.274-.119.414.414%2c0%2c0%2c0%2c.111-.292%2c1.928%2c1.928%2c0%2c0%2c1%2c.086-.582L9.065%2c7.047a3.241%2c3.241%2c0%2c0%2c1-1.949.623A3.325%2c3.325%2c0%2c0%2c1%2c4.6%2c6.545%2c3.852%2c3.852%2c0%2c0%2c1%2c3.556%2c3.836%2c3.98%2c3.98%2c0%2c0%2c1%2c4.04%2c1.91%2c8.1%2c8.1%2c0%2c0%2c0%2c1.015%2c4.931a8.574%2c8.574%2c0%2c0%2c0%2c2.647%2c2.8%2c6.217%2c6.217%2c0%2c0%2c0%2c3.451%2c1.04A6.16%2c6.16%2c0%2c0%2c0%2c10%2c8.057l.755.814A7.261%2c7.261%2c0%2c0%2c1%2c7.114%2c9.861Zm4.659-1.67h0l-.739-.8A8.7%2c8.7%2c0%2c0%2c0%2c13.21%2c4.931%2c8.088%2c8.088%2c0%2c0%2c0%2c10.185%2c1.91a3.981%2c3.981%2c0%2c0%2c1%2c.484%2c1.926%2c3.868%2c3.868%2c0%2c0%2c1-.751%2c2.357L6.295%2c2.286a1.512%2c1.512%2c0%2c0%2c1%2c.818-.23.357.357%2c0%2c0%2c0%2c.27-.12.409.409%2c0%2c0%2c0%2c.111-.292.417.417%2c0%2c0%2c0-.111-.292.355.355%2c0%2c0%2c0-.27-.12%2c2.2%2c2.2%2c0%2c0%2c0-1.368.46L4.6.46A7.088%2c7.088%2c0%2c0%2c1%2c7.114%2c0a7.321%2c7.321%2c0%2c0%2c1%2c3.965%2c1.19%2c8.85%2c8.85%2c0%2c0%2c1%2c2.989%2c3.15%2c1.179%2c1.179%2c0%2c0%2c1%2c0%2c1.181%2c8.821%2c8.821%2c0%2c0%2c1-2.295%2c2.669Z' transform='translate(1.088 -11.738)'/%3e %3crect id='%e7%9f%a9%e5%bd%a2_235' data-name='%e7%9f%a9%e5%bd%a2 235' class='cls-2' width='1.166' height='18.662' transform='matrix(0.719%2c -0.695%2c 0.695%2c 0.719%2c 0.745%2c -12.953)'/%3e %3c/g%3e%3c/svg%3e",noticeInfo:"",shortCut:["Z"]},lg,sg],kg={name:"Tagging",icon:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='16' height='16' viewBox='0 0 16 16'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b fill: none%3b %7d .cls-2 %7b clip-path: url(%23clip-path)%3b %7d .cls-3 %7b fill: rgba(0%2c0%2c0%2c0)%3b %7d .cls-4 %7b clip-path: url(%23clip-path-2)%3b %7d .cls-5 %7b fill: %23666%3b %7d %3c/style%3e %3cclipPath id='clip-path'%3e %3cpath id='%e8%b7%af%e5%be%84_317' data-name='%e8%b7%af%e5%be%84 317' class='cls-1' d='M0%2c0H16V-16H0Z'/%3e %3c/clipPath%3e %3cclipPath id='clip-path-2'%3e %3cpath id='%e8%b7%af%e5%be%84_319' data-name='%e8%b7%af%e5%be%84 319' class='cls-1' d='M14.656-8.831l-.462-4.884a.531.531%2c0%2c0%2c0-.478-.478l-4.884-.462H8.825a.16.16%2c0%2c0%2c0-.119.045L1.389-7.294a.156.156%2c0%2c0%2c0%2c0%2c.22L7.073-1.389a.155.155%2c0%2c0%2c0%2c.111.045A.155.155%2c0%2c0%2c0%2c7.3-1.389l7.317-7.317A.165.165%2c0%2c0%2c0%2c14.656-8.831ZM10.922-9.953a1%2c1%2c0%2c0%2c1-1-1%2c1%2c1%2c0%2c0%2c1%2c1-1%2c1%2c1%2c0%2c0%2c1%2c1%2c1A1%2c1%2c0%2c0%2c1%2c10.922-9.953Z'/%3e %3c/clipPath%3e %3c/defs%3e %3cg id='icon_tag_kj' transform='translate(0 16)'%3e %3cg id='%e7%bb%84_561' data-name='%e7%bb%84 561' class='cls-2'%3e %3cpath id='%e8%b7%af%e5%be%84_316' data-name='%e8%b7%af%e5%be%84 316' class='cls-3' d='M-5-21H21V5H-5Z'/%3e %3c/g%3e %3cg id='%e7%bb%84_562' data-name='%e7%bb%84 562' class='cls-4'%3e %3cpath id='%e8%b7%af%e5%be%84_318' data-name='%e8%b7%af%e5%be%84 318' class='cls-5' d='M-3.657-19.656H19.657V3.656H-3.657Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e",shortCut:[1,9]},Lg=[kg,ng,eg,ag,rg,og,cg],Cg=[ug,eg,ng,tg,ig,ag,rg,og,cg],Sg=wt.a.cloneDeep(rg),Ig=wt.a.cloneDeep(ag);Sg.name="NextFile",Ig.name="PreviousFile";var Ag,Pg,jg=[ug,kg,hg,dg,fg,gg,tg,Ig,Sg],Tg=i.EVideoToolName,Eg=(Ag={},Object(Je.a)(Ag,zo.Rect,bg),Object(Je.a)(Ag,zo.Tag,Lg),Object(Je.a)(Ag,zo.Point,pg),Object(Je.a)(Ag,zo.Polygon,Og),Object(Je.a)(Ag,zo.Line,wg),Object(Je.a)(Ag,zo.Text,Cg),Object(Je.a)(Ag,Tg.VideoTagTool,jg),Ag),Dg=function(e){var t,n=e.style,i=(e.title,e.toolName),a=Object(s.useState)(!1),r=Object(G.a)(a,2),o=(r[0],r[1]),c=Object(os.a)().t;if(!i)return null;var l={width:320,display:"flex",justifyContent:"space-between",margin:"23px 21px"},d={marginRight:10},h={display:"block",padding:"0 3px",minWidth:"20px",marginRight:"3px",border:"1px solid rgba(204,204,204,1)",verticalAlign:"middle",fontSize:"12px",textAlign:"center"},g=function(e,t){return u.a.createElement("div",{style:l,key:t},u.a.createElement("span",{style:{display:"flex",alignItems:"center"}},function(e){return"string"==typeof e?u.a.createElement("img",{width:16,height:16,src:e,style:d}):e}(e.icon),c(e.name)),u.a.createElement("span",{style:{display:"flex",alignItems:"center"}},e.noticeInfo&&u.a.createElement("span",{style:{marginRight:"5px",color:"#CCCCCC"}},c(e.noticeInfo)),f(e.shortCut,e.shortCutUseHtml,e.linkSymbol)))},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=e.map((function(i,a){return t?u.a.createElement("span",{key:a,style:{display:"flex"}},u.a.createElement("span",{style:h,dangerouslySetInnerHTML:{__html:i}})):a<e.length-1?"number"==typeof i?u.a.createElement("span",{key:a,style:{display:"flex"}},u.a.createElement("span",{style:h},i),u.a.createElement("span",{style:{marginRight:"3px"}},"~")):(null==i?void 0:i.startsWith("data"))?u.a.createElement("span",{key:a,style:{display:"flex"}},u.a.createElement("span",{className:"shortCutButton",style:{marginRight:"3px"}},u.a.createElement("img",{width:16,height:23,src:i})),u.a.createElement("span",{style:{marginRight:"3px"}},"+")):u.a.createElement("span",{key:a,style:{display:"flex"}},u.a.createElement("span",{style:h},i),u.a.createElement("span",{style:{marginRight:"3px"}},n||"+")):"number"==typeof i?u.a.createElement("span",{key:a,style:{display:"flex"}},u.a.createElement("span",{style:h},i)):(null==i?void 0:i.startsWith("data"))?u.a.createElement("span",{className:"shortCutButton",key:a,style:{marginRight:"3px"}},u.a.createElement("img",{width:16,height:23,src:i})):u.a.createElement("span",{style:h,key:a},i)}));return u.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center"}},i)},b=u.a.createElement("div",{className:"".concat(Mg,"__hotkey-content")},null==(t=Eg[i])?void 0:t.map((function(e,t){return g(e,t)}))),p=n||{width:100};return Eg[i]?u.a.createElement(xu.a,{placement:"topLeft",content:b,onMouseMove:function(){return o(!0)},onMouseLeave:function(){o(!1)},overlayClassName:"tool-hotkeys-popover"},u.a.createElement("div",{className:"shortCutTitle",onMouseMove:function(){return o(!0)},onMouseLeave:function(){return o(!1)},style:p},u.a.createElement("a",null,c("Hotkeys")))):null},Mg="".concat(Bc,"-footer"),Rg=function(){var e=_l((function(e){return{currentToolName:e.annotation.currentToolName}})),t=e.currentToolName;return u.a.createElement("div",{className:"tipsBar"},u.a.createElement(Dg,{toolName:t}))},Ng=n(1121),Vg=Object.defineProperty,Hg=Object.getOwnPropertySymbols,Bg=Object.prototype.hasOwnProperty,Zg=Object.prototype.propertyIsEnumerable,zg=function(e,t,n){return t in e?Vg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Fg=function(e,t){for(var n in t||(t={}))Bg.call(t,n)&&zg(e,n,t[n]);if(Hg){var i,a=Object(Se.a)(Hg(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Zg.call(t,n)&&zg(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Ug=function(e,t,n){return u.a.createElement("div",{key:t},"".concat(n("ConfirmTo")).concat(e.slice(0),"？"))},Jg=Object(kc.b)((function(e){var t,n,i=Fc.getCurrentStepInfo(null==(t=e.annotation)?void 0:t.step,null==(n=e.annotation)?void 0:n.stepList);return{toolInstance:e.annotation.toolInstance,stepInfo:i,imgList:e.annotation.imgList,imgIndex:e.annotation.imgIndex}}),null,null,{context:Yl})((function(e){var t=e.toolInstance,n=e.stepInfo,i=Object(s.useState)(null),a=Object(G.a)(i,2),r=a[0],o=a[1],c=Object(os.a)().t,l=[],d=null==n?void 0:n.config;if(0===(null==n?void 0:n.dataSourceStep)){var h={height:"25px",lineHeight:"25px",display:"flex",justifyContent:"center",alignItems:"center"};l.push({name:c(!0===t.valid?"SetAsInvalid":"SetAsValid"),key:"sureQuestion",imgSvg:u.a.createElement(Ng.a,{style:h}),hoverSvg:u.a.createElement(Ng.a,{style:Fg({color:"#666fff"},h)}),onClick:function(){t.setValid(!t.valid)}})}return(null==d?void 0:d.copyBackwardResult)&&l.unshift({name:c("CopyThePrevious"),key:"sureCopy",imgSvg:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-49.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88' transform='translate(21.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%23666666' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666666' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",hoverSvg:"data:image/svg+xml,%3c%3fxml version='1.0' encoding='UTF-8'%3f%3e%3csvg width='24px' height='24px' viewBox='0 0 24 24' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e %3c!-- Generator: Sketch 57 (83077) - https://sketch.com --%3e %3ctitle%3eicon_invalid_a%3c/title%3e %3cdesc%3eCreated with Sketch.%3c/desc%3e %3cdefs%3e %3crect id='path-1' x='0' y='0' width='24' height='24'%3e%3c/rect%3e %3c/defs%3e %3cg id='%e9%a1%b5%e9%9d%a21' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3e %3cg id='0_Slices' transform='translate(-166.000000%2c -234.000000)'%3e %3cg id='%e6%a0%87%e6%b3%a8%e6%97%a0%e6%95%88%e5%a4%87%e4%bb%bd' transform='translate(138.000000%2c 215.000000)'%3e %3cg id='icon_invalid' transform='translate(28.000000%2c 19.000000)'%3e %3cmask id='mask-2' fill='white'%3e %3cuse xlink:href='%23path-1'%3e%3c/use%3e %3c/mask%3e %3cg id='icon_invalid_active'%3e%3c/g%3e %3cpath d='M14.8132711%2c20.5 L3.35714286%2c20.5 C2.91670867%2c20.5 2.57142857%2c20.1826213 2.57142857%2c19.8055556 L2.57142857%2c3.19444444 C2.57142857%2c2.81737868 2.91670867%2c2.5 3.35714286%2c2.5 L20.6428571%2c2.5 C21.0832913%2c2.5 21.4285714%2c2.81737868 21.4285714%2c3.19444444 L21.4285714%2c15.2898676 L23%2c16.4514553 L23%2c3.19444444 C23%2c1.97602093 21.938175%2c1 20.6428571%2c1 L3.35714286%2c1 C2.06182497%2c1 1%2c1.97602093 1%2c3.19444444 L1%2c19.8055556 C1%2c21.0239791 2.06182497%2c22 3.35714286%2c22 L15.9411765%2c22 L14.8132711%2c20.5 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M8.5%2c10 C9.88071187%2c10 11%2c8.88071187 11%2c7.5 C11%2c6.11928813 9.88071187%2c5 8.5%2c5 C7.11928813%2c5 6%2c6.11928813 6%2c7.5 C6%2c8.88071187 7.11928813%2c10 8.5%2c10 Z M8.5%2c8.57142857 C7.90826634%2c8.57142857 7.42857143%2c8.09173366 7.42857143%2c7.5 C7.42857143%2c6.90826634 7.90826634%2c6.42857143 8.5%2c6.42857143 C9.09173366%2c6.42857143 9.57142857%2c6.90826634 9.57142857%2c7.5 C9.57142857%2c8.09173366 9.09173366%2c8.57142857 8.5%2c8.57142857 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M1.93578343%2c18 C4.08872055%2c14.8551688 6.74336715%2c13.7936147 9.20632589%2c14.9383326 C9.39666832%2c15.0267988 9.58966667%2c15.1227541 9.8383972%2c15.2511189 C11.2590222%2c15.9842746 11.4672631%2c16.0801404 12.0929951%2c16.2047792 C13.2715953%2c16.4395429 14.3253377%2c16.0173433 15.3845587%2c14.7865988 C17.834834%2c11.9395412 19.5284667%2c10.6940174 22%2c10.3111164 L21.8385808%2c9 C19.0487146%2c9.43221863 17.1525949%2c10.8266545 14.5357091%2c13.8673024 C13.7408033%2c14.7909303 13.0776295%2c15.056642 12.2992772%2c14.9016031 C11.8197086%2c14.8060784 11.6287028%2c14.7181469 10.3315315%2c14.0487032 C10.0702502%2c13.9138612 9.86453995%2c13.8115857 9.65795075%2c13.7155685 C6.66190483%2c12.3230858 3.4571787%2c13.6046086 1%2c17.1938506 L1.93578343%2c18 Z' id='%e8%b7%af%e5%be%84' fill='%23666FFF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M19.5%2c23 C21.4329966%2c23 23%2c21.4329966 23%2c19.5 C23%2c17.5670034 21.4329966%2c16 19.5%2c16 C17.5670034%2c16 16%2c17.5670034 16%2c19.5 C16%2c21.4329966 17.5670034%2c23 19.5%2c23 Z M19.5%2c22 C18.1192881%2c22 17%2c20.8807119 17%2c19.5 C17%2c18.1192881 18.1192881%2c17 19.5%2c17 C20.8807119%2c17 22%2c18.1192881 22%2c19.5 C22%2c20.8807119 20.8807119%2c22 19.5%2c22 Z' id='%e6%a4%ad%e5%9c%86%e5%bd%a2' fill='%236674FF' fill-rule='nonzero' mask='url(%23mask-2)'%3e%3c/path%3e %3cpath d='M21.2928932%2c17.7692308 L21.6464466%2c18.1227842 L21.6464466%2c17.4156774 L21.2928932%2c17.7692308 Z M17.7692308%2c21.2928932 L17.4156774%2c21.6464466 L18.1227842%2c21.6464466 L17.7692308%2c21.2928932 Z M17.7071068%2c21.2307692 L17.3535534%2c20.8772158 L17.3535534%2c21.5843226 L17.7071068%2c21.2307692 Z M21.2307692%2c17.7071068 L21.5843226%2c17.3535534 L20.8772158%2c17.3535534 L21.2307692%2c17.7071068 Z' id='%e7%9f%a9%e5%bd%a2' stroke='%23666FFF' mask='url(%23mask-2)'%3e%3c/path%3e %3c/g%3e %3c/g%3e %3c/g%3e %3c/g%3e%3c/svg%3e",onClick:function(){pv.dispatch({type:Lc.COPY_BACKWARD_RESULT})}}),u.a.createElement("div",{className:"newGeneralOperation"},l.map((function(e,t){return u.a.createElement("div",{style:{width:"100px"},key:e.key,className:"item",onMouseEnter:function(){o(e.key)},onMouseLeave:function(){o(null)}},u.a.createElement(Ss.a,{title:e.key.startsWith("sure")?Ug(e.name,e.key,c):e.name,disabled:!e.key.startsWith("sure"),placement:"topRight",okText:c("Confirm"),cancelText:c("Cancel"),onConfirm:e.onClick},u.a.createElement("div",{className:"toolName",style:{color:e.key===r?"#1B67FF":""}},e.name)))})))})),Wg=function(){var e=Ql(),t=_l((function(e){return e.annotation})),n=t.isShowOrder,i=t.isShowDirection,a=t.isShowAttribute,r=t.isShowAttributeText,o=Object(s.useState)({isShowAttributeText:!1,isShowAttribute:!1,isShowOrder:!1,isShowDirection:!1}),c=Object(G.a)(o,2),l=c[0],d=c[1],h=[{name:"显示标签信息",key:"isShowAttributeText",onChange:function(t){e(function(e){return{type:Lc.UPDATE_IS_SHOW_ATTRIBUTE,payload:{isShowAttribute:e}}}(t.target.checked))}},{name:"显示属性信息",key:"isShowAttribute",onChange:function(t){e(function(e){return{type:Lc.UPDATE_IS_SHOW_ATTRIBUTE_TEXT,payload:{isShowAttributeText:e}}}(t.target.checked))}},{name:"显示标记顺序",key:"isShowOrder",onChange:function(t){e(function(e){return{type:Lc.UPDATE_IS_SHOW_ORDER,payload:{isShowOrder:e}}}(t.target.checked))}},{name:"显示标记方向",key:"isShowDirection",onChange:function(t){e(function(e){return{type:Lc.UPDATE_IS_SHOW_DIRECTION,payload:{isShowDirection:e}}}(t.target.checked))}}];return Object(s.useEffect)((function(){d({isShowAttributeText:r,isShowAttribute:a,isShowOrder:n,isShowDirection:i})}),[n,i,a,r]),u.a.createElement(Qu.a,{name:"basic",layout:"vertical",autoComplete:"off",initialValues:l},h&&h.length>0&&h.map((function(e,t){var n=t<h.length-1?{marginBottom:"16px",marginTop:"0px"}:{marginBottom:"0px",marginTop:"0px"};return u.a.createElement(Qu.a.Item,{style:n,key:e.key,valuePropName:"checked",name:e.key},u.a.createElement(au.a,{onChange:e.onChange},e.name))})))},Xg=function(){var e=Object(s.useState)(u.a.createElement("div",null)),t=Object(G.a)(e,2),n=t[0],i=t[1],a=Object(s.useRef)();return u.a.createElement("div",{className:"lbc-left-sider"},u.a.createElement(Wu,{ref:a,width:148,height:166,okWord:"确认",closable:!1,cancelWord:"取消",content:n}),u.a.createElement("a",{id:"lbc-tool-set-id",onClick:function(e){var t,n=null==(t=document.getElementById("lbc-tool-set-id"))?void 0:t.getBoundingClientRect(),r={left:n.left,top:n.bottom};a.current.switchModal(!0),a.current.switchSetBounds(r),i(u.a.createElement(Wg,null))}},"显示设置"),u.a.createElement(Jg,null),u.a.createElement(Rg,null))},Gg=function(e){var t=e.disabled,n=e.imgList,i=Object(os.a)().t;return u.a.createElement(rs.a,{type:"primary",style:{marginLeft:10},onClick:function(){var e=pv.dispatch,t=pv.getState;n[0]?e(Rl(0)):Jl(e,t,0).then((function(t){t&&e(Rl(0))}))},disabled:t},i("NextStep"))},qg=function(e){var t,n=e.step,i=e.stepProgress,a=e.stepList,r=e.imgList,o=Object(os.a)().t,c=null==(t=Object(Dh.a)(a))?void 0:t.step;if(a.length<2||n===c)return null;var l=i<1;return l?u.a.createElement(ks.a,{title:o("StepNotFinishedNotify")},u.a.createElement("span",null,u.a.createElement(Gg,{disabled:l,imgList:r}))):u.a.createElement(Gg,{disabled:l,imgList:r})},Kg=Object(kc.b)((function(e){var t;return{imgList:e.annotation.imgList,annotationEngine:e.annotation.annotationEngine,stepProgress:e.annotation.stepProgress,toolName:null==(t=e.annotation.stepList[e.annotation.step-1])?void 0:t.tool,stepList:e.annotation.stepList,stepInfo:e.annotation.stepList[e.annotation.step-1],step:e.annotation.step,toolsBasicConfig:e.annotation.toolsBasicConfig}}),null,null,{context:Yl})((function(e){var t=e.goBack,n=e.isPreview,i=e.header,a=e.headerName,r=e.imgList,o=e.stepProgress,c=e.stepInfo,l=e.stepList,d=e.step,h=e.annotationEngine,g=e.toolsBasicConfig,f=Ql(),b=Object(s.useReducer)((function(e){return e+1}),0),p=Object(G.a)(b,2)[1],v=Object(s.useRef)(null),m=function(e){la.a.changeLanguage(e),null==h||h.setLang(e),p()},y=la.a.language,x=u.a.createElement(_d.a,{className:"".concat(Bc,"-header__icon"),onClick:function(){f(Vl(jc.Quit)),t&&t(r)}}),O=a?u.a.createElement("span",{className:"".concat(Bc,"-header__name")},a):"",w=l.length>1&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Xh,{stepProgress:o}),u.a.createElement(qg,{step:d,stepProgress:o,stepList:l,imgList:r})),k=u.a.createElement(Ad,{stepInfo:c}),L=u.a.createElement("div",{className:"".concat(Bc,"-header__lang")},u.a.createElement("span",{className:"".concat(Bc,"-langCN ").concat("cn"===y?"active":""),onClick:function(){return m("cn")}},"中文")," / ",u.a.createElement("span",{className:"".concat(Bc,"-langEN ").concat("en"===y?"active":""),onClick:function(){return m("en")}},"En")),C=u.a.createElement("div",{className:"nextImageOption"},u.a.createElement(rs.a,null,"跳过"),u.a.createElement(rs.a,{type:"primary",onClick:function(e){e.stopPropagation(),f(Fl())}},"下一页"));return i?"function"==typeof i?u.a.createElement("div",{className:Gu()("".concat(Bc,"-header")),ref:v},u.a.createElement("div",{className:"".concat(Bc,"-header__title")},i({backNode:x,headerNameNode:O,stepListNode:w,headerOptionNode:k,langNode:L}))):i:u.a.createElement("div",{className:Gu()("".concat(Bc,"-header")),ref:v},u.a.createElement("div",{className:"".concat(Bc,"-header__title")},u.a.createElement(ju,{toolsBasicConfig:g}),u.a.createElement("div",{id:"operationNode",className:"".concat(Bc,"-header__operationNode")},k),u.a.createElement(Xg,null),!n&&C))})),Yg=n(1122),Qg=n(1123),_g=function(e,t,n,i){e.forEach((function(e){var a=function(e,t,n){var i=n.find((function(t){return t.value===e})),a=i.subSelected.find((function(e){return e.value===t}));return{keyLabel:i.key,valueLabel:a.key}}(t,e,n),r=a.keyLabel,o=a.valueLabel,c=i.find((function(e){return e.keyLabel===r}));c?c.valuesLabelArray.push(o):i.push({keyLabel:r,valuesLabelArray:[o]})}))},$g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"number"==typeof e?parseFloat(e.toFixed(t)):e},ef=i.EVideoToolName,tf=function(e){var t=Math.floor(e/60),n=~~(e%60).toFixed(),i=(10*e).toString().split("").pop(),a=function(e){return e<10?"0".concat(e):e};return"".concat(a(t),":").concat(a(n),":").concat(i)},nf=function(){var e=u.a.useContext(mf),t=e.currentTime,n=e.duration,i=e.buffered,a=e.setCurrentTime,r=u.a.useRef(null),o="".concat($g(i/n*100,1),"%"),c="".concat($g(t/n*100,1),"%");return u.a.createElement("div",{className:us("video-progress"),ref:r,onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),function(e){if(r.current){var t=e.clientX,i=r.current.clientWidth,o=$g(t/i*n,1);a(o)}}(e)}},u.a.createElement("div",{className:us("video-slider")},u.a.createElement("div",{className:us("video-slider","played"),style:{width:c}}),u.a.createElement("div",{className:us("video-slider","loaded"),style:{width:o}}),u.a.createElement("div",{className:us("video-slider","played"),style:{width:c}})),u.a.createElement("div",{className:us("video-slider-bar"),style:{left:c}}))},af=function(){var e=u.a.useContext(mf),t=e.updateNextPlaybackRate,n=e.playbackRate,i=Object(os.a)().t;return u.a.createElement("span",{className:us("video-controller","speed")},u.a.createElement("span",null,i("Speed")),u.a.createElement("span",{className:us("video-controller","speedNum")},"".concat(n,"x")),u.a.createElement("span",{className:us("video-controller","speedButton")},u.a.createElement(Yg.a,{onClick:function(){t()}}),u.a.createElement(Nh.a,{onClick:function(){t(!1)}})))},rf=function(){var e=Object(os.a)().t;return u.a.createElement(Dg,{title:u.a.createElement("span",{className:us("video-controller","hotkey")},u.a.createElement("img",{src:"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='15' height='13' viewBox='0 0 15 13'%3e %3cdefs%3e %3cstyle%3e .cls-1 %7b opacity: 0.8%3b %7d .cls-2 %7b fill: white%3b %7d %3c/style%3e %3c/defs%3e %3cg id='icon_keyboard_h' class='cls-1'%3e %3cg id='%e5%9b%be%e6%a0%87_%e8%ae%be%e7%bd%ae_%e5%bf%ab%e6%8d%b7%e9%94%ae'%3e %3cpath id='%e5%bd%a2%e7%8a%b6' class='cls-2' d='M2.142%2c13a2.205%2c2.205%2c0%2c0%2c1-1.513-.585A1.949%2c1.949%2c0%2c0%2c1%2c0%2c11V2A2.083%2c2.083%2c0%2c0%2c1%2c2.149%2c0h10.7A2.083%2c2.083%2c0%2c0%2c1%2c15%2c2V11a1.927%2c1.927%2c0%2c0%2c1-.63%2c1.417A2.209%2c2.209%2c0%2c0%2c1%2c12.855%2c13H2.142ZM3.209%2c9a1%2c1%2c0%2c1%2c0%2c0%2c2h8.582a1%2c1%2c0%2c1%2c0%2c0-2ZM11%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261h1.639c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c12.6%2c5ZM6.716%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261H8.355c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c8.319%2c5ZM2.43%2c5c-.069%2c0-.287.058-.287.194V6.739c0%2c.085%2c0%2c.261.287.261H4.069c.217%2c0%2c.217-.156.217-.23V5.23A.243.243%2c0%2c0%2c0%2c4.033%2c5ZM11%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261h1.639c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c12.6%2c2ZM6.716%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261H8.355c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c8.319%2c2ZM2.43%2c2c-.069%2c0-.287.059-.287.2V3.739c0%2c.085%2c0%2c.261.287.261H4.069c.217%2c0%2c.217-.155.217-.23V2.23A.243.243%2c0%2c0%2c0%2c4.033%2c2Z'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e"}),e("Hotkeys")),style:{},toolName:ef.VideoTagTool})},of=function(){var e=u.a.useContext(mf),t=e.imgIndex,n=e.imgList,i=e.pageBackward,a=e.pageJump,r=e.pageForward;return u.a.createElement(ch,{isVideo:!0,pageBackward:i,imgIndex:t,pageJump:a,totalPage:n.length,pageForward:r,footerCls:us("video-controller")})},cf=function(){var e=u.a.useContext(mf),t=e.currentTime,n=10*e.duration-10*t,i=(n>0?n:0)/10;return u.a.createElement("div",{className:us("video-controller","time")},"".concat(tf(t)," / -").concat(tf(i)))},lf=function(){var e=u.a.useContext(mf),t=e.playPause,n=e.isPlay;return u.a.createElement("div",{className:us("video-controller","wrapper")},u.a.createElement(nf,null),u.a.createElement("div",{className:us("video-controller")},u.a.createElement("span",{onClick:function(){t()},className:us("video-controller","playButton")},n?u.a.createElement(Qg.a,null):u.a.createElement(ou.a,null)),u.a.createElement(cf,null),u.a.createElement(af,null),u.a.createElement("div",{className:us("video-controller","holder")}),u.a.createElement(of,null),u.a.createElement(rf,null)))},sf=function(e){var t=e.fileType,n=void 0===t?"image":t,i=e.isValid,a=Object(os.a)().t;return i?null:u.a.createElement("div",{style:{position:"absolute",inset:0,color:"white",display:"flex",alignItems:"center",fontSize:30,opacity:.7,background:"rgba(255, 87, 34, 1)",justifyContent:"center"}},a("".concat(n,"InvalidAndSkip")))},uf=Object.defineProperty,df=Object.getOwnPropertySymbols,hf=Object.prototype.hasOwnProperty,gf=Object.prototype.propertyIsEnumerable,ff=function(e,t,n){return t in e?uf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},bf=function(e,t){for(var n in t||(t={}))hf.call(t,n)&&ff(e,n,t[n]);if(df){var i,a=Object(Se.a)(df(t));try{for(a.s();!(i=a.n()).done;){n=i.value;gf.call(t,n)&&ff(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},pf=function(e){var t=e.invalidProps,n=e.errorProps,i=e.fileType;return t.isValid?n.isError?u.a.createElement(cs,bf({},bf({fileType:i},n))):null:u.a.createElement(sf,bf({},bf({fileType:i},t)))},vf=r.default,mf=u.a.createContext({isPlay:!1,playPause:function(){},updateNextPlaybackRate:function(){},playbackRate:1,currentTime:0,duration:0,buffered:0,setCurrentTime:function(){},imgList:[],imgIndex:-1,pageBackward:function(){},pageJump:function(e){},pageForward:function(){}}),yf=[.5,1,1.5,2,4,6,8,16],xf=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).changePlaybackPate=function(e){i.videoElm&&(i.videoElm.playbackRate=e,i.setState({playbackRate:e}))},i.playPause=function(){var e,t,n;(null==(e=i.videoElm)?void 0:e.paused)?null==(t=i.videoElm)||t.play():null==(n=i.videoElm)||n.pause()},i.updateNextPlaybackRate=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=yf.findIndex((function(e){return e===i.state.playbackRate})),n=e?Math.min(t+1,yf.length-1):Math.max(t-1,0);i.changePlaybackPate(yf[n])},i.fastForward=function(){i.videoElm&&i.setCurrentTime(i.videoElm.currentTime+.1)},i.rewind=function(){i.videoElm&&i.setCurrentTime(i.videoElm.currentTime-.1)},i.keydown=function(e){e.keyCode===vf.Space&&(e.preventDefault(),i.playPause()),e.keyCode===vf.Up&&(e.preventDefault(),i.updateNextPlaybackRate()),e.keyCode===vf.Down&&(e.preventDefault(),i.updateNextPlaybackRate(!1)),e.keyCode===vf.Left&&(e.preventDefault(),i.rewind()),e.keyCode===vf.Right&&(e.preventDefault(),i.fastForward())},i.onPlay=function(){i.setState({isPlay:!0},i.onVideoStart)},i.onPause=function(){i.onVideoStopped()},i.onVideoStopped=function(){i.setState({isPlay:!1}),i.timeInterval&&(clearInterval(i.timeInterval),i.timeInterval=void 0),i.videoElm&&i.setCurrentTime(i.videoElm.currentTime)},i.onVideoStart=function(){"undefined"!=typeof window&&(i.timeInterval=window.setInterval((function(){var e,t,n;if(i.videoElm)try{if((null==(e=i.videoElm)?void 0:e.buffered.length)>0){var a=null==(t=i.videoElm)?void 0:t.buffered.end(0);i.setState({currentTime:$g(null==(n=i.videoElm)?void 0:n.currentTime,1),buffered:a})}}catch(a){}}),50))},i.resetVideoData=function(){i.setState({currentTime:0,buffered:0,error:!1,isPlay:!1}),i.videoElm&&(i.videoElm.playbackRate=i.state.playbackRate),i.onVideoStopped()},i.setDuration=function(){var e;if(i.videoElm){var t=$g(null==(e=i.videoElm)?void 0:e.duration,1);i.setState({duration:t})}},i.setCurrentTime=function(e){i.videoElm&&(i.videoElm.currentTime=e,i.setState({currentTime:e}))},i.reload=function(){var e;null==(e=i.videoElm)||e.load()},i.onError=function(){i.resetVideoData(),i.setState({error:!0})},i.state={playbackRate:1,currentTime:0,isPlay:!1,duration:0,buffered:0,error:!1},i.videoRef=u.a.createRef(),i}return Object(He.a)(n,[{key:"videoElm",get:function(){var e;return null==(e=this.videoRef)?void 0:e.current}},{key:"videoSrc",get:function(){var e,t,n=this.props,i=n.imgIndex,a=n.imgList;return i>-1&&null!=(t=null==(e=a[i])?void 0:e.url)?t:""}},{key:"componentDidMount",value:function(){var e,t;null==window||window.addEventListener("keydown",this.keydown),(null==(e=this.videoRef)?void 0:e.current)&&this.props.setVideoRef&&this.props.setVideoRef(null==(t=this.videoRef)?void 0:t.current)}},{key:"componentWillUnmount",value:function(){null==window||window.removeEventListener("keydown",this.keydown)}},{key:"render",value:function(){var e=this.state,t=e.isPlay,n=e.playbackRate,i=e.currentTime,a=e.duration,r=e.buffered,o=e.error,c=this.props,l=c.imgList,s=c.imgIndex,d=c.pageBackward,h=c.pageJump,g=c.pageForward,f=c.valid,b=this.playPause,p=this.updateNextPlaybackRate,v=this.onPause,m=this.onPlay,y=this.resetVideoData,x=this.setDuration,O=this.setCurrentTime,w=this.onError,k=this.videoRef,L=this.videoSrc;return u.a.createElement(mf.Provider,{value:{videoRef:this.videoRef,isPlay:t,playPause:b,updateNextPlaybackRate:p,playbackRate:n,currentTime:i,duration:a,buffered:r,setCurrentTime:O,imgIndex:s,imgList:l,pageBackward:d,pageJump:h,pageForward:g}},u.a.createElement("div",{className:us("video-wrapper")},u.a.createElement("div",{className:us("video-container")},u.a.createElement("video",{ref:k,className:us("video"),src:L,onPause:v,onPlay:m,onLoadedMetadata:y,onError:w,onDurationChange:x,width:"100%",height:"100%",onClick:b}),u.a.createElement(pf,{fileType:"video",errorProps:{reloadImage:this.reload,backgroundColor:"#e2e2e2",ignoreOffsetY:!0,isError:o},invalidProps:{isValid:f}})),u.a.createElement(lf,null)))}}]),n}(u.a.Component),Of={position:"absolute",zIndex:20,padding:"0 20px",color:"white",fontSize:15,lineHeight:"32px",background:"rgba(0, 255, 255, 0.32)",top:0,right:0,maxHeight:"calc(100% - 80px)",overflowY:"scroll"},wf=function(e){var t=function(e,t){var n;try{return null!=(n=null==e?void 0:e.reduce((function(e,n){return function(e,t){return e.sort((function(e,n){var i=t.findIndex((function(t){return e===t.value})),a=t.findIndex((function(e){return n===e.value}));return i-a}))}(Object.keys(n.result),t).forEach((function(i){var a,r=null==(a=n.result[i])?void 0:a.split(";");_g(r,i,t,e)})),e}),[]))?n:[]}catch(e){return[]}}(e.result,e.inputList);return u.a.createElement("div",{style:Of},u.a.createElement("table",null,u.a.createElement("tbody",null,t.map((function(e){var t=e.keyLabel,n=e.valuesLabelArray;return u.a.createElement("tr",{key:t},u.a.createElement("td",{style:{paddingRight:8}},"".concat(t,":")),u.a.createElement("td",null,"".concat(n.join("、"))))})))))},kf=function(e){Object(Fe.a)(n,e);var t=Object(Ue.a)(n);function n(e){var i;return Object(Ve.a)(this,n),(i=t.call(this,e)).fns={},i.labelSelectedList=[],i.clearResult=function(){var e=arguments.length>1?arguments[1]:void 0,t=e?i.state.tagResult.map((function(t){return(null==t?void 0:t.result[e])&&delete t.result[e],t})):[];i.setState({tagResult:t},(function(){return i.emitEvent("render")}))},i.exportData=function(){var e,t,n,a,r,o,c,l=null!=(t=null==(e=i.videoRef)?void 0:e.duration)?t:0,s=null==(n=i.videoRef)?void 0:n.getVideoPlaybackQuality(),u=null==s?void 0:s.totalVideoFrames,d=null!=(r=null==(a=i.videoRef)?void 0:a.videoWidth)?r:0,h=null!=(c=null==(o=i.videoRef)?void 0:o.videoHeight)?c:0;return[i.state.tagResult,{valid:i.state.valid,duration:l,frames:u,videoWidth:d,videoHeight:h}]},i.emitEvent=function(e){i.fns[e]&&i.fns[e]()},i.combineResult=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e){var a=e.isMulti,r=e.value,o=r.key,c=r.value;if(a){var l=null!=(n=null==(t=i[o])?void 0:t.split(";"))?n:[];l.includes(c)?l=l.filter((function(e){return e!==c})):l.push(c);var s=new Set(l);return i[o]=Array.from(s).join(";"),wt.a.pickBy(s,(function(e){return e}))}return i[o]=i[o]===c?void 0:c,i}},i.setResult=function(e){i.setState({tagResult:e}),i.fns.render&&i.fns.render()},i.setLabel=function(e,t){i.setLabelBySelectedList(e,t)},i.keydown=function(e){var t=function(e){return e<=57&&e>=49?e-48:e<=105&&e>=97?e-96:0}(e.keyCode);if(t){var n=t-1;if(1===i.config.inputList.length)return i.labelSelectedList=[0,n],i.setLabel(0,n),void setTimeout((function(){i.labelSelectedList=[],i.emitEvent("render")}),500);1===i.labelSelectedList.length?(i.labelSelectedList=[i.labelSelectedList[0],n],i.setLabel(i.labelSelectedList[0],n),setTimeout((function(){i.labelSelectedList=[],i.emitEvent("render")}),500)):(i.labelSelectedList=[n],i.emitEvent("expend"))}},i.setValid=function(e){i.setState({valid:e}),!1===e&&i.setState({tagResult:[]}),i.emitEvent("render")},i.setResultFromImgList=function(e){var t,n=e.imgList,a=e.imgIndex,r=e.step;if(n[a]){var o=Ic(n[a].result),c=o["step_".concat(r)];i.setState({tagResult:null!=(t=null==c?void 0:c.result)?t:[],valid:void 0===(null==o?void 0:o.valid)||o.valid})}},i.state={tagResult:[],labelSelectedList:[],valid:!0},i}return Object(He.a)(n,[{key:"config",get:function(){var e=Fc.getCurrentStepInfo(this.props.step,this.props.stepList);return null==e?void 0:e.config}},{key:"history",get:function(){return{initRecord:function(){},pushHistory:function(){}}}},{key:"currentTagResult",get:function(){var e;return null!=(e=this.state.tagResult[0])?e:{}}},{key:"valid",get:function(){return this.state.valid}},{key:"singleOn",value:function(e,t){this.fns[e]=t}},{key:"on",value:function(e,t){this.singleOn(e,t)}},{key:"getTagResultByCode",value:function(e,t){var n,i,a;try{var r=null!=(i=null==(n=this.config)?void 0:n.inputList)?i:[],o=r.length>1,c=void 0!==t?t:e,l=o?r[void 0!==t?e:0]:r[0],s=(null!=(a=l.subSelected)?a:[])[c];if(l&&s)return{value:{key:l.value,value:s.value},isMulti:l.isMulti}}catch(r){return}}},{key:"setLabelBySelectedList",value:function(e,t){var n,i,a,r,o=this,c=this.getTagResultByCode(e,t);if(c){var l=this.combineResult(c,null!=(i=null==(n=this.state.tagResult[0])?void 0:n.result)?i:{}),s=[{sourceID:xr.getSourceID(),id:null!=(r=null==(a=this.currentTagResult)?void 0:a.id)?r:gn(8,62),result:l}];this.setState({tagResult:s},(function(){return o.emitEvent("render")}))}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keydown),this.props.onMounted(this),this.setResultFromImgList(this.props)}},{key:"componentWillUnmount",value:function(){document.addEventListener("keydown",this.keydown),this.props.onUnmounted()}},{key:"shouldComponentUpdate",value:function(e){return e.imgIndex!==this.props.imgIndex&&this.setResultFromImgList(e),!0}},{key:"render",value:function(){var e,t=this,n=this.props,i=n.imgIndex,a=n.imgList,r=n.pageForward,o=n.pageJump,c=n.pageBackward,l=this.state,s=l.tagResult,d=l.valid;return u.a.createElement("div",{style:{height:"100%",width:"100%",position:"relative"}},u.a.createElement(xf,{imgIndex:i,imgList:a,pageBackward:c,pageForward:r,pageJump:o,valid:d,setVideoRef:function(e){t.videoRef=e}}),u.a.createElement(wf,{result:s,inputList:null==(e=this.config)?void 0:e.inputList}))}}]),n}(u.a.Component),Lf=Object(kc.b)((function(e){return{annotation:e.annotation}}))((function(e){var t=e.annotation,n=t.imgList,i=t.imgIndex,a=t.stepList,r=t.step,o=Object(kc.e)();return u.a.createElement(kf,{imgIndex:i,imgList:n,pageBackward:function(){return o(zl())},pageForward:function(){return o(Fl())},pageJump:function(e){return o(Ul(~~e))},onMounted:function(e){o({type:Lc.SET_TOOL,payload:{instance:e}})},onUnmounted:function(){o({type:Lc.SET_TOOL,payload:{instance:void 0}})},stepList:a,step:r})})),Cf=n(446),Sf=n(452);function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},If.apply(this,arguments)}var Af=function(e){return s.createElement("svg",If({width:42,height:32,viewBox:"0 0 42 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Pg||(Pg=s.createElement("path",{d:"M21.9995 2V30M34.9995 8L26.9995 8M34.9995 14H26.9995M3.99951 30H37.9995C39.1041 30 39.9995 29.1046 39.9995 28V4C39.9995 2.89543 39.1041 2 37.9995 2H3.99951C2.89494 2 1.99951 2.89543 1.99951 4V28C1.99951 29.1046 2.89494 30 3.99951 30Z",stroke:"black",strokeWidth:4})))},Pf=n(1071),jf=n(423),Tf=u.a.memo((function(e){var t=e.style,n=e.icon,i=e.className;return u.a.createElement(Pf.a,{className:i,component:n,style:t})}),(function(e,t){return Object(jf.a)(e.style,t.style)&&e.className===t.className})),Ef=Object.defineProperty,Df=Object.getOwnPropertySymbols,Mf=Object.prototype.hasOwnProperty,Rf=Object.prototype.propertyIsEnumerable,Nf=function(e,t,n){return t in e?Ef(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Vf=function(e,t){for(var n in t||(t={}))Mf.call(t,n)&&Nf(e,n,t[n]);if(Df){var i,a=Object(Se.a)(Df(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Rf.call(t,n)&&Nf(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Hf=function(e,t){var n,i=[];if(t&&t.length>0&&(i=[].concat(Object(Ne.a)(i),Object(Ne.a)(t))),e&&e.length>0){var a,r=Object(Se.a)(e);try{for(r.s();!(a=r.n()).done;){var o=a.value;(null==(n=o.config)?void 0:n.attributeList)&&(i=[].concat(Object(Ne.a)(i),Object(Ne.a)(o.config.attributeList)))}}catch(e){r.e(e)}finally{r.f()}}return i},Bf=Object(kc.b)((function(e){return{copytoolInstance:Vf({},e.annotation.toolInstance),toolInstance:e.annotation.toolInstance,attributeList:e.annotation.attributeList,toolsBasicConfig:e.annotation.toolsBasicConfig,currentToolName:e.annotation.currentToolName,imgListCollapse:e.toolStyle.imgListCollapse,toolStyle:e.toolStyle}}),null,null,{context:Yl})((function(e){var t,n=Object(s.useState)(0),i=Object(G.a)(n,2)[1],a=e.attributeList,r=e.toolsBasicConfig,o=e.currentToolName,c=e.toolInstance,l=e.copytoolInstance,d=e.toolStyle,h=Object(s.useContext)(qu),g=Object(s.useState)([]),f=Object(G.a)(g,2),b=f[0],p=f[1],v=Object(s.useState)(0),m=Object(G.a)(v,2),y=m[0],x=m[1],O=Object(s.useState)(0),w=Object(G.a)(O,2),k=w[0],L=w[1],C=Object(s.useState)(),S=Object(G.a)(C,2),I=S[0],A=S[1],P=Object(s.useState)(!1),j=Object(G.a)(P,2),T=j[0],E=j[1],D=Object(s.useState)([]),M=Object(G.a)(D,2),R=M[0],N=M[1],V=function(){var e=Object(s.useContext)(qu),t=e.topViewInstance,n=e.mainViewInstance;return{updateTopViewAttribute:function(e){null==t||t.pointCloud2dOperation.setDefaultAttribute(e)},updateMainViewAttribute:function(e){null==n||n.setDefaultAttribute(e)}}}(),H=V.updateMainViewAttribute,B=d.resultCollapse,Z=Ql();Object(s.useEffect)((function(){var e,t;(null==l?void 0:l.defaultAttribute)?A(null==l?void 0:l.defaultAttribute):(null==(e=h.mainViewInstance)?void 0:e.attribute)&&A(null==(t=h.mainViewInstance)?void 0:t.attribute)}),[l,null==(t=h.mainViewInstance)?void 0:t.attribute]),Object(s.useEffect)((function(){if(a&&a.length>0){var e=window.innerWidth;x(e-190)}}),[a,e.imgListCollapse]),Object(s.useEffect)((function(){if(y>0&&b&&b.length>0){var e=document.createElement("canvas").getContext("2d");e.font="16px";for(var t=0,n=0,i=0;i<b.length&&(n++,t+200<y);i++){var a=null==e?void 0:e.measureText(b[i].key+" "+i+1);b[i].key.length>6&&(a=null==e?void 0:e.measureText(b[i].key.substring(0,6)+"... "+i+1)),t+=1.38*Number(null==a?void 0:a.width)+26+8+5}L(n)}}),[y,b]);var z=u.a.createElement("img",{style:{width:14,marginLeft:-4,marginBottom:3},src:"data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.50599 3.54165L5.442 6.60563C5.19793 6.84971 4.8022 6.84971 4.55812 6.60563L1.49414 3.54165L2.0834 2.95239L5.00006 5.86906L7.91673 2.95239L8.50599 3.54165Z' fill='black' fill-opacity='0.6'/%3e%3c/svg%3e"}),F=u.a.createElement("img",{style:{width:14,marginLeft:-4,marginBottom:3},src:"data:image/svg+xml,%3csvg width='10' height='10' viewBox='0 0 10 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8.50599 3.54165L5.442 6.60563C5.19793 6.84971 4.8022 6.84971 4.55812 6.60563L1.49414 3.54165L2.0834 2.95239L5.00006 5.86906L7.91673 2.95239L8.50599 3.54165Z' fill='%231B67FF'/%3e%3c/svg%3e"}),U=Object(s.useCallback)((function(){if(b.length>=k){var e=b.slice(k).map((function(e,t){return{label:u.a.createElement("a",{className:Gu()({chooseAttribute:e.key===I}),onClick:function(t){t.stopPropagation(),A(e.value),c&&c.setDefaultAttribute(e.key),h.mainViewInstance&&(null==H||H(e.key)),i((function(e){return e+1}))}},u.a.createElement("div",{className:"circle",style:{backgroundColor:d.attributeColor[Wn.getAttributeIndex(e.key,null!=R?R:[])+1].valid.stroke,marginRight:5}}),u.a.createElement("span",{className:"attributeName"},e.value)),key:e.key}}));return u.a.createElement(Cf.a,{items:e})}return u.a.createElement("div",null)}),[k,b,c,I]);return Object(s.useEffect)((function(){var e=[],t=[];o&&r&&r.length>0?(e=r.filter((function(e,t){return e.tool===o})),(null==e?void 0:e[0].config)&&Object.keys(null==e?void 0:e[0].config).indexOf("attributeList")>0&&(t=a.concat(null==e?void 0:e[0].config.attributeList))):t=a,p(t)}),[a,r,o]),Object(s.useEffect)((function(){var t,n=Hf(e.toolsBasicConfig,e.attributeList);(null==h?void 0:h.mainViewInstance)?null==(t=null==h?void 0:h.mainViewInstance)||t.setAllAttributes(n):c&&(null==c||c.setAllAttributes(n)),N(n)}),[o,null==c?void 0:c.isShowOrder,r,a,h.mainViewInstance]),u.a.createElement("div",{className:"attributeCollapseRow"},u.a.createElement("div",{className:"attributeBox",key:I},b&&b.length>0&&b.map((function(e,t){var n=u.a.createElement(rs.a,{onClick:function(t){t.stopPropagation(),A(e.key),c&&c.setDefaultAttribute(e.key),h.mainViewInstance&&(null==H||H(e.key)),i((function(e){return e+1}))},style:{border:"0px",borderRadius:"4px",padding:"1px 8px",backgroundColor:e.key===I?d.attributeColor[Wn.getAttributeIndex(e.key,null!=R?R:[])+1].valid.stroke:"#FFFFFF",color:e.key===I?"#ffffff":""},key:e.key},u.a.createElement("div",{className:"circle",style:{backgroundColor:d.attributeColor[Wn.getAttributeIndex(e.key,null!=R?R:[])+1].valid.stroke,marginRight:5}}),u.a.createElement("span",{title:e.key,className:"attributeName"},"".concat(e.key," ").concat(t<=8?t+1:"")));return t<k?n:u.a.createElement("div",{key:t})})),k<b.length&&u.a.createElement(Mh.a,{overlay:U(),trigger:["click"]},u.a.createElement("a",{onMouseEnter:function(e){e.preventDefault(),E(!0)},onMouseLeave:function(e){e.preventDefault(),E(!1)},onClick:function(e){return e.preventDefault()},className:"dropdowm-a"},u.a.createElement(Sf.b,{style:{marginLeft:"10px",display:"flex",alignItems:"center"}},"更多",T?F:z)))),u.a.createElement("div",{className:"collapseAction",onClick:function(e){e.stopPropagation(),Z(function(e){return{type:Sc.UPDATE_RESULT_COLLAPSE_STATUS,payload:{resultCollapse:e}}}(!B)),setTimeout((function(){var e;null==(e=h.mainViewInstance)||e.emit("resetAllView")}),500)}},u.a.createElement(Tf,{icon:Af,className:"collapseIcon"})))})),Zf="".concat(Bc,"-layout"),zf=Object(kc.b)((function(e){var t=e.annotation,n=e.toolStyle;return{imgList:t.imgList,imgIndex:t.imgIndex,imgListCollapse:n.imgListCollapse}}),null,null,{context:Yl})((function(e){var t=e.imgList,n=e.imgIndex,i=e.imgListCollapse,a=Ql(),r=function(e){a(Ul(e))};return 1===t.length?u.a.createElement("div",null):u.a.createElement("div",{className:"sliderBox",id:"sliderBoxId"},t&&t.length>0&&u.a.createElement("div",{className:"".concat(Zf,i?"__left_sider_hide":"__left_sider")},t.map((function(e,t){return u.a.createElement("div",{key:e.id,className:"item"},u.a.createElement("div",{className:Gu()({imgItem:!0,chooseImg:t===Number(n)}),onClick:function(e){return function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))}(void 0,null,Object(m.a)().mark((function n(){return Object(m.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.stopPropagation(),n.next=3,oi.a.removeItem("zoom");case 3:return n.next=5,oi.a.removeItem("coordinate");case 5:r(t);case 6:case"end":return n.stop()}}),n)})))}},u.a.createElement("img",{className:Gu()({leftSiderImg:!0}),src:e.url})),u.a.createElement("span",{className:Gu()({chooseNumber:t===Number(n),pageNumber:!0})},t+1))}))),u.a.createElement("img",{className:"itemOpIcon",src:i?"data:image/svg+xml,%3csvg width='20' height='40' viewBox='0 0 20 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M0 0H16C18.2091 0 20 1.79086 20 4V36C20 38.2091 18.2091 40 16 40H0V0Z' fill='silver'/%3e%3cpath d='M12.3941 20.0003L6.65047 25.6071C6.37697 25.8806 6.37697 26.2909 6.65047 26.5644C6.92398 26.8379 7.33423 26.8379 7.60774 26.5644L14.3086 20.0003L7.47098 13.2994C7.47098 13.1627 7.19748 13.1627 7.06073 13.1627C6.92398 13.1627 6.65047 13.2994 6.51372 13.4362C6.24022 13.7097 6.24022 14.12 6.51372 14.3935L12.3941 20.0003Z' fill='white'/%3e%3c/svg%3e":"data:image/svg+xml,%3csvg width='20' height='40' viewBox='0 0 20 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M0 0H16C18.2091 0 20 1.79086 20 4V36C20 38.2091 18.2091 40 16 40H0V0Z' fill='silver'/%3e%3cpath d='M7.60594 19.9997L13.3495 14.3929C13.623 14.1194 13.623 13.7091 13.3495 13.4356C13.076 13.1621 12.6658 13.1621 12.3923 13.4356L5.69141 19.9997L12.529 26.7006C12.529 26.8373 12.8025 26.8373 12.9393 26.8373C13.076 26.8373 13.3495 26.7006 13.4863 26.5638C13.7598 26.2903 13.7598 25.88 13.4863 25.6065L7.60594 19.9997Z' fill='white'/%3e%3c/svg%3e",onClick:function(e){a(function(e){return{type:Sc.UPDATE_COLLAPSE_STATUS,payload:{imgListCollapse:e}}}(!i)),e.stopPropagation()}}))})),Ff=function(e){var t=e.title,n=e.toolbar,i=e.children,a=e.className,r=e.style;return u.a.createElement("div",{className:Gu()([a,us("point-cloud-container")]),style:r},t?u.a.createElement("div",{className:us("point-cloud-container","header")},u.a.createElement("span",{className:us("point-cloud-container","header-title")},t),n&&u.a.createElement("div",{className:us("point-cloud-container","header-toolbar")},n)):"",i)},Uf=function(e){var t,n=e.annotation;return{currentData:null!=(t=n.imgList[n.imgIndex])?t:{}}},Jf=a.ESortDirection,Wf=function(){var e=Object(s.useContext)(qu),t=e.pointCloudBoxList,n=e.setPointCloudResult,i=e.topViewInstance,a=e.backViewInstance,r=e.sideViewInstance,o=e.selectedIDs,c=e.selectedID,l=e.mainViewInstance,u=e.setSelectedIDs,d=Object(s.useMemo)((function(){var e=t.findIndex((function(e){return e.id===c}));if(e>-1)return{info:t[e],index:e}}),[c,t]),h=Object(s.useCallback)((function(e){(null==d?void 0:d.info)&&(t.splice(d.index,1,wt.a.merge(d.info,e)),n(wt.a.cloneDeep(t)))}),[c,t]),g=Object(s.useCallback)((function(e,i){var a=t.findIndex((function(e){return e.id===i}));a>-1&&(t.splice(a,1,wt.a.merge(t[a],e)),n(wt.a.cloneDeep(t)))}),[t]),f=Object(s.useCallback)((function(e){null==i||i.pointCloud2dOperation.setPolygonValidAndRender(e,!0),null==r||r.pointCloud2dOperation.setPolygonValidAndRender(e,!0),null==a||a.pointCloud2dOperation.setPolygonValidAndRender(e,!0)}),[i,r,a]),b=Object(s.useCallback)((function(){if(null==d?void 0:d.info){var e=d.info,t=e.id,n=e.valid;h({valid:!(void 0===n||n)}),f(t)}}),[f,d]),p=Object(s.useCallback)((function(e){var n=t.find((function(t){return t.id===e}));if(n){var i=n.id,a=n.valid;g({valid:!(void 0===a||a)},i),f(i)}}),[f,t]),v=Object(s.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jf.ascend;if(i&&!(o.length>1)){var t=i.pointCloud2dOperation.switchToNextPolygon(e);t&&u(t)}}),[i]);return{selectedBox:d,updateSelectedBox:h,changeSelectedBoxValid:b,changeBoxValidByID:p,selectNextBox:v,selectPrevBox:function(){v(Jf.descend)},deletePointCloudBox:function(e){n(t.filter((function(t){return t.id!==e}))),null==l||l.removeObjectByName(e),null==l||l.render()}}},Xf=Object.defineProperty,Gf=Object.defineProperties,qf=Object.getOwnPropertyDescriptors,Kf=Object.getOwnPropertySymbols,Yf=Object.prototype.hasOwnProperty,Qf=Object.prototype.propertyIsEnumerable,_f=function(e,t,n){return t in e?Xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},$f=function(e,t){for(var n in t||(t={}))Yf.call(t,n)&&_f(e,n,t[n]);if(Kf){var i,a=Object(Se.a)(Kf(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Qf.call(t,n)&&_f(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},eb=function(e,t){return Gf(e,qf(t))},tb=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},nb="Top",ib="Side",ab="Back",rb=function(e,t,n,i,a){if(n){var r,o=e.pointList.map((function(e){return Zr.transferCanvas2World(e,t)})),c=Object(G.a)(o,4),l=c[0],s=c[1],u=c[2],d=c[3],h=Zr.getLineCenterPoint([l,u]),g=Zr.getLineLength(l,s),f=Zr.getLineLength(s,u),b=Zr.getRadiusFromQuadrangle(e.pointList),p=0,v=1,m=n.getSensesPointZAxisInPolygon([l,s,u,d]);p=(m.maxZ+m.minZ)/2,v=m.maxZ-m.minZ,r={count:m.zCount},i&&(p=i.center.z,v=i.depth);var y={center:{x:h.x,y:h.y,z:p},width:f,height:g,depth:v,rotation:b,id:e.id},x=i?eb($f($f($f({},i),y),r),{rect:[l,s,u,d],zInfo:m}):eb($f(eb($f({},y),{attribute:"",valid:!0}),r),{order:1,rect:[l,s,u,d],zInfo:m,isVisible:!0,textAttribute:""});return a&&Object.assign(x,a),x}},ob=function(e,t,n){return tb(void 0,null,Object(m.a)().mark((function i(){var a,r,o,c,l,s,u;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:a=t.pointCloud2dOperation,r=t.pointCloudInstance,o=r.updateOrthoCamera(e,ma.Left),c=o.cameraPositionVector,n.name="selectedPointCloud",r.scene.add(n),r.setInitCameraPosition(c),r.setSelectedPointCloud(n),l=r.getBoxSidePolygon2DCoordinate(e),s=l.polygon2d,u=l.zoom,r.camera.zoom=u,r.camera.updateProjectionMatrix(),r.render(),a.zoomChangeOnCenter(u),a.setResultAndSelectedID([{id:e.id,valid:e.valid,pointList:s,textAttribute:"",isRect:!0,attribute:e.attribute}],e.id);case 6:case"end":return i.stop()}}),i)})))},cb=function(e,t,n){return tb(void 0,null,Object(m.a)().mark((function i(){var a,r,o,c,l,s,u;return Object(m.a)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return");case 2:a=t.pointCloud2dOperation,r=t.pointCloudInstance,o=r.updateOrthoCamera(e,ma.Back),c=o.cameraPositionVector,n.name="selectedPointCloud",r.scene.add(n),r.setInitCameraPosition(c),r.setSelectedPointCloud(n),l=r.getBoxBackPolygon2DCoordinate(e),s=l.polygon2d,u=l.zoom,r.camera.zoom=u,r.camera.updateProjectionMatrix(),r.render(),a.zoomChangeOnCenter(u),a.setResultAndSelectedID([{id:e.id,valid:e.valid,pointList:s,textAttribute:"",isRect:!0,attribute:e.attribute}],e.id);case 6:case"end":return i.stop()}}),i)})))},lb=function(e,t,n){var i;if(t&&n){n.render();var a=t.pointCloud2dOperation,r=t.pointCloudInstance,o=r.getBoxTopPolygon2DCoordinate(e).polygon2d,c=Yr.getAngleFromRect(o),l=Zr.rotateRectPointList(-c,o);r.setAngle(c);var s=Object(Ne.a)(a.polygonList),u=s.find((function(t){return t.id===e.id}));u?(u.pointList=l,u.angle=c):s.push({id:e.id,pointList:l,textAttribute:"",isRect:!0,valid:null==(i=e.valid)||i,attribute:e.attribute,angle:c}),a.setResultAndSelectedID(s,e.id)}},sb=function(){var e=Object(s.useContext)(qu),t=e.topViewInstance,n=e.sideViewInstance,i=e.backViewInstance,a=e.mainViewInstance,r=e.addPointCloudBox,o=e.setSelectedIDs,c=e.selectedIDs,l=e.pointCloudBoxList,u=e.setPointCloudResult,d=Wf().updateSelectedBox,h=_l((function(e){var t=e.annotation,n=t.stepList,i=t.step;return{currentData:t.imgList[t.imgIndex],config:Ic(Fc.getCurrentStepInfo(i,n).config)}})),g=h.currentData,f=h.config,b=Ql(),p=Wf().selectedBox,v=Object(os.a)().t,y=null==p?void 0:p.info;if(!t||!n)return{updateViewByTopPolygon:function(){},topViewSelectedChanged:function(){},sideViewUpdateBox:function(){}};var x=t.pointCloudInstance,O=function(e){if(e.id){var t=e.zInfo||(null==a?void 0:a.getSensesPointZAxisInPolygon(e.rect));if(t){var n=null==a?void 0:a.doUpateboxInScene(e.rect,t,e.attribute,e.id,e.textAttribute);null==a||a.emit("savePcResult",n),null==a||a.controls.update(),null==a||a.render()}}},w=function(e,t,i){if(y){var r=function(e,t,n,i){var a=Object(G.a)(e.pointList,3),r=a[0],o=a[1],c=a[2],l=Object(G.a)(t.pointList,3),s=l[0],u=l[1],d=l[2],h=Zr.getLineCenterPoint([r,c]),g=Zr.getLineCenterPoint([s,d]),f={x:h.x-g.x,y:h.y-g.y},b=Math.cos(n.rotation),p=Math.sin(n.rotation),v={x:f.x,y:f.x*p+f.y*b,z:h.y-g.y},m=Zr.getLineLength(r,o)-Zr.getLineLength(s,u),y=Zr.getLineLength(o,c)-Zr.getLineLength(u,d);return i.getNewBoxBySideUpdate(v,y,m,n).newBoxParams}(e,t,y,n.pointCloudInstance);if(a){var o=a.getSensesPointZAxisInPolygon(a.getCuboidFromPointCloudBox(r).polygonPointList,[r.center.z-r.depth/2,r.center.z+r.depth/2]).count;r=eb($f({},r),{count:o});var c=a.getCuboidFromPointCloudBox(r).polygonPointList;r.rect=c,r.zInfo={maxZ:r.center.z+r.depth/2,minZ:r.center.z-r.depth/2},k(r),d(r)}}},k=function(r){return tb(void 0,null,Object(m.a)().mark((function o(){var c,l,s,u,d;return Object(m.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(null==(l=e.topViewInstance)?void 0:l.pointCloud2dOperation.selectedID){o.next=2;break}return o.abrupt("return");case 2:return s=null==g?void 0:g.url,o.next=5,null==a?void 0:a.loadPCDFileByBox(s,r,{width:5,depth:5});case 5:u=o.sent,c={},Object(Je.a)(c,ib,(function(){n&&ob(r,n,u)})),Object(Je.a)(c,ab,(function(){i&&cb(r,i,u)})),Object(Je.a)(c,nb,(function(){lb(r,t,a)})),d=c,Object.keys(d).forEach((function(e){d[e]()})),t.pointCloud2dOperation.emit("resetView",r),O(r);case 8:case"end":return o.stop()}}),o)})))},L=function(e,r){return tb(void 0,null,Object(m.a)().mark((function o(){var c,l,s,u;return Object(m.a)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return l=null==g?void 0:g.url,o.next=3,null==a?void 0:a.loadPCDFileByBox(l,r,{width:5,depth:5});case 3:s=o.sent,c={},Object(Je.a)(c,ib,(function(){n&&ob(r,n,s)})),Object(Je.a)(c,ab,(function(){i&&cb(r,i,s)})),Object(Je.a)(c,nb,(function(){lb(r,t,a)})),u=c,Object.keys(u).forEach((function(t){t!==e&&u[t]()})),O(r);case 6:case"end":return o.stop()}}),o)})))};return{unSetSelectId:function(e){t.pointCloud2dOperation.selectedID===e&&(null==t||t.pointCloud2dOperation.setSelectedID(void 0),null==n||n.pointCloud2dOperation.setSelectedID(void 0),null==i||i.pointCloud2dOperation.setSelectedID(void 0),n.pointCloudInstance.clearPointCloudAndRender(),null==i||i.pointCloudInstance.clearPointCloudAndRender())},syncPointCloudViewsFromBox:k,updateViewByTopPolygon:function(e,n,i,c,l){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],u=$f({},e);u.pointList=Zr.rotateRectPointList(e.angle,e.pointList);var d=rb(u,n,x,void 0,{attribute:i,textAttribute:c});if(d){l&&(d=eb($f({},d),{zInfo:l,depth:l.maxZ-l.minZ}));var h=d,g=null==t?void 0:t.pointCloud2dOperation;if(s&&g.emit("resetView",h),(null==f?void 0:f.lowerLimitPointsNumInBox)&&"number"==typeof d.count&&d.count<f.lowerLimitPointsNumInBox)return _c.b.info(v("LowerLimitPointsNumInBox",{num:f.lowerLimitPointsNumInBox})),g.deletePolygon(d.id),void(null==a||a.deleteBox(d.id));o([h.id]),L(nb,h),r(h)}},topViewSelectedChanged:function(){var e=null==p?void 0:p.info,n=null==t?void 0:t.pointCloud2dOperation;n.setSelectedIDs(c),e&&n&&L(nb,e)},topViewUpdateBox:function(e,n,i){return tb(void 0,null,Object(m.a)().mark((function a(){var r,o,c,l;return Object(m.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!y){a.next=10;break}if(r=$f({},e),o=Zr.getRectCenterPoint(n.pointList),c=r.pointList.map((function(e){return Yr.getRotatePoint(o,e,r.angle/180*Math.PI)})),r.pointList=c,l=rb(r,i,t.pointCloudInstance,y)){a.next=6;break}return a.abrupt("return");case 6:return Object.assign(y,wt.a.pickBy(l,(function(e,t){return["width","height","x","y"]}))),d(l),a.next=10,k(l);case 10:case"end":return a.stop()}}),a)})))},sideViewUpdateBox:function(e,t){w(e,t)},backViewUpdateBox:function(e,t){w(e,t)},pointCloudBoxListUpdated:function(e){t.updatePolygonList(e)},clearAllResult:function(){l.forEach((function(e){null==a||a.removeObjectByName(e.id)})),null==a||a.render(),u([]),t.pointCloud2dOperation.clearActiveStatus(),t.pointCloud2dOperation.clearResult()},initPointCloud3d:function(){!a||(a.initPerspectiveCamera(),a.initRenderer(),a.render())},updatePointCloudData:function(){return tb(void 0,null,Object(m.a)().mark((function n(){var i,r,o,c,s,u,d,h,f,p;return Object(m.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((null==g?void 0:g.url)&&a){n.next=2;break}return n.abrupt("return");case 2:return Kl(b,!0),n.next=5,a.loadPCDFile(g.url);case 5:if(l.forEach((function(e){null==a||a.removeObjectByName(e.id)})),!g.result){n.next=12;break}d=va.getBoxParamsFromResultList(g.result),h=va.getPolygonListFromResultList(g.result),f=[],d.forEach((function(e){e.isVisible&&(f=null==a?void 0:a.doUpateboxInScene(e.rect,e.zInfo,e.attribute,e.id,e.textAttribute))})),null==a||a.emit("savePcResult",f),e.setPointCloudResult(d),e.setPolygonList(h),n.next=13;break;case 12:e.setPointCloudResult([]),e.setPolygonList([]);case 13:a.updateTopCamera(),p=null==(c=null==(o=Ic(null==(r=null==(i=g.result)?void 0:i.pointCloudTool)?void 0:r.result))?void 0:o.valid)||c,e.setPointCloudValid(p),null==(s=null==e?void 0:e.sideViewInstance)||s.clearAllData(),null==(u=null==e?void 0:e.backViewInstance)||u.clearAllData(),t.updateData(g.url,g.result),Kl(b,!1);case 16:case"end":return n.stop()}}),n)})))}}},ub=function(){var e=u.a.useContext(qu),t=Wf().selectedBox,n=Object(s.useState)([]),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(os.a)(),c=o.t,l=o.i18n;return Object(s.useEffect)((function(){var n;if(t){var i=va.transferBox2Kitti(t.info),a=i.length,o=i.width,l=i.height,s=i.rotation_y,u=[{label:c("Length"),value:a.toFixed(2)},{label:c("Width"),value:o.toFixed(2)},{label:c("Height"),value:l.toFixed(2)},{label:c("Rotation_y"),value:Gn.rad2deg(s).toFixed(2)}];null==(n=e.mainViewInstance)||n.filterPointsByBox(t.info).then((function(e){e?(u.push({label:c("PointCount"),value:"".concat(e.num)}),r(u)):r(u)}))}}),[t,l.language]),t?u.a.createElement("div",{style:{position:"absolute",color:"white",backgroundColor:"rgba(153, 153, 153, 0.3)",right:8,top:8,fontSize:12,padding:8,zIndex:20}},a.map((function(e){return u.a.createElement("div",{key:e.label},"".concat(e.label,": ").concat(e.value))}))):null},db=function(){var e=u.a.useContext(qu),t=Object(os.a)().t;return!1===e.valid?u.a.createElement("div",{style:{position:"absolute",backgroundColor:"rgb(242, 101, 73)",color:"white",left:0,top:0,fontSize:20,padding:"8px 16px",zIndex:20}},t("Invalid")):null},hb=Object.defineProperty,gb=Object.defineProperties,fb=Object.getOwnPropertyDescriptors,bb=Object.getOwnPropertySymbols,pb=Object.prototype.hasOwnProperty,vb=Object.prototype.propertyIsEnumerable,mb=function(e,t,n){return t in e?hb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},yb=function(e,t){for(var n in t||(t={}))pb.call(t,n)&&mb(e,n,t[n]);if(bb){var i,a=Object(Se.a)(bb(t));try{for(a.s();!(i=a.n()).done;){n=i.value;vb.call(t,n)&&mb(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},xb=function(e,t){return gb(e,fb(t))},Ob=u.a.createContext({isActive:!1,setTarget3DView:function(){},reset3DView:function(){}}),wb=Object(kc.b)(Uf,null,null,{context:Yl})((function(e){var t=e.currentData,n=e.config,i=e.showSettingConfig,a=Ql(),r=Object(s.useRef)(),o=Object(s.useState)(u.a.createElement("div",null)),c=Object(G.a)(o,2),l=c[0],d=c[1],h=Object(s.useContext)(qu),g=Object(s.useRef)(null),f=sb(),b=f.initPointCloud3d,p=f.unSetSelectId,v=hs(g),y=sb(),x=_l((function(e){return yb({},e.toolStyle)})),O=od().generateContent,w=Wf().selectedBox,k=function(e){var t,n=null==w?void 0:w.info;n&&(null==(t=h.mainViewInstance)||t.updateCameraByBox(n,e))},L=function(){var e;null==(e=h.mainViewInstance)||e.resetCamera()};Object(s.useEffect)((function(){!h.mainViewInstance||null==b||b()}),[v]),Object(s.useEffect)((function(){var e;null==(e=h.mainViewInstance)||e.applyZAxisPoints(h.zRange)}),[h.zRange]),Object(s.useEffect)((function(){var e;null==(e=h.mainViewInstance)||e.applySizePoints(h.pointSize)}),[h.pointSize]),Object(s.useEffect)((function(){var e,t=h.radiuses.split("；").map((function(e){return Number(e)}));null==(e=h.mainViewInstance)||e.applyCircle(t)}),[h.radiuses]),Object(s.useEffect)((function(){I()}),[null==t?void 0:t.url,i]),Object(s.useEffect)((function(){if(v&&h.topViewInstance&&h.sideViewInstance&&h.mainViewInstance){var e=h.topViewInstance.pointCloud2dOperation,n=h.mainViewInstance,i={width:e.container.clientWidth,height:e.container.clientHeight};n.singleOn("refreshPointCloud3dView",(function(){I()})),n.singleOn("deleteBoxes",(function(e){e&&e.length>0&&S(e)})),n.singleOn("setSelectedBoxByOrder",(function(e){var t=n.boxList;if(Array.isArray(t)&&t.length>0){var i,a=Object(Se.a)(t);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(r.order===e){n.setSelectedId(r.id),n.emit("updateSelectedBox",r.id);break}}}catch(e){a.e(e)}finally{a.f()}}})),n.singleOn("boxAdded",(function(t,n,a,o,c,l){var s,u=t.map((function(e){return Zr.transerWord2Canvas(e,i)})),g=Yr.getAngleFromRect(u),f=Zr.rotateRectPointList(-g,u);if(null==(s=h.topViewInstance)||s.pointCloudInstance.setAngle(g),e.setDefaultAttribute(a),e.drawingPointList=f,e.addDrawingPointToTopviewPolygonList(g,!0,o),e.setSelectedIDs([o]),e.render(),h.setSelectedIDs([o]),n){var b=Zr.getRightTopPoints(n),p={left:b.x,top:b.y};r.current.switchSetBounds(p),r.current.switchModal(!0),d(O({toolName:"pointCloudTool",order:c,textAttribute:l},{attributeName:a}))}})),n.singleOn("savePcResult",(function(e){null==n||n.updatePointCloudByAttributes(t.url,e),a({type:Lc.UPDATE_IMG_LIST,payload:{imgList:[xb(yb({},t),{result:JSON.stringify({pointCloudTool:{toolName:"pointCloudTool",result:e}})})]}})})),n.singleOn("updateSelectedBox",(function(t){var a,r;if(t){var o=e.polygonList.filter((function(e){return e.id===t})),c=Object(G.a)(o,1)[0],l=n.boxList.filter((function(e){return e.id===t})),s=Object(G.a)(l,1)[0];s&&(null==(a=h.topViewInstance)||a.pointCloudInstance.setAngle(c.angle),null==(r=h.topViewInstance)||r.pointCloud2dOperation.setDefaultAttribute(s.attribute),y.updateViewByTopPolygon(c,i,s.attribute,s.textAttribute,s.zInfo),h.setSelectedIDs([t]))}})),n.singleOn("resetAllView",(function(){var e=n.selectedId;e&&n.emit("updateSelectedBox",e)}))}}),[h,v,t,y]);var C=Object(s.useMemo)((function(){return{reset3DView:L,setTarget3DView:k,isActive:!!w}}),[w]),S=function(e){var a;if(g.current&&(null==t?void 0:t.url)&&Array.isArray(e)&&e.length>0){var r=h.mainViewInstance;if(r||(r=new Oc({container:g.current,isOrthographicCamera:!0,attribute:"",config:n.config}),h.setMainViewInstance(r),r.setAllAttributes(n.config.attributeList)),r.setShowSettings(i),t.result){var o=va.getBoxParamsFromResultList(t.result);r.setBoxList(o),e.forEach((function(e){p&&p(e),null==r||r.clearBoxInSceneById(e)})),h.setPointCloudResult(o),h.setPointCloudValid(null==(a=Ic(t.result))?void 0:a.valid),null==r||r.updatePointCloudByAttributes(t.url,o)}h.setMainViewInstance(r)}},I=function(){return function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))}(void 0,null,Object(m.a)().mark((function e(){var a,r,o,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.current&&(null==t?void 0:t.url)&&((r=h.mainViewInstance)||(r=new Oc({container:g.current,isOrthographicCamera:!0,attribute:"",config:n.config}),h.setMainViewInstance(r),r.setAllAttributes(n.config.attributeList)),r.setShowSettings(i),r.setStyle(x),t.result&&(o=va.getBoxParamsFromResultList(t.result),r.setBoxList(o),c=[],o.forEach((function(e){var t;e.isVisible?c=r.doUpateboxInScene(e.rect,e.zInfo,e.attribute,e.id,e.textAttribute):(null==r||r.clearBoxInSceneById(e.id),p&&e.id===(null==(t=h.mainViewInstance)?void 0:t.selectedId)&&p(e.id))})),null==r||r.emit("savePcResult",c),h.setPointCloudResult(o),h.setPointCloudValid(null==(a=Ic(t.result))?void 0:a.valid),null==r||r.updatePointCloudByAttributes(t.url,o)),h.setMainViewInstance(r));case 1:case"end":return e.stop()}}),e)})))};return u.a.createElement(u.a.Fragment,null,u.a.createElement(Wu,{ref:r,width:333,title:"详细信息",okWord:"确认",isSetPosition:!0,cancelWord:"取消",cancelEvent:function(){setTimeout((function(){var e;null==(e=null==h?void 0:h.mainViewInstance)||e.emit("refreshPointCloud3dView")}),50)},content:l}),u.a.createElement(Ff,{className:us("point-cloud-3d-container"),style:{height:"100%"}},u.a.createElement("div",{className:us("point-cloud-3d-content"),style:{position:"relative"}},u.a.createElement(Ob.Provider,{value:C}),u.a.createElement(ub,null),u.a.createElement("div",{className:us("point-cloud-3d-view"),id:"LABELU-POINTCLOUD",ref:g}))))})),kb=function(){return u.a.createElement("div",{className:us("point-cloud-container","empty-page")},u.a.createElement("img",{src:"data:image/svg+xml,%3csvg width='68' height='76' viewBox='0 0 68 76' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_96880_20054)'%3e%3crect x='6.45483' y='0.848145' width='54.0956' height='56.7089' rx='1.04533' fill='url(%23paint0_linear_96880_20054)' fill-opacity='0.12'/%3e%3cpath d='M67 41.3584V75H0V57.755L65.6869 40.348C66.3501 40.1722 67 40.6723 67 41.3584Z' fill='url(%23paint1_linear_96880_20054)'/%3e%3cpath d='M0.182861 35.8192V75.3775H67.0837V59.9767L1.60277 34.8433C0.91818 34.5806 0.182861 35.086 0.182861 35.8192Z' fill='url(%23paint2_linear_96880_20054)'/%3e%3cpath d='M34.8791 22C31.5247 22 28.8956 22.9519 26.9464 24.8558C25.4935 26.2426 24.5938 28.0144 24.2124 30.171C23.9638 31.5762 25.1568 32.7431 26.5838 32.7431V32.7431C28.0108 32.7431 29.098 31.5652 29.4401 30.1799C29.627 29.423 29.912 28.7815 30.3008 28.2555C31.2074 27.0316 32.6126 26.4423 34.5618 26.4423C36.103 26.4423 37.3269 26.8503 38.1882 27.7115C39.0041 28.5728 39.4574 29.7514 39.4574 31.2473C39.4574 32.3805 39.0494 33.4684 38.2335 34.4657L37.6896 35.1003C34.7431 37.7294 32.9753 39.6332 32.386 40.8571C31.9171 41.7614 31.6462 42.8142 31.5366 43.9972C31.4651 44.7702 31.9823 45.4588 32.7224 45.6932V45.6932C33.2639 45.8647 33.8406 45.8939 34.3967 45.778L34.957 45.6612C35.9679 45.4505 36.6494 44.5444 36.9087 43.5449C37.0201 43.1152 37.1747 42.7029 37.3723 42.3077C37.7802 41.4918 38.3695 40.7212 39.1854 40.0865C41.3613 38.1827 42.6758 36.9588 43.0838 36.5055C44.1717 35.0549 44.761 33.1964 44.761 30.9299C44.761 28.1648 43.8544 25.989 42.0412 24.4025C40.228 22.7706 37.8255 22 34.8791 22ZM34.0632 48.1552C33.0659 48.1552 32.25 48.4725 31.6154 49.1071C30.8901 49.7418 30.5728 50.5577 30.5728 51.5549C30.5728 52.5522 30.8901 53.3681 31.6154 54.0027C32.25 54.6374 33.0659 55 34.0632 55C35.0604 55 35.8764 54.6827 36.6016 54.0481C37.2363 53.4135 37.5989 52.5522 37.5989 51.5549C37.5989 50.5577 37.2363 49.7418 36.6016 49.1071C35.9217 48.4725 35.0604 48.1552 34.0632 48.1552Z' fill='%23F3F3F3' fill-opacity='0.25'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient id='paint0_linear_96880_20054' x1='33.5026' y1='0.848145' x2='33.5026' y2='57.557' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23EDEDED'/%3e%3cstop offset='1' stop-color='white'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_96880_20054' x1='33.5' y1='32.9214' x2='33.5' y2='62.8103' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23373737'/%3e%3cstop offset='1' stop-color='%230E0E0E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_96880_20054' x1='33.6333' y1='31.097' x2='33.6333' y2='74.1393' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%232C2C2C'/%3e%3cstop offset='1' stop-color='%23424242'/%3e%3c/linearGradient%3e%3cclipPath id='clip0_96880_20054'%3e%3crect width='68' height='76.0002' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e"}),u.a.createElement("span",{className:us("point-cloud-container","empty-page")},"暂无数据"))},Lb=Object.defineProperty,Cb=Object.defineProperties,Sb=Object.getOwnPropertyDescriptors,Ib=Object.getOwnPropertySymbols,Ab=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,jb=function(e,t,n){return t in e?Lb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Tb=function(e,t,n,i,a){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.width,a=t.height,r=e.x+i*n/2,o=e.y+a*n/2;return{offsetX:(t.width/2-r)/n,offsetY:-(t.height/2-o)/n}}(e,n,t),o=r.offsetX,c=r.offsetY;if(a.camera.zoom=t,e){var l=o*Math.cos(i.rotation),s=o*Math.sin(i.rotation),u=a.initCameraPosition,d=u.x,h=u.y,g=u.z;a.camera.position.set(d+s,h-l,g+c)}a.removeObjectByName("selectedPointCloud"),a.scene.add(a.selectedPointCloud),a.camera.updateProjectionMatrix(),a.render()},Eb=Object(kc.b)(Uf,null,null,{context:Yl})((function(e){var t=e.currentData,n=e.attributes,i=u.a.useContext(qu),a=Object(s.useRef)(null),r=hs(a),o=Wf(),c=o.updateSelectedBox,l=o.selectedBox,d=Object(os.a)().t,h=sb().syncPointCloudViewsFromBox;return Object(s.useEffect)((function(){if(a.current){var e={width:a.current.clientWidth,height:a.current.clientHeight},t=new sc({container:a.current,size:e,polygonOperationProps:{showDirectionLine:!1,forbidAddNew:!0}});t.pointCloud2dOperation.setAllAttributes(n),i.setBackViewInstance(t)}}),[]),Object(s.useEffect)((function(){if(r&&i.backViewInstance){var e=i.backViewInstance,n=e.pointCloud2dOperation,a=e.pointCloudInstance;n.singleOn("renderZoom",(function(e,t){!i.selectedPointCloudBox||Tb(t,e,r,i.selectedPointCloudBox,a)})),n.singleOn("dragMove",(function(e){var t=e.currentPos,n=e.zoom;!i.selectedPointCloudBox||Tb(t,n,r,i.selectedPointCloudBox,a)})),n.singleOn("updatePolygonByDrag",(function(e){var n,r,o=e.newPolygon,l=e.originPolygon;if(i.selectedPointCloudBox&&i.mainViewInstance&&t.url){var s=Object(G.a)(o.pointList,3),u=s[0],d=s[1],g=s[2],f=Object(G.a)(l.pointList,3),b=f[0],p=f[1],v=f[2],m=Zr.getLineCenterPoint([u,g]),y=Zr.getLineCenterPoint([b,v]),x={x:m.x-y.x,y:0,z:m.y-y.y},O=Zr.getLineLength(u,d)-Zr.getLineLength(b,p),w=Zr.getLineLength(d,g)-Zr.getLineLength(p,v),k=a.getNewBoxByBackUpdate(x,w,O,i.selectedPointCloudBox).newBoxParams,L=i.mainViewInstance.getCuboidFromPointCloudBox(k).polygonPointList;if(k.rect=L,k.zInfo={maxZ:k.center.z+k.depth/2,minZ:k.center.z-k.depth/2},i.mainViewInstance){var C=i.mainViewInstance.getSensesPointZAxisInPolygon(i.mainViewInstance.getCuboidFromPointCloudBox(k).polygonPointList,[k.center.z-k.depth/2,k.center.z+k.depth/2]).count;k=function(e,t){return Cb(e,Sb(t))}(function(e,t){for(var n in t||(t={}))Ab.call(t,n)&&jb(e,n,t[n]);if(Ib){var i,a=Object(Se.a)(Ib(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Pb.call(t,n)&&jb(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},k),{count:C})}null==(n=i.mainViewInstance)||n.updateOneBoxList(k),null==h||h(k);var S=null==(r=i.mainViewInstance)?void 0:r.boxList;i.mainViewInstance.emit("savePcResult",S),c(k)}}))}}),[i,r]),Object(s.useEffect)((function(){var e;null==(e=null==i?void 0:i.backViewInstance)||e.initSize(r)}),[r]),u.a.createElement(Ff,{className:us("point-cloud-container","back-view"),title:d("BackView")},u.a.createElement("div",{className:us("point-cloud-container","bottom-view-content")},u.a.createElement("div",{className:us("point-cloud-container","core-instance"),ref:a}),!l&&u.a.createElement(kb,null)))})),Db=a.ERotateDirection,Mb=function(e){var t=e.currentData,n=Object(s.useContext)(qu),i=Wf(),a=i.selectedBox,r=i.updateSelectedBox;return{updateRotate:Object(s.useCallback)((function(e){var i=n.topViewInstance,o=n.mainViewInstance;if(i&&o){var c=i.pointCloud2dOperation,l=null==a?void 0:a.info;if(l&&(null==t?void 0:t.url)&&n.backViewInstance){r({rotation:va.restrictAngleRange(l.rotation+Number(Math.PI*e)/180)}),c.rotatePolygon(e,Db.Anticlockwise);var s=c.selectedPolygon;o.generateBox(l),ob(l,s,n.sideViewInstance,t.url),cb(l,s,n.backViewInstance,t.url),o.render()}}}),[n.selectedID,n.pointCloudBoxList,n.setPointCloudResult,n.topViewInstance,t])}},Rb=function(e,t,n){return new Promise((function(i,a){var r=function(e){try{c(n.next(e))}catch(e){a(e)}},o=function(e){try{c(n.throw(e))}catch(e){a(e)}},c=function(e){return e.done?i(e.value):Promise.resolve(e.value).then(r,o)};c((n=n.apply(e,t)).next())}))},Nb=i.EPolygonPattern,Vb=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.width,a=t.height,r=e.x+i*n/2,o=e.y+a*n/2;return{offsetX:(t.width/2-r)/n,offsetY:-(t.height/2-o)/n}},Hb=Object(kc.b)(Uf,null,null,{context:Yl})((function(e){var t,n,i=e.currentData,a=e.config,r=Object(s.useRef)(null),o=u.a.useContext(qu),c=hs(r),l=(t=Object(s.useContext)(qu).topViewInstance,{zoom:(n=Object(s.useContext)(qu)).zoom,setZoom:n.setZoom,initialPosition:function(){null==t||t.pointCloud2dOperation.initImgPos()},zoomOut:function(){null==t||t.pointCloud2dOperation.zoomChanged(!1)},zoomIn:function(){null==t||t.pointCloud2dOperation.zoomChanged(!0)}}).setZoom,d=function(){var e=Object(s.useContext)(qu),t=e.polygonList,n=e.setPolygonList;return{addPolygon:function(e){n(t.concat(e))},deletePolygon:function(e){var i=t.filter((function(t){return t.id!==e}));n(Object(Ne.a)(i))},updatePolygon:function(e){var i=t.map((function(t){return t.id===e.id?e:t}));n(i)}}}(),h=d.addPolygon,g=d.deletePolygon,f=d.updatePolygon,b=Wf(),p=b.deletePointCloudBox,v=b.changeBoxValidByID,y=Object(os.a)().t,x=sb(),O=Mb({currentData:i}).updateRotate;return Object(s.useLayoutEffect)((function(){if(!o.topViewInstance&&r.current&&(null==i?void 0:i.url)&&(null==i?void 0:i.result)){var e={width:r.current.clientWidth,height:r.current.clientHeight},t=new sc({container:r.current,config:a.config,size:e,pcdPath:i.url});t.pointCloud2dOperation.setAllAttributes(a.config.attributeList),o.setTopViewInstance(t)}}),[i]),Object(s.useEffect)((function(){if(c&&o.topViewInstance&&o.sideViewInstance){var e=o.topViewInstance.pointCloud2dOperation;e.singleOn("polygonCreated",(function(t){var n;e.pattern!==Nb.Normal&&(null==i?void 0:i.url)?x.updateViewByTopPolygon(t,c,null==(n=o.mainViewInstance)?void 0:n.attribute):h(t)})),e.singleOn("polygonUpdate",(function(t){return Rb(void 0,null,Object(m.a)().mark((function n(){var a,r;return Object(m.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.pattern!==Nb.Normal&&(null==i?void 0:i.url)&&(null==(a=null==o?void 0:o.topViewInstance)?void 0:a.pointCloudInstance)){n.next=3;break}return f(t),n.abrupt("return");case 3:null==(r=null==o?void 0:o.topViewInstance)||r.pointCloudInstance.setAngle(t.angle),o.selectedPointCloudBox&&x.updateViewByTopPolygon(t,c,o.selectedPointCloudBox.attribute,o.selectedPointCloudBox.textAttribute,o.selectedPointCloudBox.zInfo);case 4:case"end":return n.stop()}}),n)})))})),e.singleOn("deletedObject",(function(e){var t=e.id;p(t),g(t)})),e.singleOn("rotate",(function(e){O(e)})),e.singleOn("deleteSelectedIDs",(function(){o.setSelectedIDs([])})),e.singleOn("addSelectedIDs",(function(e){o.addSelectedID(e)})),e.singleOn("setSelectedIDs",(function(e){o.setSelectedIDs(e)})),e.singleOn("updatePolygonByDrag",(function(e){var t,n=e.newPolygon,i=e.originPolygon;null==(t=x.topViewUpdateBox)||t.call(x,n,i,c)}));var t=function(e){v(e)};return e.on("validUpdate",t),function(){e.unbind("validUpdate",t)}}}),[o,c,i,x]),Object(s.useEffect)((function(){if((null==c?void 0:c.width)&&o.topViewInstance){o.topViewInstance.initSize(c),o.topViewInstance.updatePolygonList(o.pointCloudBoxList);var e=o.topViewInstance,t=e.pointCloudInstance,n=e.pointCloud2dOperation;n.singleOn("resetView",(function(e){return Rb(void 0,null,Object(m.a)().mark((function t(){var n,a,r,c,l,s,u,d,h,g,f,b;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.topViewInstance){t.next=2;break}return t.abrupt("return");case 2:return a=o.topViewInstance.pointCloud2dOperation,r=null==(n=o.topViewInstance)?void 0:n.pointCloudInstance,t.next=5,r.loadPCDFile(i.url);case 5:c=r.getBoxTopPolygon2DCoordinate(e),l=c.zoom,s={width:a.container.clientWidth,height:a.container.clientHeight},u=e.rect.map((function(e){return Zr.transerWord2Canvas(e,s)})),a.initImgPos(),d=a.getGetCenterCoordinate(),h={x:(d.x-a.currentPos.x)/a.zoom,y:(d.y-a.currentPos.y)/a.zoom},g={x:(u[0].x+u[2].x)/2,y:(u[0].y+u[2].y)/2},f={x:g.x-h.x,y:g.y-h.y},b={x:a.currentPos.x-f.x,y:a.currentPos.y-f.y},a.setCurrentPos(b),r.rotatePointCloud({x:e.center.x,y:e.center.y,z:0},r.angle),r.camera.zoom=l,r.camera.updateProjectionMatrix(),r.render(),a.zoomChangeOnCenter(l),a.setSelectedID(e.id);case 9:case"end":return t.stop()}}),t)})))})),n.singleOn("renderZoom",(function(e,n){var i=Vb(n,c,e),a=i.offsetX,r=i.offsetY;if(t.camera.zoom=e,n){var o=t.initCameraPosition,s=o.x,u=o.y,d=o.z;t.camera.position.set(s+r,u-a,d)}t.camera.updateProjectionMatrix(),t.render(),l(e)})),n.singleOn("dragMove",(function(e){var n=e.currentPos,i=e.zoom,a=Vb(n,c,i),r=a.offsetX,o=a.offsetY;t.camera.zoom=i;var l=t.initCameraPosition,s=l.x,u=l.y,d=l.z;t.camera.position.set(s+o,u-r,d),t.render()}))}}),[c,o.topViewInstance]),Object(s.useEffect)((function(){if(o.topViewInstance){var e=o.topViewInstance.pointCloudInstance;e.camera.position.set(0,-1,10),e.camera.updateProjectionMatrix(),e.render(),l(1)}}),[c]),i&&u.a.createElement(Ff,{className:us("point-cloud-container","top-view"),title:y("TopView")},u.a.createElement("div",{style:{position:"relative",flex:1}},u.a.createElement("div",{id:"mytool",style:{width:"100%",height:"100%"},ref:r}),u.a.createElement(db,null)))})),Bb=Object.defineProperty,Zb=Object.defineProperties,zb=Object.getOwnPropertyDescriptors,Fb=Object.getOwnPropertySymbols,Ub=Object.prototype.hasOwnProperty,Jb=Object.prototype.propertyIsEnumerable,Wb=function(e,t,n){return t in e?Bb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xb=function(e,t,n,i,a){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t.width,a=t.height,r=e.x+i*n/2,o=e.y+a*n/2;return{offsetX:(t.width/2-r)/n,offsetY:-(t.height/2-o)/n}}(e,n,t),o=r.offsetX,c=r.offsetY;if(a.camera.zoom=t,e){var l=o*Math.cos(i.rotation),s=o*Math.sin(i.rotation),u=a.initCameraPosition,d=u.x,h=u.y,g=u.z;a.camera.position.set(d-l,h-s,g+c)}a.removeObjectByName("selectedPointCloud"),a.scene.add(a.selectedPointCloud),a.camera.updateProjectionMatrix(),a.render()},Gb=Object(kc.b)(Uf,null,null,{context:Yl})((function(e){var t=e.attributes,n=u.a.useContext(qu),i=sb().sideViewUpdateBox,a=Wf().selectedBox,r=Object(s.useRef)(null),o=hs(r),c=Object(os.a)().t;return Object(s.useEffect)((function(){if(r.current){var e={width:r.current.clientWidth,height:r.current.clientHeight},i=new sc({container:r.current,size:e,polygonOperationProps:{showDirectionLine:!1,forbidAddNew:!0}});i.pointCloud2dOperation.setAllAttributes(t),n.setSideViewInstance(i)}}),[]),Object(s.useEffect)((function(){if(o&&n.sideViewInstance){var e=n.sideViewInstance,t=e.pointCloud2dOperation,a=e.pointCloudInstance;t.singleOn("renderZoom",(function(e,t){!n.selectedPointCloudBox||Xb(t,e,o,n.selectedPointCloudBox,a)})),t.singleOn("dragMove",(function(e){var t=e.currentPos,i=e.zoom;!n.selectedPointCloudBox||Xb(t,i,o,n.selectedPointCloudBox,a)})),t.singleOn("updatePolygonByDrag",(function(e){var t,a=e.newPolygon,r=e.originPolygon;i(function(e,t){return Zb(e,zb(t))}(function(e,t){for(var n in t||(t={}))Ub.call(t,n)&&Wb(e,n,t[n]);if(Fb){var i,a=Object(Se.a)(Fb(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Jb.call(t,n)&&Wb(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},a),{attribute:null==(t=n.topViewInstance)?void 0:t.pointCloud2dOperation.defaultAttribute}),r)}))}}),[n,o]),Object(s.useEffect)((function(){var e;null==(e=null==n?void 0:n.sideViewInstance)||e.initSize(o)}),[o]),u.a.createElement(Ff,{className:us("point-cloud-container","side-view"),title:c("SideView")},u.a.createElement("div",{className:us("point-cloud-container","bottom-view-content")},u.a.createElement("div",{className:us("point-cloud-container","core-instance"),ref:r}),!a&&u.a.createElement(kb,null)))})),qb=function(){var e,t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).basicInfo,n=Ql(),i=Object(s.useRef)({valid:null==(e=null==t?void 0:t.valid)||e,exportData:function(){return[[],{}]},exportCustomData:function(){return{}},clearResult:function(){},singleOn:function(){},on:function(){},unbind:function(){},setResult:function(){},history:{initRecord:function(){},pushHistory:function(){}},setDefaultAttribute:function(e){},setSubAttribute:function(e,t){},setValid:function(){},updateRotate:function(){}});return Object(s.useEffect)((function(){return function(e){n({type:Lc.SET_TOOL,payload:{instance:e}})}(i.current),function(){n({type:Lc.SET_TOOL,payload:{instance:void 0}})}}),[]),{toolInstanceRef:i}},Kb=i.EToolName,Yb=i.EPolygonPattern,Qb=Object.defineProperty,_b=Object.defineProperties,$b=Object.getOwnPropertyDescriptors,ep=Object.getOwnPropertySymbols,tp=Object.prototype.hasOwnProperty,np=Object.prototype.propertyIsEnumerable,ip=function(e,t,n){return t in e?Qb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},ap=i.EPolygonPattern,rp=Object(kc.b)(Uf,null,null,{context:Yl})((function(e){var t=e.currentData,n=Object(s.useContext)(qu),i=Wf(),a=i.changeSelectedBoxValid,r=i.selectNextBox,o=i.selectPrevBox,c=i.updateSelectedBox,l=function(){var e=Object(s.useContext)(qu),t=e.topViewInstance,n=e.mainViewInstance,i=e.pointCloudBoxList,a=e.setPointCloudResult,r=Object(s.useState)(Kb.Rect),o=Object(G.a)(r,2),c=o[0],l=o[1];return{clearAllResult:function(){i.forEach((function(e){null==n||n.removeObjectByName(e.id)})),null==n||n.render(),a([]),null==t||t.pointCloud2dOperation.clearActiveStatus(),null==t||t.pointCloud2dOperation.clearResult()},updatePointCloudPattern:function(e){var n=null==t?void 0:t.pointCloud2dOperation;if(n)switch(n.clearActiveStatus(),e){case Kb.Rect:n.setPattern(Yb.Rect),l(Kb.Rect);break;case Kb.Polygon:n.setPattern(Yb.Normal),l(Kb.Polygon)}},pointCloudPattern:c}}(),u=l.clearAllResult,d=Ic(t.result),h=function(){var e=Object(s.useContext)(qu),t=e.selectedIDs,n=e.pointCloudBoxList,i=e.setPointCloudResult,a=Object(s.useState)([]),r=Object(G.a)(a,2),o=r[0],c=r[1],l=sb().pointCloudBoxListUpdated,u=Object(os.a)(),d=u.t,h=u.i18n,g=Object(s.useMemo)((function(){return n.filter((function(e){return t.includes(e.id)}))}),[t,n]),f=Object(s.useCallback)((function(){g.length>0?c(wt.a.cloneDeep(g)):(c([]),_c.b.error(d("CopyEmptyInPointCloud")))}),[t,n,h.language]),b=Object(s.useCallback)((function(){if(0!==o.length){var e=[].concat(Object(Ne.a)(n),Object(Ne.a)(o));i(e),null==l||l(e),c([])}else _c.b.error(d("PasteEmptyInPointCloud"))}),[o,n,h.language]);return{copySelectedBoxes:f,pasteSelectedBoxes:b,copiedBoxes:o,selectedBoxes:g}}(),g=h.copySelectedBoxes,f=h.pasteSelectedBoxes,b=h.copiedBoxes,p=qb({basicInfo:d}).toolInstanceRef,v=Mb({currentData:t}).updateRotate,m=function(e){var t=e.key.toLocaleLowerCase();e.ctrlKey?function(e){switch(e){case"c":g();break;case"v":f();break;case"a":n.selectedAllBoxes()}}(t):function(e,t){var i=n.topViewInstance,c=n.mainViewInstance;if(i){var l=i.pointCloud2dOperation;switch(e){case"q":v(2);break;case"e":v(-2);break;case"g":v(180);break;case"u":var s,u=l.pattern===ap.Normal?ap.Rect:ap.Normal;l.setPattern(u);var d=(s={},Object(Je.a)(s,ap.Normal,"Normal Pattern"),Object(Je.a)(s,ap.Rect,"Rect Pattern"),s);_c.b.success("Change Pattern to ".concat(d[u]," successfully")),l.clearActiveStatus(),l.clearDrawingStatus();break;case"+":null==c||c.updatePointSize(!0);break;case"-":null==c||c.updatePointSize(!1);break;case"v":n.setPointCloudValid(!n.valid);break;case"tab":if(t.shiftKey){o();break}r();break;case"f":a();break;default:;}}}(t,e)};return Object(s.useEffect)((function(){if(n.topViewInstance)return window.addEventListener("keydown",m),function(){window.removeEventListener("keydown",m)}}),[n,b]),Object(s.useEffect)((function(){p.current.exportData=function(){return[n.pointCloudBoxList,{valid:n.valid}]},p.current.exportCustomData=function(){var e;return{renderPolygon:null!=(e=n.polygonList)?e:[]}},p.current.setDefaultAttribute=function(e){var t=n.selectedPointCloudBox;t&&(t.attribute=e,c(t))},p.current.setSubAttribute=function(e,t){var i,a=n.selectedPointCloudBox;if(a){var r=null!=(i=null==a?void 0:a.subAttribute)?i:{};a.subAttribute=function(e,t){return _b(e,$b(t))}(function(e,t){for(var n in t||(t={}))tp.call(t,n)&&ip(e,n,t[n]);if(ep){var i,a=Object(Se.a)(ep(t));try{for(a.s();!(i=a.n()).done;)n=i.value,np.call(t,n)&&ip(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},r),Object(Je.a)({},e,t)),c(a)}},p.current.clearResult=function(){null==u||u()}}),[n.pointCloudBoxList,n.selectedID,n.valid,n.polygonList]),Object(s.useEffect)((function(){p.current.setValid=function(e){p.current.valid=e,setTimeout((function(){n.setPointCloudValid(e)}))}}),[]),null})),op=Object.defineProperty,cp=Object.defineProperties,lp=Object.getOwnPropertyDescriptors,sp=Object.getOwnPropertySymbols,up=Object.prototype.hasOwnProperty,dp=Object.prototype.propertyIsEnumerable,hp=function(e,t,n){return t in e?op(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},gp=function(e,t){for(var n in t||(t={}))up.call(t,n)&&hp(e,n,t[n]);if(sp){var i,a=Object(Se.a)(sp(t));try{for(a.s();!(i=a.n()).done;){n=i.value;dp.call(t,n)&&hp(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},fp=function(e,t){return cp(e,lp(t))},bp=Object(kc.b)((function(e){return{imgList:e.annotation.imgList}}),null,null,{context:Yl})((function(e){if(0===e.imgList.length)return null;var t=function(){var e=Object(s.useContext)(qu),t=e.topViewInstance,n=e.sideViewInstance,i=e.backViewInstance;return{update3ViewPolygonStyle:function(e){(null==t?void 0:t.pointCloud2dOperation)&&(null==t||t.pointCloud2dOperation.setStyle(e)),(null==n?void 0:n.pointCloud2dOperation)&&(null==n||n.pointCloud2dOperation.setStyle(e)),(null==i?void 0:i.pointCloud2dOperation)&&(null==i||i.pointCloud2dOperation.setStyle(e))}}}(),n=t.update3ViewPolygonStyle,i=_l((function(e){return gp({},e.toolStyle)})),a=Object(s.useContext)(qu),r=Object(s.useMemo)((function(){var t,n=gp({},e.toolsBasicConfig[0]),i=Hf(e.toolsBasicConfig,null!=(t=e.attributeList)?t:[]);return{tool:"pointTool",config:fp(gp({},n.config),{attributeList:i})}}),[e.toolsBasicConfig,e.attributeList]),o=Object(s.useMemo)((function(){return{isShowOrder:e.isShowOrder,isShowAttribute:e.isShowAttribute,isShowAttributeText:e.isShowAttributeText,isShowDirection:e.isShowDirection}}),[e.isShowOrder,e.isShowAttribute,e.isShowAttributeText,e.isShowDirection]);return Object(s.useEffect)((function(){a.topViewInstance&&a.sideViewInstance&&a.backViewInstance&&n(i)}),[a.topViewInstance,a.sideViewInstance,a.backViewInstance]),u.a.createElement(u.a.Fragment,null,u.a.createElement(rp,null),u.a.createElement("div",{className:us("point-cloud-layout"),onContextMenu:function(e){return e.preventDefault()}},u.a.createElement("div",{className:us("point-cloud-wrapper")},u.a.createElement("div",{className:us("point-cloud-container","left")},u.a.createElement(wb,{config:r,showSettingConfig:o})),u.a.createElement("div",{className:us("point-cloud-container","right")},u.a.createElement(Hb,{config:r}),u.a.createElement(Gb,{attributes:r.config.attributeList}),u.a.createElement(Eb,{attributes:r.config.attributeList})))))})),pp=Object.defineProperty,vp=Object.defineProperties,mp=Object.getOwnPropertyDescriptors,yp=Object.getOwnPropertySymbols,xp=Object.prototype.hasOwnProperty,Op=Object.prototype.propertyIsEnumerable,wp=function(e,t,n){return t in e?pp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},kp=function(e,t){for(var n in t||(t={}))xp.call(t,n)&&wp(e,n,t[n]);if(yp){var i,a=Object(Se.a)(yp(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Op.call(t,n)&&wp(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Lp=i.EVideoToolName,Cp=is.a.Sider,Sp=is.a.Content,Ip="".concat(Bc,"-layout"),Ap=function(e){var t;return u.a.createElement(u.a.Fragment,null,!0===e.showTips&&u.a.createElement(Ls,{tips:e.path}),u.a.createElement(ws,kp({},e)),u.a.createElement(Eh,{style:null==(t=e.style)?void 0:t.footer,mode:e.mode,footer:null==e?void 0:e.footer}))},Pp=function(e){var t;return u.a.createElement(u.a.Fragment,null,u.a.createElement(bp,kp({},e)),u.a.createElement(Eh,{style:null==(t=e.style)?void 0:t.footer,mode:e.mode,footer:null==e?void 0:e.footer}))},jp=function(e){var t=e.currentToolName,n="pointCloudTool"===t;return Object.values(Lp).includes(t)?u.a.createElement(Lf,kp({},e)):n?u.a.createElement(Pp,kp({},e)):u.a.createElement(Ap,kp({},e))},Tp=Object(kc.b)((function(e){var t,n,i,a=e.annotation,r=e.toolStyle,o=a.imgList,c=a.loading,l=a.imgIndex,s=r.imgListCollapse,u=null!=(t=o[a.imgIndex])?t:{};return{path:null!=(i=null!=(n=null==u?void 0:u.url)?n:null==u?void 0:u.path)?i:"",loading:c,imgList:o,imgIndex:l,imgListCollapse:s}}),null,null,{context:Yl})((function(e){var t,n,i,a=e.currentToolName;return u.a.createElement(ts,null,u.a.createElement(ns.a,{spinning:!1},u.a.createElement(is.a,{className:"".concat(Ip," ").concat(e.className),style:null==(t=e.style)?void 0:t.layout},u.a.createElement("header",{className:"".concat(Ip,"__header"),style:null==(n=e.style)?void 0:n.header},u.a.createElement(Kg,{isPreview:null==e?void 0:e.isPreview,header:null==e?void 0:e.header,headerName:e.headerName,goBack:e.goBack,exportData:e.exportData})),u.a.createElement(Bf,null),u.a.createElement(is.a,null,e.leftSider?e.leftSider:u.a.createElement(zf,kp({},e)),u.a.createElement(Sp,{className:"".concat(Ip,"__content")},u.a.createElement(jp,function(e,t){return vp(e,mp(t))}(kp({},e),{currentToolName:a}))),u.a.createElement(Cp,{className:"".concat(Ip,"__side"),width:"auto",style:null==(i=e.style)?void 0:i.sider},u.a.createElement(jd,null))))))})),Ep=Object.defineProperty,Dp=Object.defineProperties,Mp=Object.getOwnPropertyDescriptors,Rp=Object.getOwnPropertySymbols,Np=Object.prototype.hasOwnProperty,Vp=Object.prototype.propertyIsEnumerable,Hp=function(e,t,n){return t in e?Ep(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Bp=Object(kc.b)((function(e){return{toolInstance:e.annotation.toolInstance,currentToolName:e.annotation.currentToolName,toolStyle:e.toolStyle,isShowOrder:e.annotation.isShowOrder,isShowAttributeText:e.annotation.isShowAttributeText,isShowDirection:e.annotation.isShowDirection,isShowAttribute:e.annotation.isShowAttribute}}),null,null,{context:Yl})((function(e){var t=e.imgList,n=e.step,i=void 0===n?1:n,a=e.stepList,r=void 0===a?[]:a,o=e.onSubmit,c=e.onSave,l=e.toolStyle,d=e.currentToolName,h=e.onPageChange,g=e.onStepChange,f=e.initialIndex,b=void 0===f?0:f,p=e.toolInstance,v=e.tagConfigList,m=e.attributeList,y=e.toolsBasicConfig,x=e.textConfig,O=e.setToolInstance,w=e.getFileData,k=e.pageSize,L=void 0===k?10:k,C=e.loadFileList,S=e.defaultLang,I=void 0===S?"cn":S,A=Ql(),P=Object(s.useState)(),j=Object(G.a)(P,2),T=j[0],E=j[1];Object(s.useEffect)((function(){t&&(null==t?void 0:t.length)>0&&t[0].url&&E(t[0].url)}),[]),Object(s.useEffect)((function(){if(e.stepList&&e.stepList.length>0||e.toolsBasicConfig&&e.toolsBasicConfig.length>0){var t=d,n=y.filter((function(e){return e.tool===d}));if(n&&0===n.length&&(t=y[0].tool,A(Gl(t))),!d)return;pv.dispatch(Ml({toolStyle:l,initToolName:t,onSubmit:o,stepList:r,tagConfigList:v,attributeList:m,toolsBasicConfig:y,textConfig:x,step:i,getFileData:w,pageSize:L,loadFileList:C,onSave:c,onPageChange:h,onStepChange:g})),D(),la.a.changeLanguage(I)}}),[T,e.toolsBasicConfig,e.attributeList,e.textConfig,e.tagConfigList,d]),Object(s.useEffect)((function(){p&&(null==O||O(p))}),[p]);var D=function(){C?Jl(pv.dispatch,pv.getState,b,!0).then((function(e){e&&pv.dispatch(pl(b))})):t&&t.length>0&&(pv.dispatch({type:Lc.UPDATE_IMG_LIST,payload:{imgList:t}}),oi.a.getItem("nextIndex",(function(e,n){n&&n<t.length?pv.dispatch(pl(n)):pv.dispatch(pl(b))})))};return u.a.createElement("div",null,u.a.createElement(Tp,function(e,t){return Dp(e,Mp(t))}(function(e,t){for(var n in t||(t={}))Np.call(t,n)&&Hp(e,n,t[n]);if(Rp){var i,a=Object(Se.a)(Rp(t));try{for(a.s();!(i=a.n()).done;)n=i.value,Vp.call(t,n)&&Hp(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},e),{currentToolName:d})))})),Zp=(Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,n(1074)),zp=n(119),Fp=n(259),Up=Object.defineProperty,Jp=Object.getOwnPropertySymbols,Wp=Object.prototype.hasOwnProperty,Xp=Object.prototype.propertyIsEnumerable,Gp=function(e,t,n){return t in e?Up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},qp=function(e,t){for(var n in t||(t={}))Wp.call(t,n)&&Gp(e,n,t[n]);if(Jp){var i,a=Object(Se.a)(Jp(t));try{for(a.s();!(i=a.n()).done;){n=i.value;Xp.call(t,n)&&Gp(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},Kp={contrast:1,saturation:1,brightness:1,zoomRatio:1,isOriginalSize:!1};var Yp=.8,Qp=function(){function e(){Object(Ve.a)(this,e)}return Object(He.a)(e,null,[{key:"colorSplit",value:function(e,t){return e.split(" ").join("").replace(/,[0-9]+([.]{1}[0-9]+){0,1}\)/,",".concat(t.toFixed(2),")"))}},{key:"computeOpacity",value:function(e,t){var n,i,a=null==(i=((null==(n=t.split(" ").join("").match(/,[0-9]+([.]{1}[0-9]+){0,1}\)/))?void 0:n[0])||"").match(/[0-9]+([.]{1}[0-9]+){0,1}/))?void 0:i[0];return e*Number(a)}},{key:"getToolColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=e.colorSplit,a=e.computeOpacity,r=wt.a.cloneDeep(Ws),o=Xs[t],c=Gs[n];return Object.keys(Ws).forEach((function(e){var t=wt.a.cloneDeep(Js);t.valid.stroke=i(Ws[e].valid,a(o,Ws[e].valid)),t.valid.fill=i(Ws[e].valid,a(c,Ws[e].valid)*Yp),t.validSelected.stroke=i(Ws[e].select.stroke,a(o,Ws[e].select.stroke)),t.validSelected.fill=i(Ws[e].select.fill,a(c,Ws[e].select.fill)*Yp),t.validHover.stroke=i(Ws[e].hover,a(o,Ws[e].hover)),t.validHover.fill=i(Ws[e].hover,a(c,Ws[e].hover)*Yp),t.invalid.stroke=i(t.invalid.stroke,a(o,t.invalid.stroke)),t.invalid.fill=i(t.invalid.stroke,a(c,t.invalid.stroke)*Yp),t.invalidSelected.stroke=i(t.invalidSelected.stroke,a(o,t.invalidSelected.stroke)),t.invalidSelected.fill=i(t.invalidSelected.fill,a(c,t.invalidSelected.fill)*Yp),t.invalidHover.stroke=i(t.invalidHover.stroke,a(o,t.invalidHover.fill)),t.invalidHover.fill=i(t.invalidHover.fill,a(c,t.invalidHover.fill)*Yp),r[e]=t})),r}},{key:"getAttributeColors",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,i=e.colorSplit,a=e.computeOpacity,r=Xs[t],o=Gs[n],c=wt.a.cloneDeep(Fs);return c.unshift(Us),c=c.map((function(e){var t=JSON.parse(JSON.stringify(Js));return t.valid.stroke=i(e,a(r,e)),t.valid.fill=i(e,a(o,e)*Yp*.5),t.validSelected.stroke=i(e,a(r,e)),t.validSelected.fill=i(e,a(o,e)*Yp),t.validHover.stroke=i(e,a(r,e)),t.validHover.fill=i(e,a(o,e)*Yp),t.invalid.stroke=i(t.invalid.stroke,a(r,e)),t.invalid.fill=i(t.invalid.fill,a(o,e)*Yp*.5),t.invalidSelected.stroke=i(t.invalidSelected.stroke,a(r,e)),t.invalidSelected.fill=i(t.invalidSelected.fill,a(o,e)*Yp),t.invalidHover.stroke=i(t.invalidHover.stroke,a(r,e)),t.invalidHover.fill=i(t.invalidHover.fill,a(o,e)*Yp),t}))}},{key:"getDefaultToolLineColors",value:function(){var e={};return Object.keys(Ws).forEach((function(t){e[t]=Ws[t].line})),e}},{key:"initByOpacity",value:function(e,t){return{toolColor:this.getToolColors(e,t),attributeColor:this.getAttributeColors(e,t)}}}]),e}(),_p=Qp;_p.changeOpacity={1:.2,3:.4,5:.6,7:.8,9:1};var $p=Object.defineProperty,ev=Object.getOwnPropertySymbols,tv=Object.prototype.hasOwnProperty,nv=Object.prototype.propertyIsEnumerable,iv=function(e,t,n){return t in e?$p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},av=function(e,t){for(var n in t||(t={}))tv.call(t,n)&&iv(e,n,t[n]);if(ev){var i,a=Object(Se.a)(ev(t));try{for(a.s();!(i=a.n()).done;){n=i.value;nv.call(t,n)&&iv(e,n,t[n])}}catch(e){a.e(e)}finally{a.f()}}return e},rv={color:1,width:2,borderOpacity:9,fillOpacity:9,toolColor:_p.getToolColors(),attributeColor:_p.getAttributeColors(),lineColor:_p.getDefaultToolLineColors(),attributeLineColor:[Us].concat(Fs),imgListCollapse:!0,resultCollapse:!0};var ov=Object(zp.b)({annotation:function(){var e,t,n,i,a,r,o,c,l,s,u,d,h,g,f,b,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gl,v=arguments.length>1?arguments[1]:void 0;switch(v.type){case Lc.UPDATE_TOOL_INSTANCE:return ul(sl({},p),{toolInstance:v.payload.toolInstance});case Lc.UPDATE_TEXT_CONFIG:return ul(sl({},p),{textConfig:v.payload.textConfig});case Lc.UPDATE_ATTRIBUTE_LIST:return ul(sl({},p),{attributeList:v.payload.attributeList});case Lc.UPDATE_TOOLS_CONFIG:return ul(sl({},p),{toolsBasicConfig:v.payload.toolsBasicConfig});case Lc.UPDATE_CURRENT_TOOLNAME:return ul(sl({},p),{currentToolName:v.payload.toolName});case Lc.UPDATE_IS_SHOW_ORDER:return ul(sl({},p),{isShowOrder:v.payload.isShowOrder});case Lc.UPDATE_IS_SHOW_ATTRIBUTE_TEXT:return ul(sl({},p),{isShowAttributeText:v.payload.isShowAttributeText});case Lc.UPDATE_IS_SHOW_DIRECTION:return ul(sl({},p),{isShowDirection:v.payload.isShowDirection});case Lc.UPDATE_IS_SHOW_ATTRIBUTE:return ul(sl({},p),{isShowAttribute:v.payload.isShowAttribute});case Lc.UPDATE_TAG_LIST:return ul(sl({},p),{tagConfigList:v.payload.tagConfigList});case Lc.UPDATE_IMG_LIST:return ul(sl({},p),{imgList:v.payload.imgList});case Lc.CALC_STEP_PROGRESS:var m=p.imgList,y=p.step,x=bl(m,y);return ul(sl({},p),{stepProgress:x});case Lc.SUBMIT_FILE_DATA:var O=p.imgList,w=p.imgIndex,k=p.step,L=p.stepList,C=p.toolInstance,S=p.onSubmit,I=p.resultList;if(!C||!O[w])return p;var A=(null==(e=O[w])?void 0:e.result)||"",P=null!=(t=null==C?void 0:C.exportData())?t:[],j=function(e,t){return JSON.stringify(Yc(Yc({},Ic(e)),t))}(A,Object(G.a)(P,2)[1]),T=function(e,t,n){var i=t.step,a=t.stepList,r=n.rect,o=n.basicRectID;try{var c=Ic(e),l=Fc.getCurrentStepInfo(i,a).dataSourceStep,s=a[0].tool;if(c.tagTool&&!c.tagTool.toolName&&(c.tagTool={toolName:"tagTool",result:Object(Ne.a)(c.tagTool)}),c[s]){var u=c[s];return u.result?(JSON.stringify(u.result)===JSON.stringify(r)||(u.result=o?[].concat(Object(Ne.a)(u.result.filter((function(e){return!(e.sourceID&&e.sourceID===o)}))),Object(Ne.a)(r.filter((function(e){return e.sourceID&&e.sourceID===o})))):r),JSON.stringify(c)):JSON.stringify(Qc(Yc({},c),Object(Je.a)({},s,Qc(Yc({},c[s]),{result:r}))))}return JSON.stringify(Qc(Yc({},c),Object(Je.a)({},s,{dataSourceStep:l,toolName:a[i-1].tool,result:r})))}catch(c){return e}}(j,{step:k,stepList:L},{rect:I});O[w].result=Hc.dataCorrection(T,A,k,L),S&&S([O[w]],null==(n=v.payload)?void 0:n.submitType,w);var E=bl(O,k);return ul(sl({},p),{stepProgress:E,imgList:O});case Lc.SAVE_RESULT:var D=p.imgList,M=p.imgIndex,R=p.onSave;return null==R||R(D[M],M,D),sl({},p);case Lc.SUBMIT_RESULT:var N=p.imgList,V=p.basicIndex,H=p.resultList,B=p.toolInstance,Z=p.basicResultList;if(!B)return p;var z=null!=(i=null==B?void 0:B.exportData())?i:[],F=Object(G.a)(z,1)[0],U=F;if((null==Z?void 0:Z.length)>0){var J,W=null==(a=Z[V])?void 0:a.id,X=F.map((function(e){return ul(sl({},e),{sourceID:W})}));U=wt.a.cloneDeep(H).filter((function(e){return e.sourceID!==W})),(J=U).push.apply(J,Object(Ne.a)(X))}return ul(sl({},p),{resultList:U,imgList:N});case Lc.SET_BASIC_INDEX:var q=p.toolInstance,K=p.step,Y=p.imgList,Q=p.imgIndex,_=p.stepList,$=p.annotationEngine,ee=p.resultList,te=p.basicResultList;if(!q||!$)return p;var ne=v.payload.basicIndex,ie=null==(r=te[ne])?void 0:r.id,ae=Ic(null==(o=Y[Q])?void 0:o.result),re=(ee||[]).filter((function(e){return e.sourceID===ie})),oe=hl(_,K),ce=oe.dataSourceStep,le=oe.tool,se=hl(_,ce),ue=[];return ce&&le&&((null==(ue=null==(c=ae["step_".concat(ce)])?void 0:c.result)?void 0:ue.length)>0?(null==$||$.setBasicInfo(se.tool,ue[ne]),null==$||$.launchOperation()):(null==$||$.setBasicInfo(se.tool),null==$||$.forbidOperation(),_c.b.info(la.a.t("NoDependency")))),null==q||q.setResult(re),null==q||q.history.initRecord(re,!0),ul(sl({},p),{basicIndex:ne});case Lc.SET_TRIGGER_EVENT_AFTER_INDEX_CHANGED:var de=v.payload.triggerEventAfterIndexChanged;return ul(sl({},p),{triggerEventAfterIndexChanged:!!de});case Lc.LOAD_FILE_DATA:var he=p.imgList,ge=p.step,fe=p.toolInstance,be=p.annotationEngine,pe=p.stepList;if(!fe)return p;var ve=Fc.getCurrentStepInfo(ge,pe),me=v.payload,ye=me.nextIndex,xe=me.imgNode,Oe=me.nextBasicIndex,we=me.imgError,ke=null!=Oe?Oe:0,Le=Ic(null==(l=he[ye])?void 0:l.result),Ce=Le[pe[0].tool],Se=!Ce,Ie={rotate:null!=(s=Le.rotate)?s:0,valid:null==(u=Le.valid)||u};xe&&!0!==we&&(null==be||be.setImgNode(xe,Ie));var Ae=hl(pe,ge),Pe=Ae.dataSourceStep,je=Ae.tool,Te=hl(pe,Pe),Ee=Pe&&je,De=Object.keys(Le).reduce((function(e,t){return t.indexOf("Tool")>0&&t!==je&&e.push(Le[t]),e}),[]),Me=Hc.getInitialResultList(null==Ce?void 0:Ce.result,fe,Ae,De,Se);if(De&&De.length>0?null==be||be.setPrevResultList(De):null==be||be.setPrevResultList([]),Ee&&((null==De?void 0:De.length)>0?null==be||be.setBasicInfo(Te.tool,De[ke]):(null==be||be.setBasicInfo(Te.tool),null==be||be.forbidOperation(),_c.b.info(la.a.t("NoDependency")))),"check"!==ve.tool){var Re=null!=(h=null==(d=De[ke])?void 0:d.id)?h:"",Ve=Ee?Me.filter((function(e){return xr.isSameSourceID(e.sourceID,Re)})):Me;null==fe||fe.setResult(Ve),null==fe||fe.history.initRecord(Me,!0)}return ul(sl({},p),{imgIndex:ye,basicIndex:ke,basicResultList:De,resultList:Me});case Lc.UPDATE_ANNOTATION_CONFIG:return ul(sl({},p),{config:null!=(g=v.payload.config)?g:"{}"});case Lc.SET_TASK_CONFIG:var He=v.payload,Be=He.stepList,Ze=He.step;return ul(sl({},p),{stepList:Be,step:Ze});case Lc.INIT_TOOL:var ze=v.payload.toolStyle,Fe=function(e,t,n){var i,a=e.step,r=e.stepList,o=e.attributeList,c=e.tagConfigList,l=e.toolInstance,s=e.isShowOrder,u=Fc.getCurrentStepInfo(a,r);l&&(null==(i=l.eventUnbinding)||i.call(l));var d=u.config;if(!tl.isVideoTool(null==u?void 0:u.tool)&&!tl.isPointCloudTool(null==u?void 0:u.tool)){var h=document.getElementById("toolContainer");if(!h)throw"Not exist dom named id-toolContainer";var g={width:h.clientWidth,height:h.clientHeight},f=new ko({container:h,isShowOrder:s,toolName:u.tool,size:g,imgNode:t,config:d,style:n,tagConfigList:c,attributeList:o});return{toolInstance:null==f?void 0:f.toolInstance,annotationEngine:f}}}(p,p.imgNode,ze);if(Fe){var Ue=Fe.toolInstance,We=Fe.annotationEngine;return ul(sl({},p),{toolInstance:Ue,annotationEngine:We})}return sl({},p);case Lc.SET_TOOL:var Xe=null==(f=v.payload)?void 0:f.instance;return Xe?ul(sl({},p),{toolInstance:Xe}):sl({},p);case Lc.UPDATE_ON_SUBMIT:return ul(sl({},p),{onSubmit:v.payload.onSubmit});case Lc.UPDATE_ON_SAVE:return ul(sl({},p),{onSave:v.payload.onSave});case Lc.UPDATE_ON_PAGE_CHANGE:return ul(sl({},p),{onPageChange:v.payload.onPageChange});case Lc.UPDATE_ON_STEP_CHANGE:return ul(sl({},p),{onStepChange:v.payload.onStepChange});case Lc.UPDATE_GET_FILE_DATA:return ul(sl({},p),{getFileData:v.payload.getFileData});case Lc.UPDATE_PAGE_SIZE:return ul(sl({},p),{pageSize:v.payload.pageSize});case Lc.UPDATE_LOAD_FILE_LIST:return ul(sl({},p),{loadFileList:v.payload.loadFileList});case Lc.SET_FILE_DATA:var Ge=v.payload,qe=Ge.fileData,Ke=Ge.index,Ye=p.imgList;return Ye[Ke]=sl(sl({},Ye[Ke]),qe),ul(sl({},p),{imgList:Ye});case Lc.UPDATE_ROTATE:var Qe=p.toolInstance;return null==Qe||Qe.updateRotate(),p;case Lc.COPY_BACKWARD_RESULT:var _e=p.toolInstance,$e=p.imgIndex,et=p.imgList,tt=p.step,nt=p.currentToolName;if(!_e)return p;if(0===$e||$e>=et.length)return p;var it=et[$e-1].result;if(!it)return p;var at=Hc.copyResultChange(it,tt,null!=(b=et[$e].result)?b:"");et[$e].result=at;var rt=Ic(at),ot=Object.keys(rt).reduce((function(e,t){return t.indexOf("Tool")>0&&t!==nt&&e.push(rt[t]),e}),[]),ct=rt[nt],lt=(null==ct?void 0:ct.result)||[];return null==_e||_e.setResult(lt),null==_e||_e.setPrevResultList(ot),null==_e||_e.history.pushHistory(lt),ul(sl({},p),{imgList:Object(Ne.a)(et)});case Lc.SET_STEP:var st=p.stepList,ut=p.annotationEngine,dt=v.payload.toStep;if(!ut)return p;var ht=hl(st,dt);return null==ut||ut.setToolName(ht.tool,ht.config),ul(sl({},p),{step:dt,toolInstance:null==ut?void 0:ut.toolInstance});case Lc.SET_LOADING:var gt=v.payload.loading;return ul(sl({},p),{loading:!!gt});default:return p}},imgAttribute:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qp({},Kp),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Cc.UPDATE_IMG_ATTRIBUTE:return qp(qp({},e),t.payload);case Cc.INIT_IMG_ATTRIBUTE:return qp({},Kp);default:return e}},toolStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:av({},rv),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Sc.INIT_TOOL_STYLE_CONFIG:return av({},rv);case Sc.UPDATE_TOOL_STYLE_CONFIG:var n={},i=t.payload;return((null==i?void 0:i.borderOpacity)||(null==i?void 0:i.fillOpacity))&&Object.assign(n,_p.initByOpacity(i.borderOpacity||e.borderOpacity,i.fillOpacity||e.fillOpacity)),av(av(av({},e),t.payload),n);case Sc.UPDATE_COLLAPSE_STATUS:case Sc.UPDATE_RESULT_COLLAPSE_STATUS:return av(av({},e),t.payload);default:return e}}});Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var cv,lv,sv=Object.defineProperty,uv=Object.defineProperties,dv=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,gv=Object.prototype.hasOwnProperty,fv=Object.prototype.propertyIsEnumerable,bv=function(e,t,n){return t in e?sv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},pv=Object(zp.d)(ov,Object(zp.a)(Fp.a)),vv=function(e,t){var n=Object(s.useState)(),i=Object(G.a)(n,2),a=i[0],r=i[1];return Object(s.useImperativeHandle)(t,(function(){return{toolInstance:a,pageBackwardActions:function(){return pv.dispatch(zl())},pageForwardActions:function(){return pv.dispatch(Fl())},pageJump:function(e){var t=~~e-1;pv.dispatch(Ul(t))},saveData:function(){pv.dispatch(Xl)}}}),[a]),u.a.createElement(kc.a,{store:pv,context:Yl},u.a.createElement(Zp.a,{i18n:la.a},u.a.createElement(Ku,null,u.a.createElement(Bp,function(e,t){return uv(e,dv(t))}(function(e,t){for(var n in t||(t={}))gv.call(t,n)&&bv(e,n,t[n]);if(hv){var i,a=Object(Se.a)(hv(t));try{for(a.s();!(i=a.n()).done;)n=i.value,fv.call(t,n)&&bv(e,n,t[n])}catch(e){a.e(e)}finally{a.f()}}return e}({},e),{setToolInstance:r})))))},mv=u.a.forwardRef(vv),yv=(n(506),function(e){if(!e)return Object(J.b)(J.a,{});var t=e.fileList,n=(e.goBack,e.tools),i=e.tagList,a=e.attribute,r=e.textConfig,o=e.isPreview;return Object(J.b)("div",{children:Object(J.b)(mv,{isPreview:o,exportData:function(e){},onSubmit:function(e){},imgList:t,attributeList:a,tagConfigList:i,toolsBasicConfig:n,textConfig:r,isShowOrder:!1})})}),xv=[n.p+"static/media/10.1785e6e3.jpg",n.p+"static/media/19.608ec5b7.jpg",n.p+"static/media/20.ad3945c2.jpg",n.p+"static/media/66.2fa781f1.jpg"],Ov=(Array(5).fill("").map((function(e,t){return{id:t+1,sourceID:"",x:1e3*Math.random(),y:1e3*Math.random(),width:100,height:50,order:t+1,attribute:"",valid:!0}})),JSON.stringify({height:200,width:100,rotate:0,rectTool:{dataSourceStep:0,toolName:"rectTool",result:[]}}),JSON.stringify({height:200,width:100,rotate:0,polygonTool:{dataSourceStep:0,toolName:"polygonTool",result:[]}}),JSON.stringify({height:200,width:100,rotate:0,tagTool:{dataSourceStep:0,toolName:"tagTool",result:[]}}),JSON.stringify({videoTagTool:{dataSourceStep:0,toolName:"videoTagTool",result:[]}}),[{mappingImgList:[{url:"https://wuhui1989.github.io/labelU-Kit/cloudpoint/1565685654060904.jpg",calib:{P:[[664.2713623046875,0,966.8039735557395,0],[0,673.2572021484375,557.292600044435,0],[0,0,1,0]],R:[[1,0,0],[0,1,0],[0,0,1]],T:[[-.99986,.0138869,-.009277,-.18942],[.00942274,.0105122,-.9999,-.0724215],[-.0137894,-.999848,-.0106419,.420832]]}},{url:"http://10.152.32.16:8080/image_undistort/center_camera_fov30/2022-02-20-12-21-03-100.png",calib:{P:[[4454.6,0,954.3,0],[0,4459,616.6,0],[0,0,1,0]],R:[[1,0,0],[0,1,0],[0,0,1]],T:[[-.999925,-707111e-9,-.0122273,.0962923],[.0122155,.0140593,-.999826,-.0991715],[877471e-9,-.9999,-.0140499,1.48935]]}},{url:"http://10.152.32.16:8080/image_undistort/left_front_camera/2022-02-20-12-21-03-100.png",calib:{P:[[1231.7,0,964.3,0],[0,1234.6,572.7,0],[0,0,1,0]],R:[[1,0,0],[0,1,0],[0,0,1]],T:[[-.604101,-.796899,.00388006,-.821921],[-.0384692,.024299,-.998964,-1.0657],[.795979,-.603624,-.0453359,-1.45241]]}},{url:"http://10.152.32.16:8080/image_undistort/left_rear_camera/2022-02-20-12-21-03-100.png",calib:{P:[[1255.3,0,952.9,0],[0,1257.3,539.3,0],[0,0,1,0]],R:[[1,0,0],[0,1,0],[0,0,1]],T:[[.568373,-.822005,-.0354856,-1.73776],[-.0376153,.0171236,-.999146,-1.39336],[.82191,.569223,-.0211873,.583955]]}},{url:"http://10.152.32.16:8080/image_undistort/rear_camera/2022-02-20-12-21-03-100.png",calib:{P:[[2109.75,0,984.6,0],[0,2365.9,631.1,0],[0,0,1,0]],R:[[1,0,0],[0,1,0],[0,0,1]],T:[[.999947,-.00513728,-.00884364,-.0994936],[-.00885675,-.00250621,-.999958,-.388493],[.00511496,.999983,-.00255124,.346432]]}}],id:1,url:"https://wuhui1989.github.io/labelU-Kit/cloudpoint/1565685665061034.pcd",result:"{}"}]),wv=Object(S.b)({name:"stepConfig",initialState:{tools:[],tagList:[],attribute:[],textConfig:[],fileInfo:{}},reducers:{removeToolsConfig:function(e){e.tools=[]},updateToolsConfig:function(e,t){e.tools=t.payload},removeTagConfigList:function(e){e.attribute=[]},updateTagConfigList:function(e,t){e.tagList=t.payload},removeAllTagConfigList:function(e){e.tagList=[]},updateAllAttributeConfigList:function(e,t){e.attribute=t.payload},updateFileInfo:function(e,t){e.fileInfo=t.payload},updateTextConfig:function(e,t){e.textConfig=t.payload},clearConfig:function(e){e.tagList=[],e.tools=[],e.attribute=[],e.textConfig=[],e.fileInfo={}},updateAllConfig:function(e,t){e.attribute=t.payload.attribute,e.tools=t.payload.tools,e.tagList=t.payload.tagList,e.textConfig=t.payload.textConfig,e.fileInfo=t.payload.fileInfo}}}),kv=wv.actions,Lv=kv.updateFileInfo,Cv=(kv.removeToolsConfig,kv.updateToolsConfig),Sv=(kv.removeTagConfigList,kv.updateTagConfigList),Iv=(kv.removeAllTagConfigList,kv.updateAllAttributeConfigList),Av=kv.updateTextConfig,Pv=(kv.clearConfig,kv.updateAllConfig,wv.reducer),jv=n(271),Tv=Object(l.b)((function(e){return{tools:e.toolsConfig.tools,tagList:e.toolsConfig.tagList,attribute:e.toolsConfig.attribute,textConfig:e.toolsConfig.textConfig}}))((function(e){var t=e.tools,n=e.tagList,i=e.attribute,a=e.textConfig,r=Object(l.d)(),o=Object(s.useState)([]),c=Object(G.a)(o,2),u=c[0],d=c[1];Object(s.useEffect)((function(){r(Cv(jv.tools)),r(Sv(jv.tagList)),r(Iv(jv.attribute)),r(Av(jv.textConfig));var e=xv.map((function(e,t){return{id:t+1,url:e,result:JSON.stringify([])}}));d(e)}),[]);return Object(J.b)(J.a,{children:u&&u.length>0&&t&&t.length>0&&Object(J.b)(yv,{attribute:i,tagList:n,fileList:u,textConfig:a,goBack:function(e){},tools:t})})})),Ev=(n(362),n(433)),Dv=n.n(Ev),Mv=(n(514),n(515),n(516),n(517),n(518),n(519),n(147)),Rv=n.n(Mv),Nv=function(){function e(){Object(Ve.a)(this,e),this.spacing="  "}return Object(He.a)(e,[{key:"getType",value:function(e){var t=typeof e;return e instanceof Array?"array":"string"===t?"string":"boolean"===t?"boolean":"number"===t?"number":"undefined"===t||null===e?"null":"hash"}},{key:"convert",value:function(e,t){switch(this.getType(e)){case"array":this.convertArray(e,t);break;case"hash":this.convertHash(e,t);break;case"string":this.convertString(e,t);break;case"null":t.push("null");break;case"number":t.push(e.toString());break;case"boolean":t.push(e?"true":"false")}}},{key:"convertArray",value:function(e,t){0===e.length&&t.push("[]");for(var n=0;n<e.length;n++){var i=e[n],a=[];this.convert(i,a);for(var r=0;r<a.length;r++)t.push((0===r?"- ":this.spacing)+a[r])}}},{key:"convertHash",value:function(e,t){for(var n in e){var i=[];if(e.hasOwnProperty(n)){var a=e[n];this.convert(a,i);var r=this.getType(a);if("string"===r||"null"===r||"number"===r||"boolean"===r)t.push(this.normalizeString(n)+": "+i[0]);else{t.push(this.normalizeString(n)+": ");for(var o=0;o<i.length;o++)t.push(this.spacing+i[o])}}}}},{key:"normalizeString",value:function(e){return e.match(/^[\w]+$/)||e.match(/^[\u4e00-\u9fa5_a-zA-Z0-9_]+$/)||e.startsWith("^")&&e.endsWith("$")||e.startsWith("http")||e.startsWith("[")&&e.endsWith("]")?e:'"'+escape(e).replace(/%u/g,"\\u").replace(/%U/g,"\\U").replace(/%/g,"\\x")+'"'}},{key:"convertString",value:function(e,t){t.push(this.normalizeString(e))}},{key:"json2yaml",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=[];return this.convert(e,t),t.join("\n")}}]),e}(),Vv=n.p+"static/media/configNotMatch.532aa34b.png",Hv=n(272),Bv=[qe[De.Rect],qe[De.Point],qe[De.Polygon],qe[De.Line],qe[De.Tag],qe[De.Text]],Zv=(cv={},Object(Je.a)(cv,qe[De.Rect],De.Rect),Object(Je.a)(cv,qe[De.Point],De.Point),Object(Je.a)(cv,qe[De.Polygon],De.Polygon),Object(Je.a)(cv,qe[De.Line],De.Line),Object(Je.a)(cv,qe[De.Tag],De.Tag),Object(Je.a)(cv,qe[De.Text],De.Text),cv),zv=(lv={},Object(Je.a)(lv,De.Rect,qe[De.Rect]),Object(Je.a)(lv,De.Point,qe[De.Point]),Object(Je.a)(lv,De.Polygon,qe[De.Polygon]),Object(Je.a)(lv,De.Line,qe[De.Line]),Object(Je.a)(lv,De.Tag,qe[De.Tag]),Object(Je.a)(lv,De.Text,qe[De.Text]),lv),Fv=["图片"],Uv=2e3;var Jv=function(e){if(!(e&&e.length>0))return!1;for(var t=0;t<e.length;t++)if(Object.keys(zv).indexOf(e[t].tool)<0)return!1;return!0},Wv=function(e){var t=Object(s.useState)(""),n=Object(G.a)(t,2),i=n[0],a=n[1],r=Object(l.d)(),o=Object(l.e)((function(e){return e.toolsConfig})),c=o.tools,u=o.tagList,d=o.attribute,h=o.textConfig;Object(s.useEffect)((function(){for(var t={},n=Object.keys(e.toolsConfigState),i=0;i<n.length;i++)e.toolsConfigState[n[i]]&&(Array.isArray(e.toolsConfigState[n[i]])&&e.toolsConfigState[n[i]].length>0||!Array.isArray(e.toolsConfigState[n[i]])&&Object.keys(e.toolsConfigState[n[i]])&&Object.keys(e.toolsConfigState[n[i]]).length>0)&&(t=Object(C.a)(Object(C.a)({},t),{},Object(Je.a)({},n[i],e.toolsConfigState[n[i]])));var r=(new Nv).json2yaml(t);a(r)}),[e.toolsConfigState]);var g=Object(s.useState)(0),f=Object(G.a)(g,2),b=f[0],p=f[1],v=Object(s.useState)(0),m=Object(G.a)(v,2),y=m[0],x=m[1];Object(s.useEffect)((function(){var e=document.getElementById("lefeSiderId"),t=null==e?void 0:e.getBoundingClientRect().height,n=null==e?void 0:e.getBoundingClientRect().width;p(t-105),x(n-50)}),[]);var O=Rv.a.debounce((function(e){a(e)}),10);return Object(J.b)(J.a,{children:Object(J.b)(Dv.a,{placeholder:"请输入工具配置（yaml格式）",mode:"json",theme:"xcode",name:"github",width:y+"px",height:b+"px",onLoad:function(){},onChange:O,onBlur:function(t){t.stopPropagation();try{for(var n=window.YAML.parse(i),a=Object(C.a)(Object(C.a)({},{tools:[],tagList:[],attribute:[],textConfig:[]}),n),o=Object.keys(a),l=0,s=o;l<s.length;l++){var g=s[l];"attribute"!==g||Object(Hv.a)(a[g],d)?"tagList"!==g||Object(Hv.a)(a[g],u)?"textConfig"!==g||Object(Hv.a)(a[g],h)?"tools"!==g||Object(Hv.a)(a[g],c)?"fileInfo"===g&&r(Lv(a[g])):(Jv(a[g])?e.doSetImg(Vv,!1):e.doSetImg(Vv,!0),r(Cv(a[g]))):r(Av(a[g])):r(Sv(a[g])):r(Iv(a[g]))}}catch(t){e.doSetImg(Vv,!0)}},fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,wrapEnabled:!0,value:i,editorProps:{$blockScrolling:1/0},setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2}})})},Xv=n(1080),Gv=n(1078),qv=n.p+"static/media/emptyConfig.6e0b5034.png",Kv=n(1088),Yv=function(e,t){var n=e.title,i=e.content,a=Object(s.useState)(!1),r=Object(G.a)(a,2),o=r[0],c=r[1],l=Object(s.useState)(!1),u=Object(G.a)(l,2),d=u[0],h=u[1];return Object(s.useImperativeHandle)(t,(function(){return{switchModal:function(e){c(e)}}})),Object(J.b)(Kv.a,{className:"Lmodal",footer:null,width:e.width,title:"string"==typeof n?Object(J.b)("div",{style:{width:"100%",cursor:"move"},onMouseOver:function(){d&&h(!1)},onMouseOut:function(){h(!0)},onFocus:function(){},onBlur:function(){},children:n}):n,visible:o,onOk:function(e){c(!1)},onCancel:function(e){c(!1)},children:i()})},Qv=Object(s.forwardRef)(Yv),_v=(n(965),[{label:"目标检测（矩形框）",img:"rectImg",tmplateName:"rectTool.json"},{label:"语义分割(多边形)",img:"polygonImg",tmplateName:"polygonTool.json"},{label:"线标注",img:"lineImg",tmplateName:"lineTool.json"},{label:"点标注",img:"pointImg",tmplateName:"pointTool.json"},{label:"目标分类(标签分类)",img:"tagImg",tmplateName:"tagTool.json"},{label:"文本描述",img:"textImg",tmplateName:"textTool.json"}]),$v=function(){var e=Object(y.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(Object(m.a)().mark((function e(i,a){var r,o,c,l,s,u,d,h;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],!(t.length>0)){e.next=26;break}o=Object(Se.a)(t),e.prev=3,o.s();case 5:if((c=o.n()).done){e.next=18;break}return l=c.value,e.next=9,n(966)("./".concat(l.img,".png"));case 9:return s=e.sent,u=s.default,e.next=13,n(967)("./".concat(l.tmplateName));case 13:d=e.sent,h=d.default,r.push({label:l.label,img:u,tmplateName:h});case 16:e.next=5;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),o.e(e.t0);case 23:return e.prev=23,o.f(),e.finish(23);case 26:i(r);case 27:case"end":return e.stop()}}),e,null,[[3,20,23,26]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),em=function(){var e=Object(y.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(y.a)(Object(m.a)().mark((function e(i,a){var r,o;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(968)("./".concat(t,".json"));case 2:r=e.sent,(o=r.default)?i(o):a("err");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tm=function(e){var t=e.tempaltes,n=e.hideBox,i=Object(l.d)();return Object(J.b)("div",{className:"tabContentBox",children:t.map((function(e,t){return Object(J.c)("div",{className:"imgBox",onDoubleClick:function(t){!function(e){if("object"==typeof e.tmplateName&&!Array.isArray(e.tmplateName))for(var t=Object(C.a)({tools:[],tagList:[],attribute:[],textConfig:[],fileInfo:{}},e.tmplateName),n=0,a=Object.keys(t);n<a.length;n++){var r=a[n];"attribute"===r?i(Iv(t[r])):"tagList"===r?i(Sv(t[r])):"textConfig"===r?i(Av(t[r])):"tools"===r?i(Cv(t[r])):"fileInfo"===r&&i(Lv(t[r]))}}(e),n()},children:[Object(J.b)("img",{alt:e.label,src:e.img}),Object(J.b)("p",{children:e.label})]},e.label)}))})},nm=function(){var e=Object(s.useRef)(),t=Object(s.useState)([{label:"图片",key:"1",children:Object(J.b)(J.a,{})}]),n=Object(G.a)(t,2),i=n[0],a=n[1];Object(s.useEffect)((function(){new Promise(function(){var t=Object(y.a)(Object(m.a)().mark((function t(n,r){var o,c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$v(_v);case 2:o=t.sent,c=i.map((function(t,n){return"图片"===t.label?Object(C.a)(Object(C.a)({},t),{},{children:Object(J.b)(tm,{tempaltes:o,hideBox:function(){e.current.switchModal(!1)}})}):t})),a(c);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())}),[]);var r=Object(J.b)("div",{className:"templateHeaderSpan",children:"预设模板"});return Object(J.c)("div",{children:[Object(J.b)(k.a,{onClick:function(){e.current.switchModal(!0)},className:"rightTabContent",type:"primary",children:"选择模板"}),Object(J.b)(Qv,{ref:e,title:r,content:function(){return Object(J.b)("div",{className:"contentBox",children:Object(J.b)(Gv.a,{tabPosition:"left",items:i})})},width:980})]})},im=n(1094),am=n(1096),rm=n(1075),om=n(1076);var cm=function(e,t,n,i){e=Object(Mv.cloneDeep)(e);var a="类别",r="选项";if("en"===(null==i?void 0:i.lang))a="className",r="optionName";if(void 0!==n)if(e[n].subSelected){var o=e[n].subSelected.length+1;e[n].subSelected.push({key:"".concat(r).concat(n+1,"-").concat(o),value:"option".concat(n+1,"-").concat(o),isDefault:!1})}else e[n].subSelected=[{key:"".concat(r).concat(n+1,"-1"),value:"option".concat(n+1,"-1"),isDefault:!1}];else{var c=e.length+1,l=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:62,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[];if(i=i||a.length,n)for(e=0;e<n;e++)r[e]=a[0|Math.random()*i];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",e=0;e<36;e++)r[e]||(t=0|16*Math.random(),r[e]=a[19===e?3&t|8:t]);return r.join("")}(2,62),s={key:"".concat(a).concat(l),value:"class-".concat(l)};!0===(null==i?void 0:i.isMulti)&&Object.assign(s,{isMulti:!1}),!0===(null==i?void 0:i.isDefault)&&Object.assign(s,{isDefault:!1}),t&&Object.assign(s,{subSelected:[{key:"".concat(r).concat(c,"-1"),value:"option".concat(c,"-1"),isMulti:!1}]}),e.push(s)}return e};function lm(e,t){var n,i;return null!==(n=(e=Object(Mv.cloneDeep)(e))[t])&&void 0!==n&&n.subSelected?(e[t].subSelected=null===(i=e[t].subSelected)||void 0===i?void 0:i.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{isDefault:!1})})),e):e}var sm=function(e,t,n,i,a){switch(n=Object(Mv.cloneDeep)(n),t){case"key":void 0!==a&&n[i].subSelected?n[i].subSelected[a].key=e.target.value:n[i].key=e.target.value;break;case"value":void 0!==a&&n[i].subSelected?n[i].subSelected[a].value=e.target.value:n[i].value=e.target.value;break;case"isMulti":var r=!n[i].isMulti;n[i].isMulti=r,!1===r&&(n=lm(n,i));break;case"isDefault":if(void 0!==a&&n[i].subSelected){var o=!n[i].subSelected[a].isDefault;!0===o&&!0!==n[i].isMulti&&(n=lm(n,i)),n[i].subSelected[a].isDefault=o}else{var c=!n[i].isDefault;(n=n.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{isDefault:!1})})))[i].isDefault=c}}return n},um=function(e,t,n){if(e=Object(Mv.cloneDeep)(e),void 0!==n){if(e[t].subSelected.length<=1)return e;e[t].subSelected=[].concat(Object(Ne.a)(e[t].subSelected.slice(0,n)),Object(Ne.a)(e[t].subSelected.slice(n+1,e[t].subSelected.length)))}else e=[].concat(Object(Ne.a)(e.slice(0,t)),Object(Ne.a)(e.slice(t+1,e.length)));return e};var dm=n(111),hm=(n(970),n(1099)),gm=function(e){var t=e.color,n=e.style;return Object(J.b)("span",{style:Object(C.a)({display:"inline-block",height:14,width:14,backgroundColor:t,verticalAlign:"middle"},n)})},fm=function(e){var t=Object(s.useRef)(null),n=Object(s.useState)(),i=Object(G.a)(n,2),a=i[0],r=i[1],o=Object(hm.a)().t,c=e.value,l=void 0===c?[{key:"类别1",value:"类别1"}]:c,u=e.readonly,d=e.onChange,h=e.onSubmitAction,g=e.isAttributeList,f=function(e,t,n){null==d||d(sm(e,t,l,n))};return Object(J.c)("div",{children:[l&&l.length>0&&(null==l?void 0:l.map((function(e,t){return Object(J.c)("div",{className:"sensebee-input-wrap",onMouseOver:function(n){n.stopPropagation(),r(e.key+t)},onMouseLeave:function(e){e.stopPropagation(),r("")},children:[Object(J.c)("div",{className:"select",children:[Object(J.b)("span",{className:"inputSeria",children:t+1}),Object(J.b)(O.a,{className:"sensebee-input",value:e.key,placeholder:o("Type"),onChange:function(e){return f(e,"key",t)},disabled:u,addonBefore:g&&Object(J.b)(gm,{color:Pn[t%8]})}),Object(J.b)(O.a,{className:"sensebee-input",value:e.value,placeholder:o("Value"),onChange:function(e){return f(e,"value",t)},disabled:u})]}),t>0&&!u&&a===(null==e?void 0:e.key)+t&&Object(J.b)(dm.a,{className:"deleteIcon",onClick:function(){return function(e){null==d||d(um(l,e)),null==h||h()}(t)}})]},"inputList_".concat(t))}))),!u&&Object(J.b)(k.a,{type:"primary",className:"addButton",onClick:function(){return null==d||d(cm(l,!1)),void(null==h||h())},ref:t,ghost:!0,children:"新建"})]})},bm=n(366),pm=function(e){var t=!1,n=Object(bm.a)(),i=Object(G.a)(n,1)[0],a=Object(s.useState)({minWidth:10,minHeight:10,attributeList:[{key:"rectTool",value:"rectTool"}]}),r=Object(G.a)(a,2),o=r[0],c=r[1];Object(s.useMemo)((function(){if(e.config){var t={minWidth:e.config.minWidth?e.config.minWidth:10,minHeight:e.config.minHeight?e.config.minHeight:10,attributeList:e.config.attributeList?e.config.attributeList:[{key:"rectTool",value:"rectTool"}]};c(t)}}),[]);var l=e.children,u=window.throttle((function(){i.submit()}),Uv);return Object(J.b)("div",{children:Object(J.c)("div",{className:"selectedMain",children:[Object(J.c)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{name:e.name,form:i,onChange:u,children:[Object(J.c)(rm.a,{className:"double-input",children:[Object(J.b)(om.a,{span:4,children:Object(J.b)("div",{className:"selectedName",children:"最小尺寸"})}),Object(J.b)(om.a,{span:9,children:Object(J.b)(x.a.Item,{label:"",name:"minWidth",initialValue:o.minWidth,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("div",{children:"W"}),disabled:t})})}),Object(J.b)(om.a,{span:11,children:Object(J.b)(x.a.Item,{name:"minHeight",initialValue:o.minHeight,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("div",{children:"H"}),disabled:t})})})]}),Object(J.b)(x.a.Item,{label:"标签配置",name:"attributeList",initialValue:o.attributeList,children:Object(J.b)(fm,{onSubmitAction:function(){i.submit()},isAttributeList:!0,readonly:t})})]})),l]})})},vm=n(1103),mm=n.p+"static/media/downWardIcon.15b72568.svg",ym=n.p+"static/media/upperIcon.a5f733ea.svg",xm=im.a.Option,Om=function(e){var t=Object(bm.a)(),n=Object(G.a)(t,1)[0],i=!1,a=Object(s.useState)({lineType:0,lowerLimitPointNum:10,upperLimitPointNum:100,attributeList:[{key:"lineTool",value:"lineTool"}]}),r=Object(G.a)(a,2),o=r[0],c=r[1],l=e.children;Object(s.useMemo)((function(){if(e.config){var t={edgeAdsorption:!!e.config.edgeAdsorption&&e.config.edgeAdsorption,lineType:e.config.lineType?e.config.lineType:0,lowerLimitPointNum:e.config.lowerLimitPointNum?e.config.lowerLimitPointNum:10,upperLimitPointNum:e.config.upperLimitPointNum?e.config.upperLimitPointNum:100,attributeList:e.config.attributeList?e.config.attributeList:[{key:"lineTool",value:"lineTool"}]};c(t)}}),[]);var u=window.throttle((function(){n.submit()}),Uv);return Object(J.b)("div",{children:Object(J.c)("div",{className:"selectedMain",children:[Object(J.c)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{name:e.name,form:n,onChange:u,children:[Object(J.b)(x.a.Item,{name:"lineType",label:"线条类型",initialValue:o.lineType,children:Object(J.c)(im.a,{placeholder:"请选择线类型",onChange:function(e){n.submit()},children:[Object(J.b)(xm,{value:0,children:"直线"}),Object(J.b)(xm,{value:1,children:"贝塞尔曲线"})]})}),Object(J.c)(rm.a,{className:"double-input",children:[Object(J.b)(om.a,{span:4,children:Object(J.b)("div",{className:"selectedName",children:"闭点个数"})}),Object(J.b)(om.a,{span:9,children:Object(J.b)(x.a.Item,{name:"lowerLimitPointNum",initialValue:o.lowerLimitPointNum,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("img",{alt:"downIcon",src:mm}),disabled:i})})}),Object(J.b)(om.a,{span:11,children:Object(J.b)(x.a.Item,{name:"upperLimitPointNum",initialValue:o.upperLimitPointNum,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("img",{alt:"downIcon",src:ym}),disabled:i})})})]}),Object(J.b)(x.a.Item,{valuePropName:"checked",label:Object(J.b)("span",{className:"formTitle",children:"边缘吸附"}),name:"edgeAdsorption",initialValue:o.edgeAdsorption,children:Object(J.b)(vm.a,{disabled:i,onChange:function(e){n.submit()}})}),Object(J.b)(x.a.Item,{label:"标签配置",name:"attributeList",initialValue:o.attributeList,children:Object(J.b)(fm,{onSubmitAction:function(){n.submit()},isAttributeList:!0,readonly:i})})]})),l]})})},wm=function(e){var t=Object(bm.a)(),n=Object(G.a)(t,1)[0],i=e.children,a=Object(s.useState)({upperLimit:10,attributeList:[{key:"pointTool",value:"pointTool"}]}),r=Object(G.a)(a,2),o=r[0],c=r[1];Object(s.useMemo)((function(){if(e.config){var t={upperLimit:e.config.upperLimit?e.config.upperLimit:10,attributeList:e.config.attributeList?e.config.attributeList:[{key:"pointTool",value:"pointTool"}]};c(t)}}),[]);var l=window.throttle((function(){n.submit()}),Uv);return Object(J.b)("div",{children:Object(J.c)("div",{className:"selectedMain",children:[Object(J.c)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{name:e.name,form:n,onChange:l,children:[Object(J.b)(x.a.Item,{name:"upperLimit",label:"上限点数",initialValue:o.upperLimit,children:Object(J.b)(O.a,{})}),Object(J.b)(x.a.Item,{label:"标签配置",name:"attributeList",initialValue:o.attributeList,children:Object(J.b)(fm,{onSubmitAction:function(){n.submit()},isAttributeList:!0,readonly:!1})})]})),i]})})},km=(n(971),n(1110)),Lm=n(1104),Cm=n(240),Sm=O.a.Group,Im=function(e){var t=e.inputInfo,n=e.isAllReadOnly,i=e.changeInputInfo,a=e.addInputInfo,r=e.deleteInputInfo,o=e.inputIndex,c=Object(hm.a)().t,l=function(e){e.stopPropagation()};return Object(J.c)("div",{children:[Object(J.c)(rm.a,{className:"select",children:[Object(J.b)(om.a,{span:1,className:"inputSerial",children:o+1}),Object(J.b)(om.a,{span:16,children:Object(J.c)(Sm,{compact:!0,className:"inputGroup",children:[Object(J.b)(O.a,{className:"input_single",value:t.key,placeholder:c("Type"),onChange:function(e){return i(e,"key",o)},onKeyDown:l,disabled:n}),Object(J.b)(O.a,{className:"input_single",value:t.value,placeholder:c("Value"),onChange:function(e){return i(e,"value",o)},onKeyDown:l,disabled:n})]})}),Object(J.b)(om.a,{span:3,children:Object(J.c)("div",{className:"headerOption",children:[Object(J.b)(Cm.a,{placement:"right",title:c("MultiSelect"),children:Object(J.b)(w.a,{className:"".concat(!0===t.isMulti?"checkboxSelected":"checkboxUnselected",' $"icon}'),checked:!0,onChange:function(e){return!n&&i(e,"isMulti",o)}})}),!n&&Object(J.b)("a",{className:"addIcon",onClick:function(){return a(o)},children:Object(J.b)(km.a,{})}),o>0&&!n&&Object(J.b)("a",{className:"deleteIcon",onClick:function(){r(o)},children:Object(J.b)(dm.a,{})})]})})]}),t.subSelected&&Object(J.b)("div",{className:"subMain",children:t.subSelected.map((function(e,t,a){return Object(J.c)(rm.a,{className:"subSelect",children:[Object(J.b)(om.a,{span:1,className:"inputSerial"}),Object(J.b)(om.a,{span:16,className:"firstItem",children:Object(J.c)("div",{className:"sub_input_box",children:[Object(J.b)(O.a,{className:"sub_input",value:e.key,placeholder:c("Type"),onChange:function(e){return i(e,"key",o,t)},disabled:n,onKeyDown:l}),Object(J.b)(O.a,{className:"sub_input",value:e.value,placeholder:c("Value"),onChange:function(e){return i(e,"value",o,t)},disabled:n,onKeyDown:l})]})}),Object(J.c)(om.a,{span:7,className:"headerOption",children:[Object(J.b)("div",{className:'\n                        $"star}\n                        '.concat(e.isDefault?"starSelected":"starUnselected"," \n                      "),onClick:function(e){return!n&&i(e,"isDefault",o,t)},children:Object(J.b)(Cm.a,{placement:"right",title:c("DefaultOrNot"),children:Object(J.b)(Lm.a,{style:{width:16,height:16}})})}),a.length>1&&!n&&Object(J.b)("a",{style:{color:"#CCCCCC"},onClick:function(){r(o,t)},children:Object(J.b)(dm.a,{})})]})]},t)}))})]},"inputList_".concat(o))},Am=function(e){var t,n=Object(bm.a)(),i=Object(G.a)(n,1)[0],a=Object(s.useState)({tagList:[{key:"类别2",value:"class2",isMulti:!1,subSelected:[{key:"选项2",value:"option2",isDefault:!0},{key:"选项2-2",value:"option2-2",isDefault:!1}]}]}),r=Object(G.a)(a,2),o=r[0],c=r[1];Object(s.useMemo)((function(){if(e){var t={tagList:e.tagList&&e.tagList.length>0?e.tagList:[{key:"类别2",value:"class2",isMulti:!1,subSelected:[{key:"选项2",value:"option2",isDefault:!0},{key:"选项2-2",value:"option2-2",isDefault:!1}]}]};c(t)}}),[]);var l=function(e,t,n,a){var r,o;if(!((null==e||null===(r=e.target)||void 0===r||null===(o=r.value)||void 0===o?void 0:o.indexOf("@"))>-1)||["isMulti","isDefault"].includes(t)){var l=null==i?void 0:i.getFieldValue("tagList"),s=sm(e,t,l,n,a);null==i||i.setFieldsValue({tagList:s}),c({tagList:s})}},u=function(e){var t=null==i?void 0:i.getFieldValue("tagList");null==i||i.setFieldsValue({tagList:cm(t,true,e,{isMulti:!0,lang:"cn"})}),c({tagList:cm(t,true,e,{isMulti:!0,lang:"cn"})})},d=function(e,t){var n=null==i?void 0:i.getFieldValue("tagList");null==i||i.setFieldsValue({tagList:um(n,e,t)})},h=window.throttle((function(){i.submit()}),Uv);Object(s.useEffect)((function(){h()}),[o]);var g=e.children;return Object(J.c)("div",{className:"selectedMain",style:{paddingLeft:24},children:[Object(J.b)(x.a,{name:e.name,form:i,children:Object(J.c)(x.a.Item,{label:"",name:"tagList",shouldUpdate:!0,initialValue:o.tagList,children:[null===(t=o.tagList)||void 0===t?void 0:t.map((function(e,t){return Object(J.b)(Im,{inputInfo:e,isAllReadOnly:!1,changeInputInfo:l,addInputInfo:u,deleteInputInfo:d,inputIndex:t},t)})),Object(J.b)(k.a,{type:"primary",style:{marginTop:16,borderRadius:4},onClick:function(){return u()},ghost:!0,children:"新建"})]})}),g]})},Pm=n(1111),jm=n(1086),Tm=O.a.TextArea,Em=function(e){var t=e.label,n=e.maxLength,i=e.default,a=e.form,r=Object(hm.a)().t;return Object(J.c)(x.a,{preserve:!1,layout:"horizontal",labelAlign:"left",labelCol:{span:6},wrapperCol:{span:18},form:a,children:[Object(J.b)(x.a.Item,{label:r("Name"),children:t}),Object(J.b)(x.a.Item,{label:r("Maximum Text Input"),name:"maxLength",rules:[{required:!0,message:r("Reqired")}],initialValue:n,children:Object(J.b)(jm.a,{min:1,max:1e3,style:{width:"100%"}})}),Object(J.b)(x.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){var e=a.getFieldValue("maxLength");return Object(J.b)(x.a.Item,{label:r("DefaultText"),initialValue:i,name:"default",rules:[{max:e,message:r("DefaultTextCharactersLimitNotify",{len:e})}],children:Object(J.b)(Tm,{maxLength:e,showCount:!0})})}})]})},Dm=(n(972),Kv.a.confirm),Mm={label:"文本",key:"text",required:!1,default:"",maxLength:1e3},Rm=function(e){var t=e.value,n=e.onChange,i=Object(s.useState)([Mm]),a=Object(G.a)(i,2),r=a[0],o=a[1],c=x.a.useForm(),l=Object(G.a)(c,1)[0],u=Object(hm.a)().t,d=function(e){null==n||n(e)},h=function(e,n){var i=Object(Mv.cloneDeep)(t||r);Object.assign(i[n],e),t||o(i),d(i)};return Object(J.c)("div",{className:Gu()({sensebeeInputWrap:!0}),children:[(t||r).map((function(e,n){return Object(J.c)("div",{className:Gu()({multiple:(t||r).length>1,textConfigItem:!0}),children:[Object(J.b)("span",{className:"textConfigIndex",children:n+1}),Object(J.b)(O.a,{value:e.label,className:"textConfigInput sensebee-input",placeholder:u("DisplayValue"),onChange:function(e){h({label:e.target.value},n)}}),Object(J.b)(O.a,{value:e.key,className:"textConfigInput",placeholder:u("SaveValue"),disabled:1===(t||r).length,onChange:function(e){h({key:e.target.value},n)}}),Object(J.c)("div",{className:"textConfigIconBox",children:[Object(J.b)(Cm.a,{title:u("MoreSettings"),children:Object(J.b)(Pm.a,{className:Gu()({activeColor:e.default}),onClick:function(){return function(e,t){Dm({title:u("TextSettings"),icon:null,width:600,content:Object(J.b)(Em,{form:l,label:e.label,maxLength:e.maxLength,default:e.default}),onOk:function(){return new Promise((function(e,n){l.validateFields().then((function(i){i?(h(i,t),e(!0)):n()}))}))},onCancel:function(){}})}({label:e.label,default:e.default,maxLength:e.maxLength},n)}})}),Object(J.b)(dm.a,{className:"close",onClick:function(){!function(e){(t||r).splice(e,1);var n=t||r;1===n.length&&"text"!==n[0].key&&(n=[Object(C.a)({},Mm)]),t||o(Object(Ne.a)(n)),d(Object(Ne.a)(n))}(n)}}),Object(J.b)("span",{})]})]},n)})),Object(J.b)(k.a,{type:"primary",style:{marginTop:16,borderRadius:4},onClick:function(){var e=(t||r).length,n=Object(C.a)({},Mm);n.label+=e+1,n.key+=e+1,t||o((function(e){return[].concat(Object(Ne.a)(e),[n])})),d([].concat(Object(Ne.a)(t||r),[n]))},ghost:!0,children:"新建"})]})},Nm=n(435),Vm=function(e){var t=Object(Nm.useForm)(),n=Object(G.a)(t,1)[0],i=Object(s.useState)([{label:"文本",key:"text",required:!1,default:"",maxLength:1e3}]),a=Object(G.a)(i,2),r=a[0],o=a[1],c=window.throttle((function(){n.submit()}),Uv);Object(s.useMemo)((function(){if(e){var t=e.textConfig&&e.textConfig.length>0?e.textConfig:[{label:"文本",key:"text",required:!1,default:"",maxLength:1e3}];o(t)}}),[]);var l=e.children;return Object(J.c)("div",{className:"selectedMain",style:{paddingLeft:24},children:[Object(J.b)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{name:e.name,form:n,children:Object(J.b)(x.a.Item,{name:"textConfig",initialValue:r,children:Object(J.b)(Rm,{onChange:function(e){n.setFieldsValue({textConfig:e}),c()}})})})),l]})},Hm=im.a.Option,Bm=function(e){var t=!1,n=Object(bm.a)(),i=Object(G.a)(n,1)[0],a=Object(s.useState)({lineType:0,lowerLimitPointNum:10,upperLimitPointNum:100,attributeList:[{key:"polygonTool",value:"polygonTool"}]}),r=Object(G.a)(a,2),o=r[0],c=r[1],l=e.children;Object(s.useMemo)((function(){if(e.config){var t={lineType:e.config.lineType?e.config.lineType:0,lowerLimitPointNum:e.config.lowerLimitPointNum?e.config.lowerLimitPointNum:10,upperLimitPointNum:e.config.upperLimitPointNum?e.config.upperLimitPointNum:100,attributeList:e.config.attributeList?e.config.attributeList:[{key:"polygonTool",value:"polygonTool"}]};c(t)}}),[]);var u=window.throttle((function(){i.submit()}),Uv);return Object(J.b)("div",{children:Object(J.c)("div",{className:"selectedMain",children:[Object(J.c)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{name:e.name,form:i,onChange:u,children:[Object(J.b)(x.a.Item,{name:"lineType",label:"线条类型",initialValue:o.lineType,children:Object(J.c)(im.a,{placeholder:"请选择线类型",onChange:function(e){i.submit()},children:[Object(J.b)(Hm,{value:0,children:"直线"}),Object(J.b)(Hm,{value:1,children:"贝塞尔曲线"})]})}),Object(J.c)(rm.a,{className:"double-input",children:[Object(J.b)(om.a,{span:4,children:Object(J.b)("div",{className:"selectedName",children:"闭点个数"})}),Object(J.b)(om.a,{span:9,children:Object(J.b)(x.a.Item,{name:"lowerLimitPointNum",initialValue:o.lowerLimitPointNum,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("img",{alt:"downIcon",src:mm}),disabled:t})})}),Object(J.b)(om.a,{span:11,children:Object(J.b)(x.a.Item,{name:"upperLimitPointNum",initialValue:o.upperLimitPointNum,children:Object(J.b)(O.a,{type:"text",suffix:Object(J.b)("img",{alt:"upIcon",src:ym}),disabled:t})})})]}),Object(J.b)(x.a.Item,{label:"标签配置",name:"attributeList",initialValue:o.attributeList,children:Object(J.b)(fm,{onSubmitAction:function(){i.submit()},isAttributeList:!0,readonly:t})})]})),l]})})},Zm=(n(1029),n(1098)),zm=function(e){var t=Object(l.e)((function(e){return e.toolsConfig})),n=t.tagList,i=t.textConfig,a=t.tools,r=Object(l.d)(),o=Object(s.useState)(!1),c=Object(G.a)(o,2),u=c[0],d=c[1],h=Object(s.useState)(!1),g=Object(G.a)(h,2),f=g[0],b=g[1],p=Object(s.useMemo)((function(){if(e.toolname){if(e.toolname===De.Rect)return pm;if(e.toolname===De.Point)return wm;if(e.toolname===De.Line)return Om;if(e.toolname===De.Polygon)return Bm;if(e.toolname===De.Tag)return Am;if(e.toolname===De.Text)return Vm}return null}),[e.toolname]);return Object(J.b)("div",{children:p&&Object(J.b)(p,Object(C.a)(Object(C.a)({tagList:n,textConfig:i,name:e.toolname},e.config),{},{children:Object(J.b)(Zm.a,{title:"您确定要删除该工具吗？",open:u,okText:"确认",cancelText:"取消",onConfirm:function(){b(!0),setTimeout((function(){d(!1),b(!1)}),2e3),function(e){e===De.Text?r(Av([])):e===De.Tag&&r(Sv([]));var t=a.filter((function(t){return t.tool!==e}));r(Cv(t))}(e.toolname)},okButtonProps:{loading:f},onCancel:function(){d(!1)},children:Object(J.b)("span",{onClick:function(){d(!0)},className:"deleteTab",children:"删除工具"})})}))})},Fm=function(e){return e[e.AnyString=0]="AnyString",e[e.Order=1]="Order",e[e.EnglishOnly=2]="EnglishOnly",e[e.NumberOnly=3]="NumberOnly",e[e.CustomFormat=4]="CustomFormat",e}({}),Um={0:"AnyString",1:"OrderString",2:"EnglishOnly",3:"NumbersOnly",4:"CustomFormat"},Jm={AnyString:"任意字符",OrderString:"序号",EnglishOnly:"仅英文",NumbersOnly:"仅数字",CustomFormat:"自定义文本格式"},Wm=function(e){var t,n,i=e.value,a=void 0===i?{}:i,r=e.onChange,o=Object(s.useState)(!1),c=Object(G.a)(o,2),l=c[0],u=c[1],d=Object(s.useState)(Fm.AnyString),h=Object(G.a)(d,2),g=h[0],f=h[1],b=Object(s.useState)(""),p=Object(G.a)(b,2),v=p[0],m=p[1],y=(Object(hm.a)().t,function(e){null==r||r(Object(C.a)(Object(C.a)({textConfigurable:l,textCheckType:g,customFormat:v},a),e))});return Object(J.c)(J.a,{children:[Object(J.b)("div",{className:"switchMain",children:Object(J.b)(vm.a,{checked:a.textConfigurable,onChange:function(e){"textConfigurable"in a||u(e),y({textConfigurable:e})}})}),(a.textConfigurable||l)&&Object(J.b)(im.a,{style:{width:"100%",marginTop:"24px"},value:~~(null!==(t=a.textCheckType)&&void 0!==t?t:Fm.AnyString),onChange:function(e){"textCheckType"in a||f(e),y({textCheckType:e})},children:Object.entries(Um).map((function(e){return Object(J.b)(im.a.Option,{value:~~e[0],children:Jm[e[1]]},~~e[0])}))}),(a.textCheckType||g)===Fm.CustomFormat&&Object(J.b)(O.a,{placeholder:"请输入正则表达式",style:{width:"100%",marginTop:"24px"},value:null!==(n=a.customFormat)&&void 0!==n?n:v,onChange:function(e){var t=e.target.value;"customFormat"in a||m(t),y({customFormat:t})}})]})},Xm=function(e){var t=!1,n=x.a.useForm(),i=Object(G.a)(n,1)[0],a=Object(s.useState)(),r=Object(G.a)(a,2),o=r[0],c=r[1];Object(s.useMemo)((function(){if(e){var t={attribute:e.attribute,drawOutsideTarget:e.drawOutsideTarget,textCheckType:e.textCheckType,customFormat:e.customFormat,textConfigurable:e.textConfigurable,commonAttributeConfigurable:e.commonAttributeConfigurable};c(t)}}),[e]);var l=window.throttle((function(){i.submit()}),Uv);return e.isShow?Object(J.b)("div",{style:{marginTop:24},children:o&&Object(J.c)(x.a,Object(C.a)(Object(C.a)({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:16}}}),{},{onChange:l,form:i,name:e.name,children:["lineTool"!==e.toolName&&Object(J.b)(x.a.Item,{valuePropName:"checked",label:Object(J.b)("span",{className:"formTitle",children:"目标外标注"}),name:"drawOutsideTarget",initialValue:o.drawOutsideTarget,children:Object(J.b)(vm.a,{onChange:function(e){i.submit()},disabled:t})}),Object(J.b)(x.a.Item,{valuePropName:"checked",label:Object(J.b)("span",{className:"formTitle",children:"通用标签"}),name:"commonAttributeConfigurable",initialValue:o.commonAttributeConfigurable,children:Object(J.b)(vm.a,{disabled:t})}),Object(J.b)(x.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return(null==i?void 0:i.getFieldValue("commonAttributeConfigurable"))&&Object(J.b)(x.a.Item,{label:" ",name:"attribute",initialValue:o.attribute,children:Object(J.b)(fm,{onSubmitAction:function(){i.submit()},isAttributeList:!0,readonly:t})})}}),Object(J.b)(x.a.Item,{label:Object(J.b)("span",{className:"formTitle",children:"属性配置"}),name:"textConfigurableContext",initialValue:{textConfigurable:o.textConfigurable,textCheckType:o.textCheckType,customFormat:o.customFormat},children:Object(J.b)(Wm,{onChange:function(e){i.submit()}})})]}))}):Object(J.b)(J.a,{})},Gm=im.a.Option,qm=["tagTool","textTool"],Km=["lineTool"],Ym=function(e){for(var t=Object(l.e)((function(e){return e.toolsConfig})),n=t.tools,i=t.tagList,a=t.attribute,r=t.textConfig,o=Object(l.d)(),c=[],u=Object(s.useState)("图片"),d=Object(G.a)(u,2),h=d[0],g=d[1],f=Object(s.useState)([]),b=Object(G.a)(f,2),p=b[0],v=b[1],O=Object(s.useState)(!0),w=Object(G.a)(O,2),L=w[0],S=w[1],I=0;I<Fv.length;I++)c.push(Object(J.b)(Gm,{children:Fv[I]},Fv[I]));var A=Object(s.useState)(0),P=Object(G.a)(A,2),j=P[0],T=P[1],E=Object(s.useMemo)((function(){for(var e=[],t=function(t){p.indexOf(Zv[Bv[t]])<0&&e.push({key:Zv[Bv[t]],label:Object(J.b)("div",{onClick:function(e){M(Zv[Bv[t]]),D(Zv[Bv[t]],n),e.stopPropagation()},style:{paddingTop:5,paddingBottom:5,paddingLeft:12},children:Object(J.b)("span",{children:Bv[t]})})})},i=0;i<Bv.length;i++)t(i);return e}),[p,n]),D=function(){var e=Object(y.a)(Object(m.a)().mark((function e(t,n){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!1),e.next=3,new Promise(function(){var e=Object(y.a)(Object(m.a)().mark((function e(c,l){var s,u,d,h,g,f;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,em(t);case 3:for(s=e.sent,u=Object.keys(s),d=0,h=u;d<h.length;d++)"attribute"===(g=h[d])&&0===a.length?o(Iv(s[g])):"tagList"===g&&0===i.length?o(Sv(s[g])):"textConfig"===g&&0===r.length?o(Av(s[g])):"tools"===g?(f=Object(Ne.a)(n).concat(s[g]),o(Cv(f))):"fileInfo"===g&&o(Lv(s[g]));c(s);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:S(!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e=[];if(n&&n.length>0){for(var t=0;t<n.length;t++)p.indexOf(n[t].tool)<0&&e.indexOf(n[t].tool)<0&&e.push(n[t].tool);var a=Object(Ne.a)(p).concat(e);0===i.length&&(a=a.filter((function(e){return e!==De.Tag}))),0===r.length&&(a=a.filter((function(e){return e!==De.Text}))),v(a)}}),[n,i,r]);var M=function(e){var t=p;t.indexOf(e)>=0?t.splice(t.indexOf(e),1):t.push(e),v(t)},R=Object(s.useState)(0),N=Object(G.a)(R,2),V=N[0],H=N[1];Object(s.useEffect)((function(){var e=document.getElementById("lefeSiderId"),t=null==e?void 0:e.getBoundingClientRect().height;H(t-128)}),[]);var B=function(e,t,n){var i=e.reduce((function(e,i){if(i.tool===n||"commonForm"===n){var a=Object(C.a)({},i),r=Object(C.a)(Object(C.a)({},a.config),t);a.config=r,e.push(a)}else e.push(i);return e}),[]);o(Cv(i))};return Object(J.c)("div",{className:"formConfig",style:{height:V},children:[Object(J.c)("div",{className:"oneRow",children:[Object(J.b)("label",{children:"标注类型"}),Object(J.b)(im.a,{size:"middle",value:h,onChange:function(e){g(e)},listItemHeight:10,listHeight:250,children:c})]}),Object(J.c)("div",{className:"oneRow",children:[Object(J.b)("label",{children:"标注工具"}),Object(J.b)(am.a,{overlay:Object(J.b)(Y.a,{items:E}),placement:"bottomLeft",trigger:["click"],children:Object(J.c)(k.a,{type:"primary",ghost:!0,children:[Object(J.b)("span",{style:{fontSize:22,marginTop:-7},children:"+ "})," 新增工具"]})})]}),p&&p.length>0&&Jv(n)&&Object(J.b)("div",{className:"formTabBox",children:Object(J.b)(Gv.a,{type:"card",activeKey:localStorage.getItem("activeTabKeys")&&Number(localStorage.getItem("activeTabKeys"))<=p.length?localStorage.getItem("activeTabKeys"):p.length+"",onChange:function(e){localStorage.setItem("activeTabKeys",e),T((new Date).getTime())},items:p.map((function(e,t){var i,r=String(t+1),c=!0;i=n.filter((function(t){return t.tool===e}))[0];var l={drawOutsideTarget:!1,textCheckType:1,customFormat:"",textConfigurable:!0};return qm.indexOf(e)>=0?c=!1:i&&i.config&&(l={drawOutsideTarget:i.config.drawOutsideTarget,textCheckType:i.config.textCheckType,customFormat:i.config.customFormat,textConfigurable:i.config.textConfigurable},Km.indexOf(e)>=0&&delete l.drawOutsideTarget),{label:"".concat(zv[e]),key:r,children:Object(J.b)("div",{className:"toolConfigPane",children:Object(J.c)(x.a.Provider,{onFormFinish:function(e,t){Object.keys(t.forms).length>0&&function(e,t){if(e&&Object.keys(zv).indexOf(e)>=0&&("tagTool"===e?o(Sv(t.values.tagList)):"textTool"===e?o(Av(t.values.textConfig)):B(n,t.values,e)),"commonForm"===e){void 0!==t.values.attribute&&o(Iv(t.values.attribute));var i={};void 0!==t.values.drawOutsideTarget&&(i=Object.assign(i,{drawOutsideTarget:t.values.drawOutsideTarget})),void 0!==t.values.textConfigurableContext&&(i=Object.assign(i,t.values.textConfigurableContext)),B(n,i,e)}}(e,t)},children:[Object(J.b)(zm,{toolname:e,config:i}),L&&Object(J.b)(Xm,Object(C.a)(Object(C.a)({commonAttributeConfigurable:a.length>0,attribute:a},l),{},{name:"commonForm",toolName:e,isShow:c}),j)]})})}}))})})]})},Qm=Xv.a.Step,_m=function(){var e=Object(l.e)((function(e){return e.toolsConfig}),l.c),t=e.tools,n=e.tagList,i=e.attribute,a=e.textConfig,r=e.fileInfo,o=Object(s.useState)(),c=Object(G.a)(o,2),u=c[0],d=c[1],h=Object(s.useState)(!1),g=Object(G.a)(h,2),f=g[0],b=g[1],p=Object(s.useState)({fileInfo:r,tools:t,tagList:n,attribute:i,textConfig:a}),v=Object(G.a)(p,2),m=v[0],y=v[1],x=Object(s.useState)(0),O=Object(G.a)(x,2),w=O[0],L=O[1],C=Object(s.useState)([]),S=Object(G.a)(C,2),I=S[0],A=S[1];Object(s.useEffect)((function(){window.throttle=function(e,t){var n;return function(){n&&clearTimeout(n),n=setTimeout((function(){e()}),t)}},d(qv)}),[]),Object(s.useEffect)((function(){y({fileInfo:r,tools:t,tagList:n,attribute:i,textConfig:a}),L((new Date).getTime())}),[i,n,a,t,r]),Object(s.useEffect)((function(){if(r.list&&r.list.length>0){var e=r.list.map((function(e,t){return{id:t+1,url:e.url,result:JSON.stringify([])}}));A(e)}}),[r]);var P={left:Object(J.b)("span",{className:"leftTabContent",children:"标注配置"}),right:Object(J.b)(nm,{})};return Object(J.c)("div",{className:"container",children:[Object(J.c)("div",{className:"headerBox",children:[Object(J.b)("div",{className:"stepBox",children:Object(J.c)(Xv.a,{size:"small",current:2,children:[Object(J.b)(Qm,{title:"基础配置"}),Object(J.b)(Qm,{title:"数据导入"}),Object(J.b)(Qm,{title:"标注配置"})]})}),Object(J.c)("div",{className:"submitBox",children:[Object(J.b)(k.a,{children:"取消"}),Object(J.b)(k.a,{type:"primary",onClick:function(e){e.stopPropagation()},children:"完成"})]})]}),Object(J.c)("div",{className:"configBox",children:[Object(J.b)("div",{className:"leftSider",id:"lefeSiderId",children:Object(J.c)(Gv.a,{defaultActiveKey:"1",tabBarExtraContent:P,type:"card",onChange:function(e){L((new Date).getTime())},children:[Object(J.b)(Gv.a.TabPane,{tab:"YAML",children:Object(J.b)("div",{className:"leftPane",children:Object(J.b)(Wv,{toolsConfigState:m,doSetImg:function(e,t){d(e),b(t)}},w)})},"1"),Object(J.b)(Gv.a.TabPane,{tab:"可视化",forceRender:!0,children:Object(J.b)("div",{className:"leftPane",children:Object(J.b)(Ym,{},w)})},"2")]})}),Object(J.b)("div",{className:"rightSider",children:!(I&&I.length>0&&t&&t.length>0)&&u||f?Object(J.b)("div",{className:"notMatchBox",children:Object(J.b)("img",{alt:"not match config",src:u})}):Object(J.c)(J.a,{children:[Object(J.b)("div",{className:"rightHeader",children:Object(J.b)("span",{className:"leftSpan",children:"标注预览"})}),Object(J.b)(yv,{isPreview:!0,attribute:i,tagList:n,fileList:I,textConfig:a,goBack:function(e){},tools:t})]})})]})]})},$m=n(370),ey=function(){var e=Object(l.d)(),t=Object(l.e)((function(e){return e.toolsConfig})),n=t.tools,i=t.attribute,a=Object(s.useState)([]),r=Object(G.a)(a,2),o=r[0],c=r[1];Object(s.useEffect)((function(){e(Cv($m.tools)),e(Iv($m.attribute));for(var t={attribute:"大众",center:{x:-3.667189431770466,y:9.819609371447392,z:-.28502941131591797},id:"go7JhqDF",rotation:3.141512743038566,valid:!0,width:20.315630577533675,height:13.318114349281112,depth:11.110329627990723,zInfo:{maxZ:5.270135402679443,minZ:-5.840194225311279,count:0,zCount:17212},rect:[{x:2.9910560049913646,y:19.977956756710284},{x:-10.327058301767032,y:19.976892498853452},{x:-10.325434868532296,y:-.33873801381550095},{x:2.9926794382260997,y:-.33767375595866866}],order:1,isVisible:!0},n=[],i=function(){var e=Object(C.a)({},t);e.id=a+"dfsfsdf",e.order=a;var i=10*Math.random()-5,r=365*Math.random();e.rect[0].x=e.rect[0].x+i,e.rect[0].y=e.rect[0].y+i,e.rect[1].x=e.rect[1].x+i,e.rect[1].y=e.rect[1].y+i,e.rect[2].x=e.rect[2].x+i,e.rect[2].y=e.rect[2].y+i,e.rect[3].x=e.rect[3].x+i,e.rect[3].y=e.rect[3].y+i,e.rect=e.rect.map((function(e){return Yr.getRotatePoint({x:0,y:0},e,r)})),n.push(e)},a=0;a<0;a++)i();var r=Ov.map((function(e,t){return{id:t+1,url:e.url,mappingImgList:e.mappingImgList,result:JSON.stringify({pointCloudTool:{toolName:"pointCloudTool",result:n}})}}));c(r)}),[]);return Object(J.b)(J.a,{children:o&&o.length>0&&n&&n.length>0&&Object(J.b)(yv,{attribute:i,tagList:[],fileList:o,textConfig:[],goBack:function(e){},tools:n})})},ty=Object(s.lazy)((function(){return n.e(6).then(n.bind(null,1124))})),ny=[{path:"/login",element:Object(J.b)(Ce,{element:Object(J.b)(X,{}),titleId:"title.login"})},{path:"/annotation",element:Object(J.b)(Ce,{element:Object(J.b)(Tv,{}),titleId:"title.annotation"})},{path:"/pointCloud",element:Object(J.b)(Ce,{element:Object(J.b)(ey,{}),titleId:"title.pointCloud"})},{path:"/annotationConfig",element:Object(J.b)(Ce,{element:Object(J.b)(_m,{}),titleId:"title.annotationConfig"})},{path:"/",element:Object(J.b)(Ce,{element:Object(J.b)(ye,{}),titleId:""}),children:[{path:"*",element:Object(J.b)(Ce,{element:Object(J.b)(ty,{}),titleId:"title.notFount"})}]}],iy=function(){return Object(L.e)(ny)},ay=n(436),ry=Object(ay.a)(),oy=function(e){var t=e.history,n=e.children,i=u.a.useState({action:t.action,location:t.location}),a=Object(G.a)(i,2),r=a[0],o=a[1];return u.a.useLayoutEffect((function(){t.listen(o)}),[t]),u.a.createElement(L.b,Object.assign({children:n,navigator:t},r))},cy=function(){var e=Object(l.e)((function(e){return e.user})).locale;Object(s.useEffect)((function(){"en_US"===e?v.a.locale("en"):"zh_CN"===e&&v.a.locale("zh-cn")}),[e]);return Object(J.b)(g.a,{locale:"en_US"===e?f.a:"zh_CN"===e?b.a:void 0,componentSize:"middle",children:Object(J.b)(d.a,{locale:e.split("_")[0],messages:h.b[e],children:Object(J.b)(oy,{history:ry,children:Object(J.b)(iy,{})})})})},ly=function(e){e&&e instanceof Function&&n.e(10).then(n.bind(null,1126)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))},sy=Object(zp.b)({user:N,toolsConfig:Pv}),uy=Object(S.a)({reducer:sy}),dy=(n(1030),n(371)),hy=n.n(dy),gy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,i=n.length,a={data:[],pageNum:e,pageSize:t,total:i};if(t>=i)a.data=n,a.pageNum=1;else{var r=t*(e-1);if(r<i){var o=r,c=r+t-1;a.data=n.filter((function(e,t){return t>=o&&t<=c}))}else{var l=Math.ceil(i/t),s=i%t;s>0?(a.pageNum=l+1,a.data=n.filter((function(e,n){return n>=t*l&&n<=i}))):0===s&&(a.pageNum=l,a.data=n.filter((function(e,n){return n>=t*(l-1)&&n<=i})))}}return a};function fy(e,t){return t?{status:!0,message:"成功",result:gy(Number(t.pageNum),Number(t.pageSize),e)}:{status:!0,message:"成功",result:e}}hy.a.setup({timeout:300});var by=hy.a;by.mock("/user/login","post",(function(e){var t=JSON.parse(null==e?void 0:e.body);return fy({token:"123abcdefg",username:null==t?void 0:t.username,role:null==t?void 0:t.username})})),by.mock("/user/logout","post",fy(null));by.mock("/user/menu","get",fy([{name:"annotationConfig",label:{zh_CN:"标注工具配置",en_US:"annotationConfig"},icon:"dashboard",key:"0",path:"/annotationConfig"},{name:"annotation",label:{zh_CN:"图像标注工具",en_US:"annotation"},icon:"annotation",key:"0",path:"/annotation"},{name:"pointCloud",label:{zh_CN:"点云标注工具",en_US:"pointCloud"},icon:"permission",key:"0",path:"/pointCloud"}]));by.mock("/user/notice","get",fy([{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"你收到了 14 份新周报",datetime:"2017-08-09",type:"notification"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"你推荐的 曲妮妮 已通过第三轮面试",datetime:"2017-08-08",type:"notification"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"这种模板可以区分多种通知类型",datetime:"2017-08-07",read:!0,type:"notification"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",datetime:"2017-08-07",type:"notification"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"内容不要超过两行字，超出时自动截断",datetime:"2017-08-07",type:"notification"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"曲丽丽 评论了你",description:"描述信息描述信息描述信息",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"朱偏右 回复了你",description:"这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"标题",description:"这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像",datetime:"2017-08-07",type:"message",clickClose:!0},{id:"000000009",title:"任务名称",description:"任务需要在 2017-01-12 20:00 前启动",extra:"未开始",status:"todo",type:"event"},{id:"000000010",title:"第三方紧急代码变更",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"马上到期",status:"urgent",type:"event"},{id:"000000011",title:"信息安全考试",description:"指派竹尔于 2017-01-09 前完成更新并发布",extra:"已耗时 8 天",status:"doing",type:"event"},{id:"000000012",title:"ABCD 版本发布",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"进行中",status:"processing",type:"event"}]));by.mock("/permission/role","get",fy([{name:{zh_CN:"访客",en_US:"Guest"},code:"role_guest",id:0,status:"enabled"},{name:{zh_CN:"管理员",en_US:"Admin"},code:"role_admin",id:1,status:"enabled"}]));var py=n(439),vy=n.n(py),my=[{key:"1",firstName:"John",lastName:"Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"]},{key:"2",firstName:"Jim",lastName:"Green",age:42,address:"London No. 1 Lake Park",tags:["loser"]},{key:"3",firstName:"Joe",lastName:"Black",age:32,address:"Sidney No. 1 Lake Park",tags:["cool","teacher"]}];new Array(30).fill(void 0).forEach((function(e,t){my.push({key:t+4+"",firstName:"Joe"+t,lastName:"Black"+t,age:32+t,address:"Sidney No. 1 Lake Park"+t,tags:["cool","teacher"]})})),by.mock(/\/business\/list*/,"get",(function(e){var t=e.url.split("?")[1],n=vy.a.decode(t);return fy(my,n)})),c.a.render(Object(J.b)(l.a,{store:uy,children:Object(J.b)(cy,{})}),document.getElementById("root")),ly()},188:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return f}));var i=n(18),a=n(3),r=n(417),o=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},{"app.settings.menuMap.basic":"Basic Settings","app.settings.menuMap.security":"Security Settings","app.settings.menuMap.binding":"Account Binding","app.settings.menuMap.notification":"New Message Notification","app.settings.basic.avatar":"Avatar","app.settings.basic.change-avatar":"Change avatar","app.settings.basic.email":"Email","app.settings.basic.email-message":"Please input your email!","app.settings.basic.nickname":"Nickname","app.settings.basic.nickname-message":"Please input your Nickname!","app.settings.basic.profile":"Personal profile","app.settings.basic.profile-message":"Please input your personal profile!","app.settings.basic.profile-placeholder":"Brief introduction to yourself","app.settings.basic.country":"Country/Region","app.settings.basic.country-message":"Please input your country!","app.settings.basic.geographic":"Province or city","app.settings.basic.geographic-message":"Please input your geographic info!","app.settings.basic.address":"Street Address","app.settings.basic.address-message":"Please input your address!","app.settings.basic.phone":"Phone Number","app.settings.basic.phone-message":"Please input your phone!","app.settings.basic.update":"Update Information","app.settings.security.strong":"Strong","app.settings.security.medium":"Medium","app.settings.security.weak":"Weak","app.settings.security.password":"Account Password","app.settings.security.password-description":"Current password strength","app.settings.security.phone":"Security Phone","app.settings.security.phone-description":"Bound phone","app.settings.security.question":"Security Question","app.settings.security.question-description":"The security question is not set, and the security policy can effectively protect the account security","app.settings.security.email":"Backup Email","app.settings.security.email-description":"Bound Email","app.settings.security.mfa":"MFA Device","app.settings.security.mfa-description":"Unbound MFA device, after binding, can be confirmed twice","app.settings.security.modify":"Modify","app.settings.security.set":"Set","app.settings.security.bind":"Bind","app.settings.binding.taobao":"Binding Taobao","app.settings.binding.taobao-description":"Currently unbound Taobao account","app.settings.binding.alipay":"Binding Alipay","app.settings.binding.alipay-description":"Currently unbound Alipay account","app.settings.binding.dingding":"Binding DingTalk","app.settings.binding.dingding-description":"Currently unbound DingTalk account","app.settings.binding.bind":"Bind","app.settings.notification.password":"Account Password","app.settings.notification.password-description":"Messages from other users will be notified in the form of a station letter","app.settings.notification.messages":"System Messages","app.settings.notification.messages-description":"System messages will be notified in the form of a station letter","app.settings.notification.todo":"To-do Notification","app.settings.notification.todo-description":"The to-do list will be notified in the form of a letter from the station","app.settings.open":"Open","app.settings.close":"Close"}),{"header.avator.account":"Account","header.avator.logout":"Logout","global.theme.switchTheme":"Switch Theme","global.theme.switchingTheme":"Switching Theme...","global.theme.switchThemeDone":"Update theme successfully!","global.theme.switchThemeFail":"Update theme fail"}),{"tagsView.operation.closeCurrent":"Close Current","tagsView.operation.closeOther":"Close Other","tagsView.operation.closeAll":"Close All","tagsView.operation.dashboard":"Dashboard"}),{"title.login":"Login","title.dashboard":"Dashboard","title.documentation":"Documentation","title.guide":"Guide","title.permission.route":"Route Permission","title.permission.button":"Button Permission","title.permission.config":"Permission Config","title.account":"Account","title.notFount":"404","title.annotation":"annotation","title.annotationConfig":"annotation config","title.pointCloud":"title.pointCloud"}),{"gloabal.tips.notfound":"Sorry, the page you visited does not exist.","gloabal.tips.unauthorized":"Sorry, you are not authorized to access this page.","gloabal.tips.loginResult":"When you see this page, it means you are logged in.","gloabal.tips.goToLogin":"Go To Login","gloabal.tips.username":"Username","gloabal.tips.password":"Password","gloabal.tips.login":"Login","gloabal.tips.backHome":"Back Home","gloabal.tips.operation":"Operation","gloabal.tips.authorize":"Authorize","gloabal.tips.delete":"Delete","gloabal.tips.create":"Create","gloabal.tips.modify":"Modify","gloabal.tips.search":"Search","gloabal.tips.reset":"Reset","gloabal.tips.deleteConfirm":"Do you Want to delete these items?"}),{"app.permission.role.name":"Role Name","app.permission.role.code":"Role Code","app.permission.role.status":"Status","app.permission.role.status.all":"All","app.permission.role.status.enabled":"Enabled","app.permission.role.status.disabled":"Disabled","app.permission.role.nameRequired":"Please input the role name","app.permission.role.codeRequired":"Please input the role code","app.permission.role.statusRequired":"Please select the enabled status"}),{"app.dashboard.overview.totalSales":"Total Sales","app.dashboard.overview.visits":"Visits","app.dashboard.overview.payments":"Payments","app.dashboard.overview.operationalEffect":"Operational Effect","app.dashboard.overview.wowChange":"WoW Change","app.dashboard.overview.dodChange":"DoD Change","app.dashboard.overview.dailySales":"Daily Sales","app.dashboard.overview.visits.dailyVisits":"Daily Visits","app.dashboard.overview.conversionRate":"Conversion Rate","app.dashboard.salePercent.proportionOfSales":"The Proportion Of Sales","app.dashboard.salePercent.all":"All","app.dashboard.salePercent.online":"Online","app.dashboard.salePercent.offline":"Offline","app.dashboard.timeline.traffic":"Traffic","app.dashboard.timeline.payments":"Payments"}),{"app.guide.guideIntro":"The guide page is useful for\n                           some people who entered the \n                           project for the first time. \n                           You can briefly introduce \n                           the features of the project. \n                           Demo is based on","app.guide.showGuide":"Show Guide","app.guide.driverjs.closeBtnText":"Close","app.guide.driverjs.prevBtnText":"Previous","app.guide.driverjs.nextBtnText":"Next","app.guide.driverjs.doneBtnText":"Done","app.guide.driverStep.sidebarTrigger.title":"Sidebar Trigger","app.guide.driverStep.sidebarTrigger.description":"Open and close the Sidebar","app.guide.driverStep.notices.title":"Notices","app.guide.driverStep.notices.description":"All notification messages were be displayed here","app.guide.driverStep.switchLanguages.title":"Switch Languages","app.guide.driverStep.switchLanguages.description":"You can click here to switch languages","app.guide.driverStep.pageTabs.title":"Page Tabs","app.guide.driverStep.pageTabs.description":"The history of the page you visited will be displayed here","app.guide.driverStep.pageTabsActions.title":"Page Tabs Actions","app.guide.driverStep.pageTabsActions.description":"Click here to do some quick operations to the Page Tabs","app.guide.driverStep.switchTheme.title":"Switch Theme","app.guide.driverStep.switchTheme.description":"Click here to switch system theme color"}),{"app.documentation.introduction.title":"Introduction","app.documentation.introduction.description":"\n    web is an enterprise - level background management system template based on react and ant-design.\n    Use the latest React Hooks API instead of the traditional class API,\n    Typescript was also used to standardize code readability and maintainability, enhancing development efficiency,\n    Use redux as the global state management library.\n    This project allows you to quickly develop a new project template and remove some of the code according to your needs. \n    If you don't have a need to use templates,\n    This project will also be a good resource for learning react and typescript.\n    In addition, if you think this project is worth optimizing or modifying, \n    please feel free to ask, my contact information will be shown at the bottom of the article.\n  ","app.documentation.catalogue.title":"Catalogue","app.documentation.catalogue.description":"Click the catalogue to quickly reach the specified content","app.documentation.catalogue.list.layout":"Layout","app.documentation.catalogue.list.routes":"Routes","app.documentation.catalogue.list.request":"HTTP Request","app.documentation.catalogue.list.theme":"Theme","app.documentation.catalogue.list.typescript":"Typescript","app.documentation.catalogue.list.international":"International"}),c=Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)(Object(a.a)({},{"app.settings.menuMap.basic":"基本设置","app.settings.menuMap.security":"安全设置","app.settings.menuMap.binding":"账号绑定","app.settings.menuMap.notification":"新消息通知","app.settings.basic.avatar":"头像","app.settings.basic.change-avatar":"更换头像","app.settings.basic.email":"邮箱","app.settings.basic.email-message":"请输入您的邮箱!","app.settings.basic.nickname":"昵称","app.settings.basic.nickname-message":"请输入您的昵称!","app.settings.basic.profile":"个人简介","app.settings.basic.profile-message":"请输入个人简介!","app.settings.basic.profile-placeholder":"个人简介","app.settings.basic.country":"国家/地区","app.settings.basic.country-message":"请输入您的国家或地区!","app.settings.basic.geographic":"所在省市","app.settings.basic.geographic-message":"请输入您的所在省市!","app.settings.basic.address":"街道地址","app.settings.basic.address-message":"请输入您的街道地址!","app.settings.basic.phone":"联系电话","app.settings.basic.phone-message":"请输入您的联系电话!","app.settings.basic.update":"更新基本信息","app.settings.security.strong":"强","app.settings.security.medium":"中","app.settings.security.weak":"弱","app.settings.security.password":"账户密码","app.settings.security.password-description":"当前密码强度","app.settings.security.phone":"密保手机","app.settings.security.phone-description":"已绑定手机","app.settings.security.question":"密保问题","app.settings.security.question-description":"未设置密保问题，密保问题可有效保护账户安全","app.settings.security.email":"备用邮箱","app.settings.security.email-description":"已绑定邮箱","app.settings.security.mfa":"MFA 设备","app.settings.security.mfa-description":"未绑定 MFA 设备，绑定后，可以进行二次确认","app.settings.security.modify":"修改","app.settings.security.set":"设置","app.settings.security.bind":"绑定","app.settings.binding.taobao":"绑定淘宝","app.settings.binding.taobao-description":"当前未绑定淘宝账号","app.settings.binding.alipay":"绑定支付宝","app.settings.binding.alipay-description":"当前未绑定支付宝账号","app.settings.binding.dingding":"绑定钉钉","app.settings.binding.dingding-description":"当前未绑定钉钉账号","app.settings.binding.bind":"绑定","app.settings.notification.password":"账户密码","app.settings.notification.password-description":"其他用户的消息将以站内信的形式通知","app.settings.notification.messages":"系统消息","app.settings.notification.messages-description":"系统消息将以站内信的形式通知","app.settings.notification.todo":"待办任务","app.settings.notification.todo-description":"待办任务将以站内信的形式通知","app.settings.open":"开","app.settings.close":"关"}),{"header.avator.account":"个人设置","header.avator.logout":"退出登录","global.theme.switchTheme":"切换主题","global.theme.switchingTheme":"切换主题中...","global.theme.switchThemeDone":"主题更新成功","global.theme.switchThemeFail":"主题更新失败"}),{"tagsView.operation.closeCurrent":"关闭当前","tagsView.operation.closeOther":"关闭其他","tagsView.operation.closeAll":"关闭全部","tagsView.operation.dashboard":"首页"}),{"title.login":"登录","title.dashboard":"首页","title.documentation":"文档","title.guide":"引导页","title.permission.route":"路由权限","title.permission.button":"按钮权限","title.permission.config":"权限配置","title.account":"个人设置","title.notFount":"404","title.annotation":"标注","title.annotationConfig":"标注配置","title.pointCloud":"点云标注"}),{"gloabal.tips.notfound":"对不起，您访问的页面不存在。","gloabal.tips.unauthorized":"对不起，您没有权限访问此页。","gloabal.tips.loginResult":"看到此页面代表您已登录。","gloabal.tips.goToLogin":"去登录","gloabal.tips.login":"登录","gloabal.tips.username":"用户名","gloabal.tips.password":"密码","gloabal.tips.rememberUser":"记住用户","gloabal.tips.backHome":"返回首页","gloabal.tips.operation":"操作","gloabal.tips.authorize":"授权","gloabal.tips.delete":"删除","gloabal.tips.create":"新建","gloabal.tips.modify":"修改","gloabal.tips.search":"搜索","gloabal.tips.reset":"重置","gloabal.tips.deleteConfirm":"确定要删除此条数据吗？"}),{"app.permission.role.name":"角色名称","app.permission.role.code":"角色编码","app.permission.role.status":"状态","app.permission.role.status.all":"全部","app.permission.role.status.enabled":"启用","app.permission.role.status.disabled":"禁用","app.permission.role.nameRequired":"请输入角色名称","app.permission.role.codeRequired":"请输入角色编码","app.permission.role.statusRequired":"请选择角色启用状态"}),{"app.dashboard.overview.totalSales":"总销售额","app.dashboard.overview.visits":"访问量","app.dashboard.overview.payments":"支付笔数","app.dashboard.overview.operationalEffect":"运营活动效果","app.dashboard.overview.wowChange":"周同比","app.dashboard.overview.dodChange":"日同比","app.dashboard.overview.dailySales":"日销售额","app.dashboard.overview.visits.dailyVisits":"日访问量","app.dashboard.overview.conversionRate":"转化率","app.dashboard.salePercent.proportionOfSales":"销售额类别占比","app.dashboard.salePercent.all":"全部","app.dashboard.salePercent.online":"线上","app.dashboard.salePercent.offline":"线下","app.dashboard.timeline.traffic":"客流量","app.dashboard.timeline.payments":"支付笔数"}),{"app.guide.guideIntro":"引导页对于一些第一次进入项目的人很有用，你可以简单介绍下项目的功能。本 Demo 是基于","app.guide.showGuide":"打开引导","app.guide.driverjs.closeBtnText":"关闭","app.guide.driverjs.prevBtnText":"上一步","app.guide.driverjs.nextBtnText":"下一步","app.guide.driverjs.doneBtnText":"完成","app.guide.driverStep.sidebarTrigger.title":"Siderbar开关","app.guide.driverStep.sidebarTrigger.description":"打开和关闭Siderbar","app.guide.driverStep.notices.title":"通知中心","app.guide.driverStep.notices.description":"所有通知消息都会显示在这里","app.guide.driverStep.switchLanguages.title":"切换语言","app.guide.driverStep.switchLanguages.description":"你可以点击这里来切换语言","app.guide.driverStep.pageTabs.title":"页面标签","app.guide.driverStep.pageTabs.description":"你的浏览历史会在这里集中显示","app.guide.driverStep.pageTabsActions.title":"标签操作栏","app.guide.driverStep.pageTabsActions.description":"点击这里可以对页面标签做一些快捷操作","app.guide.driverStep.switchTheme.title":"切换主题","app.guide.driverStep.switchTheme.description":"点击这里切换系统主题颜色"}),{"app.documentation.introduction.title":"介绍","app.documentation.introduction.description":"\n    web是一个基于react和ant-design开发的企业级中后台管理系统模板。\n    使用了最新的React Hooks API代替了传统的class API，\n    并且使用了typescript来规范代码的可读性和维护性，增强开发效率，\n    使用redux作为全局的状态管理库。\n    此项目可以你的新项目模板快速开发，根据自己的需求删除掉部分代码。如果你没有使用模板的需求，\n    此项目也会是一个学习react和typescript的好的资料。\n    此外，如果你觉得此项目有值得优化或修改的地方，也欢迎提出，我的联系方式将会显示在文章底部。\n  ","app.documentation.catalogue.title":"目录","app.documentation.catalogue.description":"点击目录到达指定内容","app.documentation.catalogue.list.layout":"布局","app.documentation.catalogue.list.routes":"路由","app.documentation.catalogue.list.request":"网络请求","app.documentation.catalogue.list.theme":"主题","app.documentation.catalogue.list.typescript":"Typescript","app.documentation.catalogue.list.international":"国际化"}),l=n(1065),s=n(418),u=n(9),d=["formatMessage"],h={zh_CN:c,en_US:o},g=function(e){var t=Object.assign({},(Object(r.a)(e),e)),n=Object(a.a)(Object(a.a)({},t),{},{children:void 0});return Object(u.b)(l.a,Object(a.a)(Object(a.a)({},n),{},{id:t.id}))},f=function(){var e=Object(s.a)(),t=e.formatMessage,n=Object(i.a)(e,d),r=t;return Object(a.a)(Object(a.a)({},n),{},{formatMessage:r})}},271:function(e){e.exports=JSON.parse('{"fileInfo":{"type":"img","list":[{"url":"http://localhost:3000/src/img/annotationCommon/configNotMatch.png"},{"url":"http://localhost:3000/src/img/annotationCommon/emptyConfig.png"}]},"textConfig":[{"label":"我的描述","key":"描述的关键","required":true,"default":"","maxLength":200},{"label":"我的描述1","key":"描述的关键1","required":true,"default":"","maxLength":200}],"attribute":[{"key":"玩偶发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的","value":"玩偶发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的发生的"},{"key":"玩偶a","value":"玩偶a"},{"key":"玩偶b","value":"玩偶b"},{"key":"玩偶的风格的","value":"玩偶的风格的"},{"key":"玩偶d","value":"玩偶d"},{"key":"玩偶e","value":"玩偶e"},{"key":"玩偶f","value":"玩偶f"},{"key":"玩偶g","value":"玩偶g"},{"key":"玩偶h","value":"玩偶h"},{"key":"玩偶i","value":"玩偶i"},{"key":"玩偶j","value":"玩偶j"},{"key":"玩偶k","value":"玩偶k"},{"key":"玩偶l","value":"玩偶l"},{"key":"玩偶m","value":"玩偶m"},{"key":"玩偶n","value":"玩偶n"},{"key":"玩偶o","value":"玩偶o"},{"key":"玩偶p","value":"玩偶p"},{"key":"玩偶q","value":"玩偶q"},{"key":"玩偶r","value":"玩偶r"}],"tagList":[{"key":"类别1","value":"class1","isMulti":true,"subSelected":[{"key":"选项1","value":"option1","isDefault":true},{"key":"选项2","value":"option2","isDefault":false}]},{"key":"类别2","value":"class2","isMulti":true,"subSelected":[{"key":"a选项1","value":"aoption1","isDefault":true},{"key":"a选项2","value":"aoption2","isDefault":false}]}],"tools":[{"tool":"lineTool","config":{"isShowCursor":false,"lineType":0,"lineColor":1,"edgeAdsorption":true,"outOfTarget":true,"copyBackwardResult":true,"attributeConfigurable":true,"textConfigurable":true,"textCheckType":4,"customFormat":"^[\\\\s\\\\S]{1,3}$","lowerLimitPointNum":4,"upperLimitPointNum":"","attributeList":[{"key":"lineTool","value":"lineTool"}]}},{"tool":"pointTool","config":{"isShowCursor":false,"attributeConfigurable":true,"copyBackwardResult":true,"textConfigurable":true,"textCheckType":0,"customFormat":"","attributeList":[{"key":"pointTool","value":"pointTool"}]}},{"tool":"polygonTool","config":{"isShowCursor":false,"lineType":0,"lineColor":0,"drawOutsideTarget":false,"edgeAdsorption":true,"copyBackwardResult":true,"attributeConfigurable":true,"textConfigurable":true,"textCheckType":0,"customFormat":"","attributeList":[{"key":"polygonTool","value":"polygonTool"}]}},{"tool":"rectTool","config":{"isShowCursor":false,"showConfirm":false,"skipWhileNoDependencies":false,"drawOutsideTarget":false,"copyBackwardResult":true,"minWidth":1,"minHeight":1,"attributeConfigurable":true,"textConfigurable":true,"textCheckType":4,"customFormat":"","attributeList":[{"key":"rectTool","value":"rectTool"}]}}]}')},272:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return compare}));var jsonParse=function jsonParse(value){return JSON.parse(value,(function(k,v){try{return eval(decodeURIComponent(v))instanceof RegExp?eval(decodeURIComponent(v)):v}catch(e){return v}}))},jsonStringify=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,(function(e,t){return t instanceof RegExp?encodeURIComponent(t.toString()):t}),t)},compare=function e(t,n){if(t===n)return!0;var i=Array.prototype.slice.call(arguments),a=function(e,t){return Object.prototype.toString.call(e)==="[object ".concat(t,"]")};if(i.every((function(e){return a(e,"Object")}))&&Object.keys(t).length===Object.keys(n).length){for(var r in t)if(t.hasOwnProperty(r)&&!e(t[r],n[r]))return!1}else{if(!i.every((function(e){return a(e,"Array")}))||t.length!==n.length)return!1;for(var o in t)if(!e(t[o],n[o]))return!1}return!0}},362:function(e,t,n){},370:function(e){e.exports=JSON.parse('{"tools":[{"tool":"pointCloudTool","config":{"attributeConfigurable":true,"lowerLimitPointsNumInBox":5,"attributeList":[{"key":"pcTool","value":"pcTool"}]}}],"attribute":[{"key":"奥迪","value":"奥迪","text":[{"key":"aodi text","value":"aodi text value"}]},{"key":"宝马","value":"宝马","text":[{"key":"BMW text","value":"BMW text value"}]},{"key":"奔驰","value":"奔驰","text":[{"key":"benchi text","value":"benchi text value"}]},{"key":"大众","value":"大众","text":[{"key":"DAZHONG text","value":"DAZHONG text value"}]}]}')},426:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i=n(427);function a(t,n,a){var r=void 0===n?null:n,o=function(t,n){return e.from(t,"base64").toString(n?"utf16":"utf8")}(t,void 0!==a&&a),c=o.indexOf("\n",10)+1,l=o.substring(c)+(r?"//# sourceMappingURL="+r:"");return function(e){return new i.a(l,Object.assign({},e,{eval:!0}))}}}).call(this,n(499).Buffer)},427:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var i=null;try{var a="function"==typeof e.require&&n(!function(){var e=new Error("Cannot find module 'worker_threads'");throw e.code="MODULE_NOT_FOUND",e}())||"function"==typeof require&&require("worker_threads")||n(!function(){var e=new Error("Cannot find module 'worker_threads'");throw e.code="MODULE_NOT_FOUND",e}());i=a.Worker}catch(e){}}).call(this,n(275)(e))},428:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var i="[object process]"===Object.prototype.toString.call(void 0!==e?e:0);function a(){return i}}).call(this,n(274))},464:function(e,t,n){},481:function(e,t,n){},506:function(e,t,n){},965:function(e,t,n){},966:function(e,t,n){var i={"./lineImg.png":[1038,12],"./pointImg.png":[1039,13],"./polygonImg.png":[1040,14],"./rectImg.png":[1041,15],"./tagImg.png":[1042,16],"./textImg.png":[1043,17]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n(a)}))}a.keys=function(){return Object.keys(i)},a.id=966,e.exports=a},967:function(e,t,n){var i={"./lineTool":[372,0],"./lineTool.json":[372,0],"./pointTool":[373,1],"./pointTool.json":[373,1],"./polygonTool":[374,2],"./polygonTool.json":[374,2],"./rectTool":[375,3],"./rectTool.json":[375,3],"./tagTool":[376,4],"./tagTool.json":[376,4],"./textTool":[377,5],"./textTool.json":[377,5]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id=967,e.exports=a},968:function(e,t,n){var i={"./lineTool.json":[372,0],"./pointTool.json":[373,1],"./polygonTool.json":[374,2],"./rectTool.json":[375,3],"./tagTool.json":[376,4],"./textTool.json":[377,5]};function a(e){if(!n.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,3)}))}a.keys=function(){return Object.keys(i)},a.id=968,e.exports=a},969:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=969},970:function(e,t,n){},971:function(e,t,n){},972:function(e,t,n){}},[[1033,8,9]]]);